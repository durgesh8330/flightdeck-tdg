<sa-modal [modal]="modalDetails" [arrayOfCategory]="arrayOfCategory" (buttonClickedTD)="buttonClickedTD($event)" (modalClosed)="modalClosed()"></sa-modal>
<div *ngIf="TaskDetails" class="col-sm-12 no-padding">
    <div class="wrap wrap-scroll" *ngIf="!displayWCMDetails">
        <div class="alert alert-success alert-dismissible" *ngIf="IsSucess" style="background-color: green;color: #fff;">
            <strong>Success! </strong>{{message}}.
            <button type="button" class="close" data-dismiss="alert" (click)="IsSucess = false">&times;</button>
        </div>
        <div class="alert alert-danger alert-dismissible" *ngIf="IsError && !isModalErrMsgSet" style="background-color: #ce2f2f;color: #fff;">
            <strong>Error! </strong>{{message}}.
            <button type="button" class="close" data-dismiss="alert" style="background-color: #fff;" (click)="IsError = false">&times;</button>
        </div>
        <div class="resizable resizable1 example-2">
            <div class="inner">
                <form name="form" class="task-details-form col-sm-12 no-padding" (ngSubmit)="f.form.valid && hideSection()"
                    #f="ngForm" novalidate>
                    <div class="form-group col-sm-12 no-padding">
                        <div class="sticky-tab-header spr-tabs">
                            <ul class="nav nav-tabs tabs-left text-align-center" id="demo-pill-nav">
                                <!-- <li [class.active]="leftSideTabs.tab == 'task-details'">
                                    <a (click)="leftSideTabs.tab = 'task-details'">
                                        Task Details</a>
                                </li>
                                <li [class.active]="leftSideTabs.tab == 'log-details'">
                                    <a (click)="(leftSideTabs.tab = 'log-details');">
                                        Log Details</a>
                                </li> -->
                                <li [class.active]="leftSideTabs.tab == 'task-details'">
                                        <a (click)="selectTab('task-details')">Task Details</a>
                                    </li>
                                    <li [class.active]="leftSideTabs.tab == 'log-details'">
                                        <a (click)="selectTab('log-details')">Log Details</a>
                                    </li>
                                <li *ngIf="isSPRApplication" [class.active]="leftSideTabs.tab == 'version-details'">
                                    <a (click)="(leftSideTabs.tab = 'version-details');">
                                        Version Details</a>
                                </li>
                            </ul>

                            <div *ngIf="leftSideTabs.tab == 'task-details'" class="pull-right">
                                <div *ngFor="let layoutElem of pageLayout.pageLayoutTemplate">
                                    <div *ngIf="layoutElem.sectionHeader == 'Buttons'" style="padding-top:5px;">
                                        <div *ngFor="let button of layoutElem.fieldsList" style="display:inline-block">
                                            <!-- <div *ngIf="button.visible && button.type == 'iconButton'" (click)="onRefreshTaskDetails('taskdetails')"
                                                class="pull-right margin-right-13">
                                                <i class="material-icons">cached</i>
                                            </div> -->
                                            <!-- <a class="cm-refresh pull-right margin-right-13" *ngIf="button.visible && button.type == 'iconButton' && button.fieldName != 'action'"
                                                (click)="onRefreshTaskDetails('taskdetails')" style="font-size:150%">
                                                <span class="glyphicon glyphicon-refresh"></span>
                                            </a> -->

                                            <!-- <a  *ngIf="button.visible && button.type == 'iconButton'" (click)="onRefreshTaskDetails('taskdetails')"
                                            class="pull-right margin-right-13 cm-refresh" style="font-size:150%">
                                                material-icons
                                            </a> -->

                                            <div id="Profile Management" *ngIf="button.visible && button.type == 'iconButton' && button.fieldName == 'action' && actionListTD.length > 0"
                                                class=" pull-right dropdown" dropdown [insideClick]="true">
                                                <span class="project-selector dropdown-toggle" dropdownToggle>
                                                    <a class="btn btn-default buttons-html5 show-hide">
                                                        <i class="fa fa-cog showimg"></i>
                                                        <i class="fa fa-cog hideimg"></i>
                                                    </a>
                                                </span>
                                                <ul *dropdownMenu class="dropdown-menu ColVis_collection">
                                                    <li class="fileddropdown" *ngFor="let fieldname of actionListTD">
                                                        <button class="btn blue__btn btn-block" (click)="OnActionTD(fieldname.value)"> <!--btn btn-secondary blue__btn btn-sm btn-block"filedNameOverflow" -->
                                                            <span>{{fieldname.value}}</span>
                                                        </button>
                                                    </li>
                                                </ul>
                                            </div>

                                           <!--  <button *ngIf="button.visible && button.type == 'Button'" type="submit"
                                                class="btn btn-success blue__btn pull-right margin-right-13"
                                                mat-raised-button>
                                                {{button.label}}
                                            </button> -->
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>
                        
                        <ng-container *ngIf="template == 'R2DG Automation View'">
                                <tabset>
                                        <tab [active]="leftSideTabs.tab == 'task-details'" class="left-wcm-tab-pane" style="display:block;">
                            <div class="col-sm-12 cm-mrg-left-30" *ngIf="leftSideTabs.tab == 'task-details'" style="margin-top: 50px;">
                                <div class="form-group" style="display: flex;">
                                    <ng-container *ngFor="let layoutElem of pageLayout['pageLayoutTemplate']">
                                        <ng-container *ngIf="layoutElem.sectionHeader == 'Header Details'">
                                            <ng-container *ngFor="let value of layoutElem.fieldsList; let i = index">
                                                <div class="input-group">
                                                    <label class="key">{{value.label}}</label>
                                                    <label class="value">{{taskDetails[value.fieldName]}}</label>
                                                </div>
                                            </ng-container>
                                        </ng-container>
                                    </ng-container>
                                </div>
                            </div>
                            <div class="col-md-12" *ngIf="taskDetails['taskSectionModels'] && taskDetails['taskSectionModels'].length > 0 && leftSideTabs.tab == 'task-details'">
                                    <div class="clm-card" *ngFor="let component of taskDetails['taskSectionModels']">
                                        <div class="panel panel-primary spr-panel">
                                            <div class="panel-heading">{{component['header']}}</div>
                                            <div class="panel-body" style="display: grid;grid-template-columns: auto auto auto auto;">
                                                <div class="col-xs-12 col-md-12 col-sm-12 col-lg-12 no-padding-right" *ngFor="let elem of component['paramList']">
                                                    <label class="control-label m-0" *ngIf="elem.paramFieldLayout" style="margin-left: -5px; color: #979797; padding-bottom: 0;">
                                                        {{elem.paramFieldLayout.label}}
                                                    </label>
                                                    <textarea class="c-inpt-fc form-control font-weight-500 pt-0" style="height: 38px !important; font-weight: 500 !important;" autosize name="{{ elem.name }}" [disabled]="true"  [(ngModel)]="elem['value']"></textarea>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </tab>
                            
                            <tab [active]="leftSideTabs.tab == 'task-details'" class="left-wcm-tab-pane" style="display: block;">
                                    <div *ngIf="leftSideTabs.tab == 'log-details'">
                                            <div class="left-tab-pane" style="padding: 15px !important;">
                                                <sa-table *ngIf = "showLogs"  class="col-md-12 p-0" [pagination]="pagination" [actionButton]="actionButton" [actionColumn]="actionColumn"
                                                    [tableHeader]="actionColumn" [tableData]="LogDetailsParameter['tableData']" [tableOtherContent]="LogDetailsParameter" [filter]="filter"
                                                    [tablePaginationData]="tablePaginationData" (showAdditionalDetailsParent)="showAdditionalDetails($event, taskDetails)" 
                                                    (addNewRowParent)="addNewRow()" (onSaveParent)="onSaveClick($event)"
                                                        (onEditParent)="onEditClick($event)"
                                                    (onDeleteParent)="onDeleteClick($event)" (onCloseParent)="onCloseClick($event)"
                                                    (openTabParent)="openDetailViewTD($event)" (expandRow)="expandRow($event)" 
                                                    (refresh)="onRefreshLogs()" >
                                                </sa-table>
                                            </div>
                                        </div>
                            </tab>
                            </tabset>
                            
                        </ng-container>
                        
                        <ng-container *ngIf="template != 'R2DG Automation View'">
                                <sa-boxed-layout [leftSideTabs]="leftSideTabs" [pageLayout]="pageLayout" [logPageLayout]="logPageLayout"
                                [taskDetails]="taskDetails" [isShow]="'taskdetails'" [logData]="logData" [loaderTaskDetail]="loaderTaskDetail"
                                [activityLog]="activityLog" (filterValue)="filterTaskResult($event)" [pagination]="pagination"
                                [actionButton]="actionButton" [actionColumn]="actionColumn" [tableHeader]="actionColumn"
                                [tableData]="displayTaskResult" [tableOtherContent]="LogDetailsParameter" [filter]="actionColumn"
                                [tablePaginationData]="tablePaginationData" (showAdditionalDetailsParent)="showAdditionalDetails($event, taskDetails)" (pageChangedParent)="onPaginateInnerGrid($event)"
                                (paginationChangeParent)="onLimitChange($event)" (filterColumnParent)="LogfilterTaskResult($event)"
                                (onSortParent)="onLogSortSelection($event)" (previousAll)="previousTasks()" (previous)="onGridPrevious()"
                                (nextAll)="nextTasks()" (next)="onGridNext()" (OpenDuaDateDialog)="OpenDuaDateDialog()" (OpenCancelDialog)="OpenCancelDialog()" class="col-sm-12 no-padding padding-top-60">
                            </sa-boxed-layout> 
                        </ng-container>
                        <!-- <sa-boxed-layout [leftSideTabs]="leftSideTabs" [pageLayout]="pageLayout" [logPageLayout]="logPageLayout"
                            [taskDetails]="taskDetails" [isShow]="'taskdetails'" [logData]="logData" [loaderTaskDetail]="loaderTaskDetail"
                            [activityLog]="activityLog" (filterValue)="filterTaskResult($event)" [pagination]="pagination"
                            [actionButton]="actionButton" [actionColumn]="actionColumn" [tableHeader]="actionColumn"
                            [tableData]="displayTaskResult" [tableOtherContent]="LogDetailsParameter" [filter]="actionColumn"
                            [tablePaginationData]="tablePaginationData" (showAdditionalDetailsParent)="showAdditionalDetails($event, taskDetails)" (pageChangedParent)="onPaginateInnerGrid($event)"
                            (paginationChangeParent)="onLimitChange($event)" (filterColumnParent)="LogfilterTaskResult($event)"
                            (onSortParent)="onLogSortSelection($event)" (previousAll)="previousTasks()" (previous)="onGridPrevious()"
                            (nextAll)="nextTasks()" (next)="onGridNext()" (OpenDuaDateDialog)="OpenDuaDateDialog()" (OpenCancelDialog)="OpenCancelDialog()" class="col-sm-12 no-padding padding-top-60">
                        </sa-boxed-layout> -->

                        <!-- <tabset>
                            <tab [active]="leftSideTabs.tab == 'task-details'" class="left-tab-pane">
                                <div *ngIf="loaderTaskDetail" class="task_loader">
                                    <img src="assets/img/Ellipsis-1s-200px.svg" width="125px" alt="task" />
                                </div>
                                <div *ngIf="!displayWCMDetails && !loaderTaskDetail">
                                    <div *ngFor="let layoutElem of pageLayout['pageLayoutTemplate']">
                                        <div class="tab-pane show active search-tab-content" [id]="task-details" role="tabpanel"
                                            aria-labelledby="task-details-tab" *ngIf="layoutElem.sectionHeader !== 'Buttons'">
                                            <div class="inner widget-name">
                                                <div *ngIf="showViewSection && layoutElem.sectionHeader != 'Other Fields'">
                                                    <div class="row">
                                                        <div id="content1">
                                                            <sa-widgets-grid>
                                                                <article class="col-sm-12">
                                                                    <div sa-widget [editbutton]="false" [fullscreenbutton]="true"
                                                                        [deletebutton]="false" [colorbutton]="true"
                                                                        [togglebutton]="true" name="taskDetailWidget">

                                                                        <header>
                                                                            <span class="widget-icon">
                                                                                <i class="fa fa-table"></i>
                                                                            </span>

                                                                            <h2>{{layoutElem.sectionHeader}}</h2>
                                                                        </header>

                                                                        <div class="dynamic-table">
                                                                            <div class="widget-body">
                                                                                <div class="table-responsive">
                                                                                    <div class="panel-body general-tasks">
                                                                                        <div class="row">
                                                                                            <div class="col-xs-12 col-md-6 col-sm-6 col-lg-6 no-padding-right elemWrapper"
                                                                                                *ngFor="let elem of layoutElem.fieldsList">
                                                                                                <div class="" *ngIf="elem.type == 'TextBox' && elem.visible">
                                                                                                    <label [class]="elem.labelCssClass">
                                                                                                        {{elem.label}}
                                                                                                    </label>
                                                                                                    <div [class]="elem.inputWrapperCssClass"
                                                                                                        *ngIf="elem.fieldName !== 'ng2Taskdd'">
                                                                                                        <input type="text"
                                                                                                            [name]="elem.fieldName"
                                                                                                            [(ngModel)]="taskDetails[elem.model]"
                                                                                                            *ngIf="!taskDetails[elem.model] || taskDetails[elem.model]==''"
                                                                                                            [disabled]="true"
                                                                                                            [required]="elem.required"
                                                                                                            [readonly]="!elem.editable"
                                                                                                            class="form-control" />
                                                                                                        <input type="text"
                                                                                                            [name]="elem.fieldName"
                                                                                                            [(ngModel)]="taskDetails[elem.model]"
                                                                                                            *ngIf="taskDetails[elem.model] && taskDetails[elem.model].length<40"
                                                                                                            [disabled]="true"
                                                                                                            [required]="elem.required"
                                                                                                            [readonly]="!elem.editable" 
                                                                                                            class="form-control" />
                                                                                                        <textarea [class]="elem.inputClass"
                                                                                                            [name]="elem.fieldName"
                                                                                                            [(ngModel)]="taskDetails[elem.model]"
                                                                                                            *ngIf="taskDetails[elem.model] && taskDetails[elem.model].length>=40"
                                                                                                            [disabled]="true"
                                                                                                            [required]="elem.required"
                                                                                                            [readonly]="!elem.editable"
                                                                                                            class="form-control" ></textarea>
                                                                                                    </div>
                                                                                                    <div [class]="elem.inputWrapperCssClass"
                                                                                                        *ngIf="elem.fieldName == 'ng2Taskdd'">
                                                                                                        <input type="text"
                                                                                                            [name]="elem.fieldName"
                                                                                                            [(ngModel)]="taskDetails['taskName']"
                                                                                                            [disabled]="elem.disabled"
                                                                                                            [required]="elem.required"
                                                                                                            [readonly]="!elem.editable" 
                                                                                                            class="form-control" />
                                                                                                    </div>
                                                                                                </div>

                                                                                                <div class="" *ngIf="elem.type == 'MultiSelect' && elem.visible">
                                                                                                    <label [class]="elem.labelCssClass">
                                                                                                        {{elem.label}}
                                                                                                    </label>
                                                                                                    <div [class]="elem.inputWrapperCssClass">
                                                                                                        <ng-select2 [data]="workGroupNamenew"
                                                                                                            [options]="elem.options"
                                                                                                            [width]="500"
                                                                                                            [class]="elem.inputClass"
                                                                                                            [name]="elem.fieldName"
                                                                                                            [(ngModel)]="taskDetails[elem.model]"
                                                                                                            [disabled]="elem.disabled"
                                                                                                            [required]="elem.required">
                                                                                                        </ng-select2>
                                                                                                    </div>
                                                                                                </div>

                                                                                                <div class="" *ngIf="elem.type == 'switch' && elem.visible">
                                                                                                    <label [class]="elem.labelCssClass">
                                                                                                        {{elem.label}}
                                                                                                    </label>
                                                                                                    <div [class]="elem.inputWrapperCssClass">
                                                                                                        <on-off-switch
                                                                                                            title=""
                                                                                                            [(model)]="taskDetails[elem.model]"
                                                                                                            [disabled]="elem.disabled"
                                                                                                            (change)="this[elem.change]()">
                                                                                                        </on-off-switch>
                                                                                                    </div>
                                                                                                </div>

                                                                                                <div class="" *ngIf="elem.type == 'textarea' && elem.visible">
                                                                                                    <label [class]="elem.labelCssClass">
                                                                                                        {{elem.label}}
                                                                                                    </label>
                                                                                                    <div [class]="elem.inputWrapperCssClass">
                                                                                                        <textarea [class]="elem.inputClass"
                                                                                                            [name]="elem.fieldName"
                                                                                                            [(ngModel)]="taskDetails[elem.model]"
                                                                                                            [disabled]="elem.disabled"
                                                                                                            [required]="elem.required"
                                                                                                            [readonly]="!elem.editable"
                                                                                                            [rows]="elem.rows"
                                                                                                            [ngClass]="{ 'was-validated': f.submitted && taskInstNotes && taskInstNotes.invalid }">
                                                                                                    </textarea>
                                                                                                    </div>
                                                                                                </div>

                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>

                                                                    </div>
                                                                </article>
                                                            </sa-widgets-grid>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div *ngIf="taskDetails['taskSectionModels'] && taskDetails['taskSectionModels'].length > 0 && layoutElem.sectionHeader != 'Other Fields'">
                                                    <div class="row" *ngFor="let component of taskDetails['taskSectionModels']">
                                                        <div id="content1">
                                                            <sa-widgets-grid>
                                                                <article class="col-sm-12">
                                                                    <div sa-widget [editbutton]="false" [fullscreenbutton]="true"
                                                                        [deletebutton]="false" [colorbutton]="true"
                                                                        [togglebutton]="true" name="{{component['header']}}Widget">

                                                                        <header>
                                                                            <span class="widget-icon">
                                                                                <i class="fa fa-table"></i>
                                                                            </span>

                                                                            <h2>{{component['header']}}</h2>
                                                                        </header>

                                                                        <div class="dynamic-table">
                                                                            <div class="widget-body">
                                                                                <div class="table-responsive">
                                                                                    <div class="panel-body general-tasks">
                                                                                        <div class="row">
                                                                                            <ng-container *ngFor="let elem of component['paramList']">
                                                                                                <div class="col-xs-12 col-md-6 col-sm-6 col-lg-6 no-padding-right elemWrapper">
                                                                                                    <label [class]="layoutElem.fieldsList[0].labelCssClass">
                                                                                                        {{elem.paramFieldLayout.label}}
                                                                                                    </label>
                                                                                                    <div [class]="layoutElem.fieldsList[0].inputWrapperCssClass">
                                                                                                        <input type="text"
                                                                                                            [class]="layoutElem.fieldsList[0].inputClass"
                                                                                                            [name]="elem.name || 'tempName'"
                                                                                                            [(ngModel)]="elem['value']"
                                                                                                            *ngIf="!elem['value'] || elem['value']==''"
                                                                                                            [disabled]="false"
                                                                                                            [required]="layoutElem.fieldsList[0].required" />
                                                                                                        <input type="text"
                                                                                                            [class]="layoutElem.fieldsList[0].inputClass"
                                                                                                            [name]="elem.name || 'tempName'"
                                                                                                            [(ngModel)]="elem['value']"
                                                                                                            *ngIf="elem['value'] && elem['value'].length<40"
                                                                                                            [disabled]="false"
                                                                                                            [required]="layoutElem.fieldsList[0].required" />
                                                                                                        <textarea [class]="layoutElem.fieldsList[0].inputClass"
                                                                                                            [name]="elem.name || 'tempName'"
                                                                                                            [(ngModel)]="elem['value']"
                                                                                                            *ngIf="elem['value'] && elem['value'].length>=40"
                                                                                                            [disabled]="layoutElem.fieldsList[0].disabled"
                                                                                                            [required]="layoutElem.fieldsList[0].required"
                                                                                                            [readonly]="!elem.editable"></textarea>
                                                                                                    </div>
                                                                                                </div>
                                                                                            </ng-container>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>

                                                                    </div>
                                                                </article>
                                                            </sa-widgets-grid>
                                                        </div>
                                                    </div>
                                                </div>

                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </tab>

                            <tab [active]="leftSideTabs.tab == 'log-details'" class="left-tab-pane">
                                <div *ngIf="loaderTaskDetail" class="task_loader">
                                    <img src="assets/img/Ellipsis-1s-200px.svg" width="125px" alt="task" />
                                </div>

                                <div class="table-responsive" *ngFor="let layoutElem of logPageLayout['pageLayoutTemplate']">

                                    <sa-widgets-grid>

                                        <div sa-widget [editbutton]="false" [fullscreenbutton]="isHeaderControlVisible"
                                            [deletebutton]="false" color="blueDark" [colorbutton]="isHeaderControlVisible"
                                            [togglebutton]="isHeaderControlVisible">
                                            <header>
                                                <span class="widget-icon"> <i class="fa fa-table"></i> </span>

                                                <h2>{{layoutElem['sectionHeader']}}</h2>
                                            </header>
                                            <div id="tablesection" class="tablesectiondiv">
                                                <div id="table-section" class="tab-content padding-10 table-responsive" style="width:100%;">
                                                <table class="table table-bordered table-striped table-hover smart-form">
                                                    <thead>
                                                        <tr>
                                                            <th *ngFor="let elem of layoutElem['fieldsList']">
                                                                <div style="float: left;cursor: pointer;" (click)="onSortSelection(elem.fieldName)">
                                                                    {{elem.label}}
                                                                </div>
                                                                <div style="float: left;width:100%; margin-top: 5px;">
                                                                    <input type="text" (input)="filterTaskResult(elem.fieldName)"
                                                                        [(ngModel)]="activityLog[elem.fieldName]" 
                                                                        [name]="elem.fieldName"
                                                                        [disabled]="elem.editable"
                                                                        style="width: 100%;overflow: visible;padding: 3px;" />
                                                                </div>
                                                            </th>
                                                        </tr>
                                                    </thead>
                                                    <tbody *ngFor="let row of logData">
                                                        <tr>
                                                            <td *ngFor="let elem of layoutElem['fieldsList']">
                                                                <div *ngIf="elem.fieldName == 'activityDetails'" style="width:400px;">
                                                                    <pre class="pre-style" style="white-space: pre-wrap;" >{{row[elem.fieldName]}}</pre>
                                                                </div>
                                                                <div *ngIf="elem.fieldName != 'activityDetails'">
                                                                    {{(elem.fieldName === 'logdetailscreatedById') ? row['createdById'] : (elem.fieldName === 'logdeatilscreatedDateTime')? row['createdDateTime'] : row[elem.fieldName]}}
                                                                </div>
                                                            </td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                                </div>
                                            </div>
                                        </div>
                                    </sa-widgets-grid>
                                </div>

                            </tab>
                        </tabset> -->

                    </div>
                </form>
            </div>
        </div>
        <div class="resizable resizable2">

            <div class="inner">
                <!-- widget content -->
                <div class="widget-body">
                    <div class="tabs-left">
                        <ul class="nav nav-tabs tabs-left text-align-center" id="demo-pill-nav1">
                            <li [class.active]="tab.active" *ngFor="let tab of wcmPageLayout['wcmRelatedTabs']; let tabIndex=index;">
                                <a (click)="loadTabDetails(tabIndex);" *ngIf="tab.visible">
                                    {{tab.title}}
                                </a>
                            </li>
                        </ul>
                        <tabset>
                            <tab [active]="tab.active" *ngFor="let tab of wcmPageLayout['wcmRelatedTabs'];">
                                <sa-widgets-grid>
                                    <article class="col-sm-12">
                                        <div sa-widget *ngIf="tab.visible" [editbutton]="false" [fullscreenbutton]="true"
                                            [deletebutton]="false" [colorbutton]="true" [togglebutton]="true" name="rihtTabContent">
                                            <header>
                                                <span class="widget-icon"> <i class="fa fa-table"></i> </span>
                                                <h2>{{tab.title}} Details</h2>
                                            </header>
                                            <div class="widget-body">
                                                <pre class="wcm_background">{{tab.content}}</pre>
                                            </div>
                                        </div>
                                    </article>
                                </sa-widgets-grid>
                            </tab>
                        </tabset>
                    </div>
                </div>
                <!-- end widget content -->
            </div>
        </div>
        <!-- <span>
                <img src="assets/img/grabBar.png" class="grabBar">
            </span> -->
    </div>

    <div class="wrap wrap-scroll" *ngIf="displayWCMDetails && authorizedLMOSUser">
        <div class="resizable resizable1 example-2">
            <!-- (dblclick)="maximizeLeftPanelWindow();" -->
            <div class="inner">
                <form name="form" class="task-details-form" novalidate>
                    <div class="form-group spr-tabs">
                        <ul class="nav nav-tabs tabs-left text-align-center" id="demo-pill-nav">
                            <li [class.active]="leftSideTabs.tab == 'task-details'">
                                <a (click)="leftSideTabs.tab = 'task-details'">
                                    Task Details</a>
                            </li>
                        </ul>

                        <tabset>
                            <tab [active]="leftSideTabs.tab == 'task-details'" class="left-wcm-tab-pane">
                                <div *ngIf="loaderTaskDetail" class="task_loader">
                                    <!-- <mat-spinner class="spinner-style"></mat-spinner> -->
                                    <!-- <img src="assets/img/task_loader.svg" width="125px" alt="task" /> -->
                                    <!-- <img src="assets/img/Ellipsis-1s-200px.svg" width="125px" alt="task" /> -->
                                    <div class="spinner">
                                        <div class="bounce1"></div>
                                        <div class="bounce2"></div>
                                        <div class="bounce3"></div>
                                    </div>
                                </div>
                                <div *ngIf="TaskLoader" class="task_loader">
                                    <!-- <mat-spinner class="spinner-style"></mat-spinner> -->
                                    <!-- <img src="assets/img/task_loader.svg" width="125px" alt="task" /> -->
                                    <!-- <img src="assets/img/Ellipsis-1s-200px.svg" width="125px" alt="task" /> -->
                                    <div class="spinner">
                                        <div class="bounce1"></div>
                                        <div class="bounce2"></div>
                                        <div class="bounce3"></div>
                                    </div>
                                </div>

                                <div class="row" *ngIf="!TaskLoader">
                                    <div class="errorMessage" *ngIf="lmosButtonDisabled == true">
                                        Trouble Ticket Locked
                                    </div>

                                    <div class="row" *ngIf="taskDetails">
                                        <div class="errorMessage" *ngIf="lmosButtonDisabled == true">
                                            Trouble Ticket Locked
                                        </div>
                                        <div *ngFor="let layoutElem of wcmPageLayout;">
                                            <div *ngIf="layoutElem.sectionHeader == 'Buttons'">
                                                <div class="row mar--l10 actionbtnsection" style="margin-bottom: 5px;">
                                                    <div id="Profile Management" class=" pull-right dropdown" dropdown
                                                        [insideClick]="true" *ngIf="actionListTD.length > 0">
                                                        <span class="project-selector dropdown-toggle" dropdownToggle>
                                                            <a class="btn btn-default buttons-html5 show-hide">
                                                                <i class="fa fa-cog showimg"></i>
                                                                <i class="fa fa-cog hideimg"></i>
                                                            </a>
                                                        </span>
                                                        <ul *dropdownMenu class="dropdown-menu ColVis_collection">
                                                            <li class="fileddropdown" *ngFor="let fieldname of actionListTD">
                                                                <label class="filedNameOverflow" (click)="OnActionTD(fieldname.value)">
                                                                    <span>{{fieldname.value}}</span>
                                                                </label>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                    <div *ngFor="let button of layoutElem.fieldsList">
                                                        <button mat-raised-button (click)="lmosAction(button, template);"
                                                            color="{{button.color}}" class="blue__btn pull-right"
                                                            [class]="button.color == 'warn' ? 'blue__btn pull-right mat-raised-button mat-warn' : 'blue__btn pull-right mat-raised-button mat-primary btn btn-success' "
                                                            [disabled]="lmosButtonDisabled">
                                                            {{ button.label }}
                                                        </button>
                                                    </div>
                                                    <i class="material-icons" (click)="onRefreshTaskDetails('taskdetails')">cached</i>
                                                </div>
                                            </div>
                                            <div *ngIf="layoutElem.sectionHeader == 'Task Summary'">
                                                <sa-widgets-grid>
                                                    <div sa-widget [editbutton]="false" [fullscreenbutton]="true"
                                                        [deletebutton]="false" [colorbutton]="true" [togglebutton]="true"
                                                        name="wcmSummaySection">
                                                        <header>
                                                            <span class="widget-icon"> <i class="fa fa-table"></i>
                                                            </span>
                                                            <h2>{{layoutElem.sectionHeader}}</h2>
                                                        </header>
                                                        <div class="row">
                                                            <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12" *ngFor="let field of layoutElem.fieldsList;">
                                                                <div class="row">
                                                                    <div class="col-md-6"><label class="control-label field-label">{{field.label}}:
                                                                        </label></div>
                                                                    <div class="col-md-6 field-value">
                                                                        {{taskDetails[field.fieldName]}}
                                                                    </div>
                                                                </div>
                                                                <div *ngIf="field.fieldName == 'workgroupList'" class="col-md-6 field-value">
                                                                    <!-- {{taskDetails[field.fieldName] | json}} -->
                                                                    <div *ngFor="let workgroup of taskDetails[field.fieldName]">{{workgroup}}</div>
                                                                    <!--{{(workgroup == 'LMOS')? workgroup : ''}}-->
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </sa-widgets-grid>
                                            </div>
                                            <div *ngIf="layoutElem.sectionHeader != 'Buttons' && layoutElem.sectionHeader != 'Related-Tabs' && layoutElem.sectionHeader != 'Facilities' && layoutElem.sectionHeader != 'Task Summary'">
                                                <sa-widgets-grid>
                                                    <div sa-widget [editbutton]="false" [fullscreenbutton]="true"
                                                        [deletebutton]="false" [colorbutton]="true" [togglebutton]="true"
                                                        name="wcm{{layoutElem.sectionHeader}}">
                                                        <header>
                                                            <span class="widget-icon"> <i class="fa fa-table"></i>
                                                            </span>
                                                            <h2>{{layoutElem.sectionHeader}}</h2>
                                                        </header>
                                                        <div class="row">
                                                            <div *ngFor="let field of layoutElem.fieldsList;">
                                                                <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12"
                                                                    *ngIf="field.fieldName != '3270SCREENDATA'">
                                                                    <div class="row">
                                                                        <div class="col-md-6"><label class="control-label field-label">{{field.label}}:
                                                                            </label></div>
                                                                        <div class="col-md-6 field-value">
                                                                            {{field.fieldValue}}
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </sa-widgets-grid>
                                            </div>
                                            <div *ngIf="layoutElem.sectionHeader == 'Facilities'">
                                                <sa-widgets-grid>
                                                    <div sa-widget [editbutton]="false" [fullscreenbutton]="true"
                                                        [deletebutton]="false" [colorbutton]="true" [togglebutton]="true"
                                                        name="wcmFacilities">
                                                        <header>
                                                            <span class="widget-icon"> <i class="fa fa-table"></i>
                                                            </span>
                                                            <h2>{{layoutElem.sectionHeader}}</h2>
                                                        </header>
                                                        <div class="table-wrapper" style="padding: 5px;">
                                                            <table id="Facilities" class="table table-bordered table-striped table-hover smart-form">
                                                                <thead>
                                                                    <tr>
                                                                        <th *ngFor="let tableHeader of layoutElem.headers; let i = index">
                                                                            <div style="cursor: pointer; text-align: center;">
                                                                                {{tableHeader.label}}
                                                                            </div>
                                                                        </th>
                                                                    </tr>
                                                                </thead>
                                                                <!-- TBODY here -->
                                                                <tbody style="background: white;text-align: center;">
                                                                    <tr *ngFor="let field of layoutElem.fieldsList; let i = index">
                                                                        <td *ngFor="let tableHeader of layoutElem.headers;">{{field.facilityParsed?field.facilityParsed[tableHeader.fieldName]
                                                                            : ''}}</td>
                                                                    </tr>
                                                                </tbody>
                                                            </table>
                                                        </div>
                                                    </div>
                                                </sa-widgets-grid>
                                            </div>
                                        </div>
                                        <div *ngFor="let data of taskDetails.taskSectionModels">
                                            <sa-widgets-grid *ngIf="data.header == 'UnMappedFields' && ShowUnmappedFieldSection == true">
                                                <div sa-widget [editbutton]="false" [fullscreenbutton]="true"
                                                    [deletebutton]="false" [colorbutton]="true" [togglebutton]="true"
                                                    name="wcmSummaySection">
                                                    <header>
                                                        <span class="widget-icon"> <i class="fa fa-table"></i> </span>
                                                        <h2>{{data.header}}</h2>
                                                    </header>
                                                    <div class="row">
                                                        <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12" *ngFor="let field of data.paramList;">
                                                            <div class="row">
                                                                <div class="col-md-6"><label class="control-label field-label">{{field.name}}:
                                                                    </label></div>
                                                                <div class="col-md-6 field-value">
                                                                    {{field.value}}
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </sa-widgets-grid>
                                        </div>
                                    </div>
                                    <!-- Modal -->
                                    <ng-template #template>
                                        <div class="modal-header" #modal (onShow)="handler('onShow', $event)" (onShown)="handler('onShown', $event)"
                                            (onHide)="handler('onHide', $event)" (onHidden)="handler('onHidden', $event)">
                                            <h4 *ngIf="showTransferSection" class="modal-title pull-left" style="padding-left: 37%;font-weight: bold;">Transfer
                                                Task</h4>
                                            <h4 *ngIf="showRerouteSection" class="modal-title pull-left" style="padding-left: 37%;font-weight: bold;">Reroute
                                                Task</h4>
                                            <h4 *ngIf="showCloseSection" class="modal-title pull-left" style="padding-left: 37%;font-weight: bold;">Close
                                                Task</h4>
                                            <h4 *ngIf="showReturnTaskToWorkgroupSec" class="modal-title pull-left"
                                                style="padding-left: 30%;font-weight: bold;"> Return Task To Workgroup</h4>
                                            <h4 *ngIf="showCancelSection" class="modal-title pull-left" style="padding-left: 44%;font-weight: bold;">
                                                Cancel</h4>
                                            <h4 *ngIf="showLmosRecoredSection" class="modal-title pull-left" style="padding-left: 44%;font-weight: bold;">
                                                LMOS record</h4>
                                            <button type="button" class="close pull-right" aria-label="Close" (click)="IsOpenPopup = false; modalRef.hide()">
                                                <span aria-hidden="true">&times;</span>
                                            </button>
                                        </div>
                                        <div class="modal-body {{(showCloseSection)? 'lmos-close-button-modal-body' :''}}">
                                            <div *ngIf="showTransferSection">
                                                <div class="row">
                                                    <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12">
                                                        <label class="control-label">CUID: </label>
                                                    </div>
                                                    <div class="col-lg-9 col-md-9 col-sm-6 col-xs-12">
                                                        <ng-select2 [data]="cuidList" [width]="500" name="multiObj"
                                                            [(ngModel)]="transferTo" #multiObj="ngModel">
                                                        </ng-select2>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12">
                                                        <label class="control-label">Comment: </label>
                                                    </div>
                                                    <div class="col-lg-9 col-md-9 col-sm-6 col-xs-12">
                                                        <textarea class="form-control" name="comment" [(ngModel)]="comment"
                                                            maxlength="58"></textarea>
                                                        <div style="float: right">{{58-comment?.length}} characters
                                                            left</div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div *ngIf="showRerouteSection">
                                                <div class="row">
                                                    <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12">
                                                        <label class="control-label">Workgroup: </label>
                                                    </div>
                                                    <div class="col-lg-9 col-md-9 col-sm-6 col-xs-12">
                                                        <ng-select2 [data]="routWorkgroups" [width]="500" name="multiObj"
                                                            [(ngModel)]="transferTo" #multiObj="ngModel">
                                                        </ng-select2>
                                                    </div>
                                                    <div class="row">
                                                        <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12">
                                                            <label class="control-label">Comment: </label>
                                                        </div>
                                                        <div class="col-lg-9 col-md-9 col-sm-6 col-xs-12">
                                                            <textarea class="form-control" name="comment" [(ngModel)]="comment"
                                                                maxlength="58"></textarea>
                                                            <div style="float: right">{{58-comment?.length}}
                                                                characters
                                                                left</div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div *ngIf="showCloseSection">
                                                <sa-widgets-grid>
                                                    <div sa-widget [editbutton]="false" [fullscreenbutton]="false"
                                                        [deletebutton]="false" [colorbutton]="true" [togglebutton]="true"
                                                        name="wcmDispositionHeader">
                                                        <header>
                                                            <span class="widget-icon"> <i class="fa fa-table"></i>
                                                            </span>
                                                            <h2>Disposition Code</h2>
                                                        </header>
                                                        <div class="row">
                                                            <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12">
                                                                <label class="control-label">---*: </label>
                                                            </div>
                                                            <div class="col-lg-8 col-md-8 col-sm-6 col-xs-12">
                                                                <ng-select2 [data]="dispositionCodes" [width]="500"
                                                                    name="multiObj" [(ngModel)]="closePopupObj.parentDispositionCode"
                                                                    #multiObj="ngModel" (valueChanged)="dispositionCodeChanged('parent');">
                                                                </ng-select2>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12">
                                                                <label class="control-label">--**: </label>
                                                            </div>
                                                            <div class="col-lg-8 col-md-8 col-sm-6 col-xs-12">
                                                                <ng-select2 [data]="dispositionChildCodes" [width]="500"
                                                                    name="multiObj" [(ngModel)]="closePopupObj.childDispositionCode"
                                                                    #multiObj="ngModel" (valueChanged)="dispositionCodeChanged('child');">
                                                                </ng-select2>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12">
                                                                <label class="control-label">----: </label>
                                                            </div>
                                                            <div class="col-lg-8 col-md-8 col-sm-6 col-xs-12">
                                                                <ng-select2 [data]="dispositionGrandChildCodes" [width]="500"
                                                                    name="multiObj" [(ngModel)]="closePopupObj.grandChildDispositionCode"
                                                                    #multiObj="ngModel">
                                                                </ng-select2>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </sa-widgets-grid>
                                                <sa-widgets-grid>
                                                    <div sa-widget [editbutton]="false" [fullscreenbutton]="false"
                                                        [deletebutton]="false" [colorbutton]="true" [togglebutton]="true"
                                                        name="wcmCuaseCode">
                                                        <header>
                                                            <span class="widget-icon"> <i class="fa fa-table"></i>
                                                            </span>
                                                            <h2>Cause Code</h2>
                                                        </header>
                                                        <div class="row">
                                                            <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12">
                                                                <label class="control-label">-**: </label>
                                                            </div>
                                                            <div class="col-lg-8 col-md-8 col-sm-6 col-xs-12">
                                                                <ng-select2 [data]="causeCodes" [width]="500" name="multiObj"
                                                                    [(ngModel)]="closePopupObj.parentCauseCode"
                                                                    #multiObj="ngModel" (valueChanged)="causeCodeChanged('parent');">
                                                                </ng-select2>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12">
                                                                <label class="control-label">--*: </label>
                                                            </div>
                                                            <div class="col-lg-8 col-md-8 col-sm-6 col-xs-12">
                                                                <ng-select2 [data]="causeChildCodes" [width]="500" name="multiObj"
                                                                    [(ngModel)]="closePopupObj.childCauseCode"
                                                                    #multiObj="ngModel" (valueChanged)="causeCodeChanged('child');">
                                                                </ng-select2>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12">
                                                                <label class="control-label">---: </label>
                                                            </div>
                                                            <div class="col-lg-8 col-md-8 col-sm-6 col-xs-12">
                                                                <ng-select2 [data]="causeGrandChildCodes" [width]="500"
                                                                    name="multiObj" [(ngModel)]="closePopupObj.grandChildCauseCode"
                                                                    #multiObj="ngModel">
                                                                </ng-select2>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </sa-widgets-grid>
                                                <div class="row">
                                                    <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12">
                                                        <label class="control-label">Customer Contacted: </label>
                                                    </div>
                                                    <div class="col-lg-8 col-md-8 col-sm-6 col-xs-12">
                                                        <ng-select2 [data]="CustomerContacted" [width]="500" name="multiObj"
                                                            [(ngModel)]="closePopupObj.customerContacted" #multiObj="ngModel">
                                                        </ng-select2>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12">
                                                        <label class="control-label">Narrative: </label>
                                                    </div>
                                                    <div class="col-lg-8 col-md-8 col-sm-6 col-xs-12">
                                                        <textarea class="form-control" name="comment" [(ngModel)]="closePopupObj.comment"
                                                            maxlength="58"></textarea>
                                                        <div style="float: right">{{58-closePopupObj.comment?.length}}
                                                            characters left</div>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12">
                                                        <label class="control-label">WP Code: </label>
                                                    </div>
                                                    <div class="col-lg-8 col-md-8 col-sm-6 col-xs-12">
                                                        5
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12">
                                                        <label class="control-label">FL2: </label>
                                                    </div>
                                                    <div class="col-lg-8 col-md-8 col-sm-6 col-xs-12">
                                                        <input type="text" name="fl2" [(ngModel)]="closePopupObj.fl2"
                                                            maxlength="20">
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12">
                                                        <label class="control-label">FL3: </label>
                                                    </div>
                                                    <div class="col-lg-8 col-md-8 col-sm-6 col-xs-12">
                                                        <ng-select2 [data]="fl3Values" [width]="500" name="multiObj"
                                                            [(ngModel)]="closePopupObj.fl3" #multiObj="ngModel">
                                                        </ng-select2>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12">
                                                        <label class="control-label">Backtime: </label>
                                                    </div>
                                                    <div class="col-lg-8 col-md-8 col-sm-6 col-xs-12">
                                                        <input type="checkbox" name="backtime" [(ngModel)]="closePopupObj.backtime">
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12">
                                                        <label class="control-label">CloseOut Date/Time: </label>
                                                    </div>
                                                    <div class="col-lg-8 col-md-8 col-sm-6 col-xs-12">
                                                        <input type="text" name="closeout" [(ngModel)]="closePopupObj.closeOutDateTime"
                                                            disabled>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12">
                                                        <label class="control-label">Time zone: </label>
                                                    </div>
                                                    <div class="col-lg-8 col-md-8 col-sm-6 col-xs-12">
                                                        <input type="text" name="timezone" [(ngModel)]="closePopupObj.timezone"
                                                            disabled>
                                                    </div>
                                                </div>
                                            </div>
                                            <div *ngIf="showReturnTaskToWorkgroupSec">
                                                <div class="row">
                                                    <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12">
                                                        <label class="control-label">Narrative: </label>
                                                    </div>
                                                    <div class="col-lg-9 col-md-9 col-sm-6 col-xs-12">
                                                        <textarea class="form-control" name="comment" [(ngModel)]="comment"
                                                            maxlength="58"></textarea>
                                                        <div style="float: right">{{58-comment?.length}} characters
                                                            left</div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div *ngIf="showCancelSection">
                                                <div class="row">
                                                    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 text-center">
                                                        <label class="control-label">Are you sure you want to cancel ?
                                                        </label>
                                                    </div>
                                                    <!-- <div class="col-lg-9 col-md-9 col-sm-6 col-xs-12">
                                                        <textarea class="form-control" name="comment" [(ngModel)]="comment" maxlength="400"></textarea>
                                                        <div style="float: right">{{400-comment?.length}} characters left</div>
                                                    </div> -->
                                                </div>
                                            </div>
                                            <div *ngIf="showLmosRecoredSection">
                                                <div class="row">
                                                    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 text-center">
                                                        <label class="control-label">RECORD DOES NOT EXIST IN LMOS -
                                                            PERFORM AUTO SELECT </label>
                                                    </div>
                                                    <!-- <div class="col-lg-9 col-md-9 col-sm-6 col-xs-12">
                                                        <textarea class="form-control" name="comment" [(ngModel)]="comment" maxlength="400"></textarea>
                                                        <div style="float: right">{{400-comment?.length}} characters left</div>
                                                    </div> -->
                                                </div>
                                            </div>
                                            <br>
                                            <div class="row text-center">
                                                <div id="wcmAction" class="dropdown" dropdown [insideClick]="true"
                                                    *ngIf="!showCancelSection">
                                                    <button [disabled]="((showRerouteSection || showTransferSection) ? (transferTo != '' && comment != '') ? false : true : ((showReturnTaskToWorkgroupSec && comment != '')? false: ((showCloseSection || showCancelSection) ? false: true) ))
                                                "
                                                        mat-raised-button (click)="submitDataToLMOSTD();" color="primary"
                                                        class="blue__btn">
                                                        {{(showCancelSection || showLmosRecoredSection)?
                                                        'Ok':'Submit'}}
                                                    </button>
                                                </div>
                                                <div id="wcmAction" class="dropdown" dropdown [insideClick]="true"
                                                    *ngIf="showCancelSection">
                                                    <button mat-raised-button (click)="submitDataToLMOSTD();" color="primary"
                                                        class="blue__btn">
                                                        Yes
                                                    </button>
                                                    <button mat-raised-button (click)="CloseLmosButtonPopup();" class="clear-btn reset-bgclr">
                                                        No
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </ng-template>
                                </div>
                            </tab>
                        </tabset>
                    </div>
                </form>
            </div>
        </div>
        <div class="resizable resizable2">

            <div class="inner">
                <!-- widget content -->
                <div class="widget-body">
                    <div class="tabs-left spr-tabs">
                        <ul class="nav nav-tabs tabs-left text-align-center" id="demo-pill-nav1">
                            <li [class.active]="tab.active" *ngFor="let tab of relatedTabs; let tabIndex=index;">
                                <a (click)="loadTabDetails(tabIndex);" *ngIf="tab.visible">
                                    {{tab.label}}
                                </a>
                            </li>
                        </ul>
                        <tabset>
                            <tab [active]="tab.active" *ngFor="let tab of relatedTabs; let tabIndex=index;">
                                <sa-widgets-grid>
                                    <article class="col-sm-12">
                                        <div sa-widget *ngIf="tab.visible" [editbutton]="false" [fullscreenbutton]="true"
                                            [deletebutton]="false" [colorbutton]="true" [togglebutton]="true" name="rihtTabContent">
                                            <header>
                                                <div class="jarviswidget-ctrls" role="menu">
                                                    <a (click)="loadTabDetails(tabIndex);" href="javascript:void(0);"
                                                        class="button-icon" rel="tooltip" title="Refresh"
                                                        data-placement="bottom">
                                                        <i class="material-icons" style="color: #fff; margin-top: 4px;">cached</i>
                                                    </a>
                                                </div>
                                                <span class="widget-icon"> <i class="fa fa-table"></i> </span>
                                                <h2>{{tab.label}} Details</h2>
                                            </header>
                                            <div class="widget-body">
                                                <pre class="wcm_background">{{tab.content}}</pre>
                                            </div>
                                        </div>
                                    </article>
                                </sa-widgets-grid>
                            </tab>
                        </tabset>
                    </div>
                </div>
                <!-- end widget content -->
            </div>
        </div>
        <!-- <span>
                <img src="assets/img/grabBar.png" class="grabBar">
            </span> -->
    </div>
</div>
<div *ngIf="loader" class="taskloader_div">
    <div class="task_loader">
        <!-- <img src="assets/img/Ellipsis-1s-200px.svg" width="125px" alt="task" /> -->
        <div class="spinner">
            <div class="bounce1"></div>
            <div class="bounce2"></div>
            <div class="bounce3"></div>
        </div>
    </div>
</div>
<div *ngIf="SMETask">
    <div>
        <div class="alert alert-success alert-dismissible" *ngIf="IsSucess" style="background-color: green;color: #fff;">
            <strong>Success! </strong> {{message}}.
            <button type="button" class="close" data-dismiss="alert" (click)="IsSucess = false">&times;</button>
        </div>
        <div class="alert alert-danger alert-dismissible" *ngIf="IsError && !isModalErrMsgSet" style="background-color: #ce2f2f;color: #fff;">
            <strong>Error! </strong>{{message}}.
            <button type="button" class="close" data-dismiss="alert" style="background-color: #fff;" (click)="IsError = false">&times;</button>
        </div>
        <div class="resizable MainPage example-2">
            <div class="inner">
                <form name="form" class="task-details-form">
                    <div class="form-group">
                        <div class="sticky-tab-header spr-tabs">
                            <ul class="nav nav-tabs tabs-left text-align-center" id="demo-pill-nav">
                                <li [class.active]="leftSideTabs.tab == 'request-details'">
                                    <a (click)="selectTab('request-details')">Task Details</a>
                                </li>
                                <li [class.active]="leftSideTabs.tab == 'log-details'">
                                    <a (click)="selectTab('log-details')">Log Details</a>
                                </li>
                                <li [class.active]="leftSideTabs.tab == 'relationship-map'">
                                    <a (click)="leftSideTabs.tab = 'relationship-map'">Relationship Map</a>
                                </li>
                            </ul>

                            <div class="pull-right" [hidden]="leftSideTabs.tab !== 'request-details'">
                                <div>
                                    <div style="padding-top:5px;padding-right: 15px;">
                                        <div style="display:inline-block">

                                            <a (click)="getTaskDetails()" class="cm-refresh pull-right margin-right-13"
                                                style="font-size:150%">
                                                <span class="glyphicon glyphicon-refresh"></span>
                                            </a>
                                            <div *ngIf="processData.sourceSystemId != '553'" style="display: inline-flex;">
                                                    <button *ngIf="taskDetails.isParent==false && taskDetails.isEditing" (click)="cancelRetry(taskDetails)" class="btn btn-success blue__btn pull-right margin-right-13"
                                                    mat-raised-button>
                                                    Cancel
                                                  </button>
                                                  <button *ngIf="taskDetails.isParent==false && taskDetails.isEditing" class="btn btn-success blue__btn pull-right margin-right-13"
                                                    mat-raised-button (click)="GetRetryServices()">
                                                    Retry Service
                                                  </button>
                                                <button *ngIf="taskDetails.isParent==false && !taskDetails.isEditing" (click)="editAndRetry(taskDetails)" class="btn btn-success blue__btn pull-right margin-right-13"
                                                    mat-raised-button [disabled]="RetryEditButton">
                                                    <i class="fa fa-pencil" aria-hidden="true"></i>
                                                    Edit & Retry
                                                </button>
                                                <div *ngFor="let button of HeaderButton.fieldsList" style="display: inline-flex;">
                                                    <button (click)="ButtonClick(button.fieldName)" class="btn btn-success blue__btn pull-right margin-right-13"
                                                        mat-raised-button>
                                                        <i class="fa {{button.class}}" aria-hidden="true"></i>
                                                        {{button.label}}
                                                    </button>
                                                </div>
                                            </div>
                                            <div *ngIf="processData.sourceSystemId == '553' && !IsHalfScreen" style="display: inline-block;">
                                                <div *ngFor="let button of LmosButton.fieldsList" style="display: inline-flex;">
                                                    <button (click)="lmosAction(button, template)" class="btn btn-success blue__btn pull-right margin-right-13"
                                                        mat-raised-button>
                                                        {{button.label}}
                                                    </button>
                                                </div>
                                            </div>
                                            <div *ngIf="processData.sourceSystemId == '553' && IsHalfScreen && LmosButton.fieldsList.length > 0"
                                                style="width: 121px;">
                                                <div class="btn-group" role="group">
                                                    <button id="btnGroupDrop1" type="button" class="btn btn-success blue__btn pull-right margin-right-13 dropdown-toggle"
                                                        data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"
                                                        style="display: inline-flex;">
                                                        Action
                                                    </button>
                                                    <div class="dropdown-menu" aria-labelledby="btnGroupDrop1">
                                                        <a *ngFor="let button of LmosButton.fieldsList" class="btn btn-success blue__btn margin-right-13 dropdown-item"
                                                            href="#" (click)="lmosAction(button, template)" style="width: 90%;margin: 5px 7px 5px 9px;">{{button.label}}</a>
                                                        <!-- <a class="dropdown-item" href="#">Dropdown link</a> -->
                                                    </div>
                                                </div>
                                                <!-- <div *ngFor="let button of LmosButton.fieldsList" style="display: inline-flex;">
                                                    <button (click)="ButtonClick(button.fieldName)" class="btn btn-success blue__btn pull-right margin-right-13"
                                                        mat-raised-button>
                                                        {{button.label}}
                                                    </button>
                                                </div> -->
                                            </div>
                                        </div>
                                        <span class="btn-header menu-icon {{(IsHalfScreen)? ((LmosButton.fieldsList.length > 0)? 'lmosbutton-inline-menuicon-halfscreen-with-button':'lmosbutton-inline-menuicon-halfscreen-without-button'):((LmosButton.fieldsList.length > 0)? 'lmosbutton-inline-menuicon-fullscreen-with-button':'lmosbutton-inline-menuicon-fullscreen-without-button')}}"
                                            *ngIf="processData.sourceSystemId == '553'">
                                            <a class="toggle" title="Related Tabs View" (click)="maximizeLeftPanelWindow()">
                                                <!-- <i class="fa fa-reorder lmos-tb-hvr"></i> -->
                                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="fa lmos-tb-hvr"
                                                    style="height: 16px; display: inline-block;">
                                                    <path fill="#ffffff" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path>
                                                </svg>
                                                <!-- <svg xmlns="http://www.w3.org/2000/svg" class="fa fa-plane-alt" viewBox="0 0 576 512"
                                                    style="height: 15px;">
                                                    <path fill="#ffffff" d="M472 200H347.7l-38.6-72H324c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12h-49.2L243.5 5.7c-2.2-3.5-6.1-5.7-10.2-5.7h-57.8c-7.9 0-13.6 7.4-11.6 15l33.3 185.4c-32.6 1-63.1 3.7-89.9 7.8l-39.8-66.4c-2.2-3.6-6.1-5.8-10.3-5.8H14.6c-7.6 0-13.3 6.9-11.8 14.4l16.6 82.8C6.9 240.1 0 247.9 0 256s6.9 15.9 19.4 22.8L2.9 361.6C1.4 369.1 7.1 376 14.6 376h42.6c4.2 0 8.1-2.2 10.3-5.8l39.8-66.4c26.8 4.1 57.3 6.8 89.9 7.8L163.9 497c-2 7.6 3.8 15 11.6 15h57.8c4.2 0 8-2.2 10.2-5.7l31.3-58.3H324c6.6 0 12-5.4 12-12v-40c0-6.6-5.4-12-12-12h-14.9l38.6-72H472c57.4 0 104-25.1 104-56s-46.6-56-104-56z"></path>
                                                </svg> -->
                                            </a>
                                            <ul class="nav nav-tabs lmos-tb-lst-2" id="demo-pill-nav2" *ngIf="!IsHalfScreen">
                                                <li [class.active]="tab.active" *ngFor="let tab of relatedTabs; let tabIndex=index;">
                                                    <a (click)="maximizeLeftPanelWindow(); loadTabDetails(tabIndex);"
                                                        *ngIf="tab.visible" style="padding: 3px 10px;">
                                                        <span class="lmos-tb-ic" style="padding-top: 0;">{{tab.label.substring(0,3)}}</span>
                                                        <span>{{tab.label}}</span>
                                                    </a>
                                                </li>
                                            </ul>
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <tabset class="col-sm-12 no-padding padding-top-40">
                            <tab class="left-tab-pane" [active]="leftSideTabs.tab == 'request-details'">
                                <div class="resizable resizable1 GetHeight wrap-scroll" style="border:0;">
                                    <div *ngIf="loaderLmosTaskPopup" class="task_loader lmosbutton-openpopup">
                                        <!-- <mat-spinner class="spinner-style"></mat-spinner> -->
                                        <!-- <img src="assets/img/task_loader.svg" width="125px" alt="task" /> -->
                                        <!-- <img src="assets/img/Ellipsis-1s-200px.svg" width="125px" alt="task" /> -->
                                        <div class="spinner">
                                            <div class="bounce1"></div>
                                            <div class="bounce2"></div>
                                            <div class="bounce3"></div>
                                        </div>
                                    </div>
                                    <!--(dblclick)="maximizeLeftPanelWindow()"-->
                                    <div class="col-sm-12">
                                        <div class="col-sm-12 lightdarkborderbottom" style="padding-left: 0;">
                                            <div class="form-group" style="display: flex;">
                                                <div class="input-group ml-0" [ngClass]="IsHalfScreen ? 'p-0':'cm-pd-top-15'"
                                                    style="padding-left: 0;">
                                                    <label class="key">ID:</label>
                                                    <label class="value ml-0">{{taskDetails.sourceTaskId}}</label>
                                                </div>
                                                <div class="input-group ml-0 pl-0" [ngClass]="IsHalfScreen ? 'p-0':'cm-pd-top-15'">
                                                    <label class="key">Name:</label>
                                                    <label class="value ml-0">{{taskDetails.taskName}}</label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-12" style="margin-top:2%;margin-bottom: 2%;">
                                        <div class="col-sm-12 p-0">
                                            <div *ngFor="let box of Summary.fieldsList" class="border-right-bottom"
                                                [ngClass]="IsHalfScreen ? 'col-md-6':'col-md-4'" [ngStyle]="{'width' : IsHalfScreen && box.header.label=='Duration' ? '100%' : ''}">
                                                <div *ngIf="box.loader" class="task_loader lmosbutton-openpopup">
                                                    <!-- <img src="assets/img/Ellipsis-1s-200px.svg" width="125px" alt="task" /> -->
                                                    <div class="spinner">
                                                        <div class="bounce1"></div>
                                                        <div class="bounce2"></div>
                                                        <div class="bounce3"></div>
                                                    </div>
                                                </div>
                                                <div class="col-md-12 darkborderbottom p-0">
                                                    <div class="col-md-12" style="padding-left: 0px;">
                                                        <label class="key">{{box.header.label}}:
                                                            <span *ngIf="box.header.label=='Status'" [ngStyle]="{color: getStatusColor(taskDetails.taskStatus)}">{{taskDetails.taskStatus}}</span>
                                                            <span *ngIf="box.header.label=='Assigned To'" style="color: #888686;">{{taskDetails.assignedCuid}}</span>
                                                            <span *ngIf="box.header.showHistory" (click)="box.header.history = !box.header.history; getParentTaskStatusHistory(taskDetails, box.header.history, box)"
                                                                style="cursor: pointer;position: relative;top: 5px;">
                                                                <mat-icon *ngIf="box.header.history" class="material-icons add_box system__add">play_arrow</mat-icon>
                                                                <mat-icon *ngIf="!box.header.history" class="system__add add_box"
                                                                    style="transform: rotate(90deg);">play_arrow</mat-icon>
                                                            </span>
                                                        </label>
                                                        <!-- <label class="valuedarkblue"></label> -->
                                                    </div>
                                                    <div class="col-md-12 HistoryDiv p-0" *ngIf="!box.header.history && box.header.label=='Status'">
                                                        <h4>Status History:</h4>
                                                        <div id="table-section" class="tab-content table-responsive"
                                                            style="max-height: 200px; overflow:auto;">
                                                            <table class="table table-striped table-hover">
                                                                <tbody>
                                                                    <tr *ngFor="let historyDetails of parentTaskHistory;">
                                                                        <td style="padding:5px; white-space: nowrap;">{{historyDetails.statusCode}}</td>
                                                                        <td style="padding:5px; white-space: nowrap;">{{historyDetails.status}}</td>
                                                                        <!-- <td style="padding:5px; white-space: nowrap;">{{historyDetails.createdById}}</td> -->
                                                                        <td style="padding:5px; white-space: nowrap;">{{historyDetails.createdDttm}}</td>
                                                                    </tr>
                                                                </tbody>
                                                            </table>
                                                        </div>
                                                        <div class="col-md-12" style="margin:10px;"></div>
                                                    </div>
                                                    <div class="col-md-12 HistoryDiv p-0" *ngIf="!box.header.history && box.header.label=='Assigned To'">
                                                        <!-- <h4>Assigned To:</h4> -->
                                                        <div id="table-section" class="tab-content table-responsive padding-top">
                                                            <table class="table table-striped table-hover">
                                                                <thead>
                                                                    <tr>
                                                                        <th style="padding:5px;">To</th>
                                                                        <th style="padding:5px;">By</th>
                                                                        <th style="padding:5px;">Date</th>
                                                                    </tr>
                                                                </thead>
                                                                <tbody>
                                                                    <tr *ngFor="let assignedDetails of parentTaskAssignLog;">
                                                                        <td style="padding:5px; white-space: nowrap;">{{assignedDetails.activityValue}}</td>
                                                                        <td style="padding:5px; white-space: nowrap;">{{assignedDetails.createdById}}</td>
                                                                        <td style="padding:5px; white-space: nowrap;">{{assignedDetails.createdDateTime}}</td>
                                                                    </tr>
                                                                </tbody>
                                                            </table>
                                                        </div>
                                                        <div class="col-md-12" style="margin:10px;"></div>
                                                    </div>
                                                    <div class="col-md-12 HistoryDiv p-0" *ngIf="!box.header.history && box.header.label=='Duration'">
                                                        <div *ngFor="let boxbody of box.body">
                                                            <ng-container *ngIf="box.header.label=='Duration'">
                                                                <div class="col-md-12 p-0" style="margin-bottom: -20px !important;">
                                                                    <div class="text-left p-0" [ngClass]="boxbody.fieldName == 'assignedWorkGroups' ? 'col-md-12' : 'col-md-6'">
                                                                        <label class="smallkey">{{boxbody.label}}:</label>
                                                                    </div>
                                                                    <div class="col-md-6 text-left" style="padding-right:0;"
                                                                        *ngIf="boxbody.textarea==false && boxbody.fieldName != 'assignedWorkGroups'">
                                                                        <label class="smallvalue">{{taskDetails[boxbody.fieldName]}}</label>
                                                                    </div>
                                                                </div>
                                                                <div class="col-md-12" *ngIf="boxbody.fieldName == 'assignedWorkGroups'"
                                                                    style="margin-top:10px; padding:5px;">
                                                                    <mat-chip-list class="col-sm-12 chip-lst-styl">
                                                                        <mat-chip *ngFor="let WorkGroup of taskDetails.assignedWorkGroups"
                                                                            [selectable]="selectable" [removable]="removable"
                                                                            (removed)="remove(WorkGroup)">
                                                                            {{WorkGroup}}
                                                                            <mat-icon matChipRemove *ngIf="removable">cancel</mat-icon>
                                                                        </mat-chip>
                                                                    </mat-chip-list>
                                                                </div>
                                                                <div *ngIf="boxbody.textarea" class="col-md-12" style="margin-top:10px; padding:5px;">
                                                                    <textarea rows="5" class="form-control" [name]="boxbody.fieldName"
                                                                        [(ngModel)]="taskDetails[boxbody.fieldName]"></textarea>
                                                                </div>
                                                            </ng-container>
                                                        </div>
                                                        <div class="col-md-12" style="margin:15px;"></div>
                                                    </div>
                                                </div>
                                                <div *ngFor="let boxbody of box.body">
                                                    <ng-container *ngIf="box.header.label!='Duration'">
                                                        <div class="col-md-12 p-0" style="margin-bottom: -20px;">
                                                            <div class="text-left p-0" [ngClass]="boxbody.fieldName == 'assignedWorkGroups' ? 'col-md-12' : 'col-md-6'">
                                                                <!--[ngClass]="boxbody.fieldName == 'assignedWorkGroups' ? 'col-md-12' : 'col-md-6'"-->
                                                                <label class="smallkey">{{boxbody.label}}:</label>
                                                            </div>
                                                            <div class="col-md-6 text-left" style="padding-right:0;"
                                                                *ngIf="boxbody.textarea==false && boxbody.fieldName != 'assignedWorkGroups'">
                                                                <label class="smallvalue">{{taskDetails[boxbody.fieldName]}}</label>
                                                            </div>
                                                            <!-- <div class="col-md-6 text-left" style="padding-right:0;" 
                                                            *ngIf="boxbody.textarea==false && boxbody.fieldName == 'workgroupList'">
                                                                <label class="smallvalue" *ngFor="let group of taskDetails.workgroupList">{{group.workgroupName}}</label>
                                                            </div> -->
                                                        </div>
                                                        <div class="col-md-12" *ngIf="boxbody.fieldName == 'assignedWorkGroups'"
                                                            style="margin-top:10px; padding:5px;margin-left: -5px; max-height: 160px; overflow: auto;">
                                                            <mat-chip-list class="col-sm-12 chip-lst-styl">
                                                                <mat-chip *ngFor="let WorkGroup of taskDetails.workgroupList; let idx=index;"
                                                                    [selectable]="selectable" [removable]="removable"
                                                                    (removed)="remove(WorkGroup, idx, taskDetails.workgroupList)">
                                                                    {{WorkGroup.workgroupName}}
                                                                    <mat-icon matChipRemove *ngIf="removable">cancel</mat-icon>
                                                                </mat-chip>
                                                            </mat-chip-list>
                                                        </div>
                                                        <div *ngIf="boxbody.textarea" class="col-md-12" style="margin-top:10px; padding:5px;margin-left: -5px;">
                                                            <textarea rows="5" class="form-control" [name]="boxbody.fieldName"
                                                                [(ngModel)]="taskDetails[boxbody.fieldName]" disabled=""></textarea>
                                                        </div>
                                                    </ng-container>
                                                </div>
                                                <ng-container *ngIf="box.header.label=='Duration'">
                                                    <div class="col-md-12 p-0">
                                                        <div class="swiper-wrapper timeline">
                                                            <div class="swiper-slide" *ngFor="let historyDts of timelineHistory;">
                                                                <div class="timestamp">
                                                                    <span class="date">{{historyDts.createdDttm}}</span>
                                                                </div>
                                                                <div class="status tsk-finished">
                                                                    <span>{{historyDts.status}}</span>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <!-- <div class="col-md-12 p-0">
                                                        <div id="chartdiv" style="width: 100%; height: 500px"></div>
                                                    </div> -->
                                                </ng-container>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-sm-12" *ngIf="!IsOpenFullDiv">
                                        <!-- {{JSON.stringify(pageLayout)}} -->
                                        <ng-container *ngFor="let box of Details.fieldsList">
                                            <div class="col-md-3 Data-Box {{(IsHalfScreen)? 'fix-Data-Box-width':''}}"
                                                *ngIf="box.headerLabel.toLowerCase()=='children status summary' && tableData.length > 0">
                                                <div class="panel panel-primary spr-panel">
                                                    <div class="panel-heading">{{box.headerLabel}}</div>
                                                    <div class="panel-body" style="overflow:auto;">
                                                        <div class="col-xs-12 col-md-12 col-sm-12 col-lg-12 no-padding-right">
                                                            <div class="col-md-6" style="display: block;margin-top: 15px;margin-left: 0;">
                                                                <canvas baseChart class="parentChart" [data]="doughnutChartData"
                                                                    [labels]="doughnutChartLabels" [chartType]="doughnutChartType"
                                                                    [colors]="donutColors" [legend]="false" [options]="chartOptions">
                                                                </canvas>
                                                            </div>
                                                            <div class="col-md-5" style="margin-top: 10px; padding: 0;">
                                                                <div *ngFor="let data of statusTag; let i = index"
                                                                    style="margin-bottom: 10px;">
                                                                    <span class="statusTag " [ngStyle]="{backgroundColor: donutColors[0]['backgroundColor'][i]}"
                                                                        style="color: #fff">{{data.label}}</span>
                                                                    <h4 class="pull-right"> - {{data.value}}</h4>
                                                                </div><br>
                                                            </div>
                                                        </div>
                                                        <!-- <div class="col-xs-12 col-md-12 col-sm-12 col-lg-12 no-padding-right"
                                                                    style="max-height: 150px; overflow: auto;" *ngIf="box.headerLabel.toLowerCase()=='customer'">
                                                                    <div *ngFor="let paramDetails of customerDetails.paramList;">
                                                                        <div class="col-md-5 text-left" style="padding-left: 0;">
                                                                            <label class="smallkey p-0">{{paramDetails.name}}:</label>
                                                                        </div>
                                                                        <div class="col-md-7 text-left">
                                                                            <label class="smallvalue p-0">{{paramDetails.value}}</label>
                                                                        </div>
                                                                    </div>
                                                                </div> -->
                                                    </div>
                                                </div>
                                            </div>
                                        </ng-container>
                                        <div class="col-md-12 Data-Box {{(IsHalfScreen)? 'fix-Data-Box-width':''}}"
                                            *ngFor="let box of taskDetails.taskSectionModels">
                                            <div class="panel panel-primary spr-panel">
                                                <div class="panel-heading">{{box.header}}
                                                    <div class="pull-right" *ngIf="!IsHalfScreen">
                                                        <i (click)="OpenFullDiv(box)" class="fa fa-arrows-alt"></i>
                                                    </div>
                                                </div>
                                                <div class="panel-body" style="overflow:auto; max-height: 191px;"
                                                    [style.height]="IsHalfScreen && box.paramList.length>0 && box.paramList[0].type=='tableHeader' ? 'auto':''"
                                                    [style.min-height]="IsHalfScreen && box.paramList.length>0 && box.paramList[0].type=='tableHeader' ? 'auto':''">
                                                    <div class="row fix-box-height" style="max-height: 191px;"
                                                        [style.height]="IsHalfScreen && box.paramList.length>0 && box.paramList[0].type=='tableHeader' ? 'auto':''"
                                                        [style.min-height]="IsHalfScreen && box.paramList.length>0 && box.paramList[0].type=='tableHeader' ? 'auto':''">
                                                        <div *ngIf="box.paramList.length>0">
                                                            <div class="col-xs-3 col-sm-3 {{(IsHalfScreen ? 'col-md-3 col-lg-3':'col-md-3 col-lg-3')}} no-padding-right"
                                                                *ngFor="let paramDetails of box.paramList;let i = index">
                                                                <div *ngIf="paramDetails.type!='tableHeader' && paramDetails.type!='tableData'"
                                                                    class="col-md-5 text-left" style="padding: 0;">
                                                                    <!-- {{box.paramList.length}} -->
                                                                    <label class="smallkey p-0">{{paramDetails.paramFieldLayout?paramDetails.paramFieldLayout.label:paramDetails.name}}:</label>
                                                                </div>
                                                                <div *ngIf="paramDetails.type!='tableHeader' && paramDetails.type!='tableData'"
                                                                    class="col-md-7 text-left">
                                                                    <label *ngIf="!taskDetails.isEditing && (box.header=='JobInformation' || box.header== 'deviceInformation')" class="smallvalue p-0">{{paramDetails.value}}
                                                                        &nbsp;</label>
                                                                    <label *ngIf="box.header != 'JobInformation' && box.header != 'deviceInformation'" class="smallvalue p-0">{{paramDetails.value}}
                                                                        &nbsp;</label>
                                                                    <input *ngIf="taskDetails.isEditing && (box.header=='JobInformation' || box.header== 'deviceInformation')" type="text" class="form-control card-inputs" 
                                                                    [ngModelOptions]="{standalone: true}" [value]="paramDetails.value" [(ngModel)]="paramDetails.value">
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="col-xs-3 col-md-3 col-sm-3 col-lg-3 p-0" *ngFor="let paramDetails of box.paramList;let i = index">
                                                            <table *ngIf="paramDetails.type=='tableHeader'" class="table table-boradred cstmr-att-tbl m-0">
                                                                <thead>
                                                                    <ng-container *ngFor="let header of box.paramList; let i = index;">
                                                                        <tr *ngIf="header.type=='tableHeader'">
                                                                            <th *ngFor="let headerData of header.jsonDescriptor.tableHeaders"
                                                                                style="border-right: 1px solid #dddddd;">{{headerData.columnHeader}}</th>
                                                                        </tr>
                                                                    </ng-container>
                                                                </thead>
                                                                <tbody>
                                                                    <ng-container *ngFor="let header of box.paramList; let i = index;">
                                                                        <tr *ngIf="header.type=='tableData'">
                                                                            <ng-container *ngFor="let headerData of box.paramList">
                                                                                <ng-container *ngIf="headerData.type == 'tableHeader'">
                                                                                    <td *ngFor="let Data of headerData.jsonDescriptor.tableHeaders"
                                                                                        style="border-right: 1px solid #dddddd;">{{header.value[Data.columnKey]}}</td>
                                                                                </ng-container>
                                                                            </ng-container>
                                                                        </tr>
                                                                    </ng-container>
                                                                </tbody>
                                                            </table>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-sm-12" *ngIf="IsOpenFullDiv">
                                        <div class="panel panel-primary spr-panel">
                                            <div class="panel-heading">{{OpenFullDivData.header}}
                                                <div class="pull-right">
                                                    <i (click)="RestoreDiv()" class="fa fa-times"></i>
                                                </div>
                                            </div>
                                            <div class="panel-body" style="overflow:auto; max-height: 191px;"
                                                [style.height]="OpenFullDivData.paramList.length>0 && (OpenFullDivData.paramList[0].type=='tableHeader' || OpenFullDivData.paramList[0].type=='tableData') ? 'auto':''"
                                                [style.min-height]="OpenFullDivData.paramList.length>0 && (OpenFullDivData.paramList[0].type=='tableHeader' || OpenFullDivData.paramList[0].type=='tableData') ? 'auto':''">
                                                <div class="row fix-box-height" style="max-height: 191px;"
                                                    [style.height]="OpenFullDivData.paramList.length>0 && (OpenFullDivData.paramList[0].type=='tableHeader' || OpenFullDivData.paramList[0].type=='tableData') ? 'auto':''"
                                                    [style.min-height]="OpenFullDivData.paramList.length>0 && (OpenFullDivData.paramList[0].type=='tableHeader' || OpenFullDivData.paramList[0].type=='tableData') ? 'auto':''">
                                                    <div *ngIf="OpenFullDivData.paramList.length>0">
                                                        <div class="col-xs-12 col-md-6 col-sm-6 col-lg-6 no-padding-right"
                                                            *ngFor="let paramDetails of OpenFullDivData.paramList;">
                                                            <div *ngIf="paramDetails.type!='tableHeader' && paramDetails.type!='tableData'"
                                                                class="col-md-4 text-left" style="padding: 0;">
                                                                <label class="smallkey p-0">{{paramDetails.name}}:</label>
                                                            </div>
                                                            <div *ngIf="paramDetails.type!='tableHeader' && paramDetails.type!='tableData'"
                                                                class="col-md-8 text-left">
                                                                <label class="smallvalue p-0">{{paramDetails.value}}
                                                                    &nbsp;</label>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="col-xs-12 col-md-12 col-sm-12 col-lg-12 p-0" *ngFor="let paramDetails of OpenFullDivData.paramList;let i = index">
                                                        <table *ngIf="paramDetails.type=='tableHeader'" class="table table-boradred cstmr-att-tbl m-0"
                                                            style="table-layout: fixed;">
                                                            <thead>
                                                                <ng-container *ngFor="let header of OpenFullDivData.paramList; let i = index;">
                                                                    <tr *ngIf="header.type=='tableHeader'">
                                                                        <th *ngFor="let headerData of header.jsonDescriptor.tableHeaders"
                                                                            style="border-right: 1px solid #dddddd;">{{headerData.columnHeader}}</th>
                                                                    </tr>
                                                                </ng-container>
                                                            </thead>
                                                            <tbody>
                                                                <ng-container *ngFor="let header of OpenFullDivData.paramList; let i = index;">
                                                                    <tr *ngIf="header.type=='tableData'">
                                                                        <ng-container *ngFor="let headerData of OpenFullDivData.paramList">
                                                                            <ng-container *ngIf="headerData.type == 'tableHeader'">
                                                                                <td *ngFor="let Data of headerData.jsonDescriptor.tableHeaders"
                                                                                    style="border-right: 1px solid #dddddd;">{{header.value[Data.columnKey]}}</td>
                                                                            </ng-container>
                                                                        </ng-container>
                                                                        <!-- <td *ngFor="let headerData of OpenFullDivData.paramList[0].jsonDescriptor.tableHeaders"
                                                                            style="border-right: 1px solid #dddddd;">{{header.value[headerData.columnKey]}}</td> -->
                                                                    </tr>
                                                                </ng-container>
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-sm-12" *ngIf="tableData.length > 0">
                                        <div id="table-section" class="child-list-table tab-content padding-10 table-responsive">
                                            <table class="table table-striped table-hover">
                                                <thead class="thead-dark">
                                                    <tr>
                                                        <th class="tbl-field-sp tbl-field-sp-2"></th>
                                                        <th *ngFor="let field of TableFiedls.fieldsList" class="tbl-field-sp tbl-field-sp-2"
                                                            [ngClass]="[ field.fieldName == activeSort ?(isSortAsc ? 'sort_asc tbl-field-sp tbl-field-sp-2': 'sort_desc tbl-field-sp tbl-field-sp-2'):'']"
                                                            (click)="OnSMESortSection(field.fieldName);">
                                                            <div class="cursor-pointer activesort">
                                                                <span>{{field.label}}</span>
                                                                <span class="sortarrow">
                                                                    <i class="fa upsortarrow"></i>
                                                                    <i class="fa downsortarrow"></i>
                                                                </span>
                                                            </div>
                                                        </th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <ng-container *ngFor="let rowData of tableData; let rowIndex = index;">
                                                        <tr *ngIf="!rowData.isRowDetailOpen">
                                                            <td class="tbl-field-sp tbl-field-sp-2">
                                                                <div *ngIf="rowData.taskType && rowData.taskType.taskTypeParam && rowData.taskType.taskTypeParam == 'microService'">
                                                                    <mat-icon style="cursor: pointer" class="material-icons add_box system__add" title="Open task in new tab" (click)="openchildtask(rowData)">link</mat-icon>
                                                                    <span (click)="expandAddRow(rowData,rowIndex)"
                                                                        style="cursor: pointer;" class="font-18">
                                                                        <mat-icon *ngIf="rowData.isIconMinus" class="material-icons add_box system__add">play_arrow</mat-icon>
                                                                        <mat-icon *ngIf="!rowData.isIconMinus" class="system__add add_box"
                                                                            style="transform: rotate(90deg);">play_arrow</mat-icon>
                                                                    </span>
                                                                </div>
                                                                <div *ngIf="rowData.taskType && rowData.taskType.taskTypeParam && rowData.taskType.taskTypeParam == 'request'"
                                                                    style="display: block; text-align:center;">
                                                                    <span style="cursor: pointer;" class="font-18"
                                                                        (click)="openTskDtls(rowData)">
                                                                        <mat-icon class="system__add add_box child-srch-ic">search</mat-icon>
                                                                    </span>
                                                                </div>
                                                            </td>
                                                            <td *ngFor="let field of TableFiedls.fieldsList" class="tbl-field-sp tbl-field-sp-2">
                                                                <span *ngIf="field.fieldName == 'sourceTaskId'" class="{{(field.fieldName == 'totalCounts')? 'Table-value':''}} font-18"
                                                                    title="Database id: {{rowData['id']}}">{{rowData[field.fieldName]}}</span>
                                                                <span *ngIf="field.fieldName != 'sourceTaskId'" class="{{(field.fieldName == 'totalCounts')? 'Table-value':''}} font-18">{{rowData[field.fieldName]}}</span>
                                                                <div *ngIf="field.fieldName == 'totalCounts'" style="display: block;margin-top: 5%;margin-left: 0;">
                                                                    <canvas baseChart class="childChart" [data]="rowData['doughnutChartData']"
                                                                        [labels]="rowData['doughnutChartLabels']"
                                                                        [chartType]="doughnutChartType" [colors]="donutColors"
                                                                        [legend]="false" [options]="chartOptions">
                                                                    </canvas>
                                                                </div>
                                                            </td>
                                                        </tr>
                                                        <tr *ngIf="rowData.isRowDetailOpen">
                                                            <td colspan="10">
                                                                <sa-card [rowData]="rowData" [childHistoryList]="childHistoryList"
                                                                    [TableFiedls]="TableFiedls" [subLoader]="subLoader"
                                                                    [grandChildList]="grandChildList"
                                                                    (GetStatusHistory)="getStatusHistory($event)"
                                                                    (GetGrandChildList)="getGrandChildList($event)"
                                                                    (ForceCompleteId)="ForceComplete($event)"
                                                                    (RetryServiceMessage)="ShowRetryMessage($event)">
                                                                </sa-card>
                                                            </td>
                                                        </tr>
                                                    </ng-container>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                    <!-- Modal -->
                                    <ng-template #template>
                                        <div class="modal-header" #modal (onShow)="handler('onShow', $event)" (onShown)="handler('onShown', $event)"
                                            (onHide)="handler('onHide', $event)" (onHidden)="handler('onHidden', $event)">
                                            <h4 *ngIf="showTransferSection" class="modal-title pull-left" style="padding-left: 37%;font-weight: bold;">Transfer
                                                Task</h4>
                                            <h4 *ngIf="showRerouteSection" class="modal-title pull-left" style="padding-left: 37%;font-weight: bold;">Reroute
                                                Task</h4>
                                            <h4 *ngIf="showCloseSection" class="modal-title pull-left" style="padding-left: 37%;font-weight: bold;">Close
                                                Task</h4>
                                            <h4 *ngIf="showReturnTaskToWorkgroupSec" class="modal-title pull-left"
                                                style="padding-left: 30%;font-weight: bold;"> Return Task To Workgroup</h4>
                                            <h4 *ngIf="showCancelSection" class="modal-title pull-left" style="padding-left: 44%;font-weight: bold;">
                                                Cancel</h4>
                                            <h4 *ngIf="showLmosRecoredSection" class="modal-title pull-left" style="padding-left: 44%;font-weight: bold;">
                                                LMOS record</h4>
                                            <button type="button" class="close pull-right" aria-label="Close" (click)="IsOpenPopup = false; modalRef.hide()">
                                                <span aria-hidden="true">&times;</span>
                                            </button>
                                        </div>
                                        <div class="modal-body {{(showCloseSection)? 'lmos-close-button-modal-body' :''}}">
                                            <div *ngIf="showTransferSection">
                                                <div class="row">
                                                    <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12"><label class="control-label">CUID:
                                                        </label></div>
                                                    <div class="col-lg-9 col-md-9 col-sm-6 col-xs-12">
                                                        <ng-select2 [data]="cuidList" [width]="500" name="multiObj"
                                                            [(ngModel)]="transferTo" #multiObj="ngModel">
                                                        </ng-select2>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12">
                                                        <label class="control-label">Comment: </label>
                                                    </div>
                                                    <div class="col-lg-9 col-md-9 col-sm-6 col-xs-12">
                                                        <textarea class="form-control" name="comment" [(ngModel)]="comment"
                                                            maxlength="58"></textarea>
                                                        <div style="float: right">{{58-comment?.length}} characters
                                                            left</div>
                                                    </div>
                                                </div>

                                            </div>
                                            <div *ngIf="showRerouteSection">
                                                <div class="row">
                                                    <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12"> <label class="control-label">Workgroup:
                                                        </label></div>
                                                    <div class="col-lg-9 col-md-9 col-sm-6 col-xs-12">
                                                        <ng-select2 [data]="routWorkgroups" [width]="500" name="multiObj"
                                                            [(ngModel)]="transferTo" #multiObj="ngModel">
                                                        </ng-select2>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12">
                                                        <label class="control-label">Comment: </label>
                                                    </div>
                                                    <div class="col-lg-9 col-md-9 col-sm-6 col-xs-12">
                                                        <textarea class="form-control" name="comment" [(ngModel)]="comment"
                                                            maxlength="58"></textarea>
                                                        <div style="float: right">{{58-comment?.length}} characters
                                                            left</div>
                                                    </div>
                                                </div>

                                            </div>
                                            <div *ngIf="showCloseSection">
                                                <sa-widgets-grid>
                                                    <div sa-widget [editbutton]="false" [fullscreenbutton]="false"
                                                        [deletebutton]="false" [colorbutton]="true" [togglebutton]="true"
                                                        name="wcmDispositionHeader">
                                                        <header>
                                                            <span class="widget-icon"> <i class="fa fa-table"></i>
                                                            </span>
                                                            <h2>Disposition Code</h2>
                                                        </header>
                                                        <div class="row">
                                                            <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12">
                                                                <label class="control-label">---*: </label>
                                                            </div>
                                                            <div class="col-lg-8 col-md-8 col-sm-6 col-xs-12">
                                                                <ng-select2 [data]="dispositionCodes" [width]="500"
                                                                    name="multiObj" [(ngModel)]="closePopupObj.parentDispositionCode"
                                                                    #multiObj="ngModel" (valueChanged)="dispositionCodeChanged('parent');">
                                                                </ng-select2>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12">
                                                                <label class="control-label">--**: </label>
                                                            </div>
                                                            <div class="col-lg-8 col-md-8 col-sm-6 col-xs-12">
                                                                <ng-select2 [data]="dispositionChildCodes" [width]="500"
                                                                    name="multiObj" [(ngModel)]="closePopupObj.childDispositionCode"
                                                                    #multiObj="ngModel" (valueChanged)="dispositionCodeChanged('child');">
                                                                </ng-select2>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12">
                                                                <label class="control-label">----: </label>
                                                            </div>
                                                            <div class="col-lg-8 col-md-8 col-sm-6 col-xs-12">
                                                                <ng-select2 [data]="dispositionGrandChildCodes" [width]="500"
                                                                    name="multiObj" [(ngModel)]="closePopupObj.grandChildDispositionCode"
                                                                    #multiObj="ngModel">
                                                                </ng-select2>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </sa-widgets-grid>
                                                <sa-widgets-grid>
                                                    <div sa-widget [editbutton]="false" [fullscreenbutton]="false"
                                                        [deletebutton]="false" [colorbutton]="true" [togglebutton]="true"
                                                        name="wcmCuaseCode">
                                                        <header>
                                                            <span class="widget-icon"> <i class="fa fa-table"></i>
                                                            </span>
                                                            <h2>Cause Code</h2>
                                                        </header>
                                                        <div class="row">
                                                            <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12">
                                                                <label class="control-label">-**: </label>
                                                            </div>
                                                            <div class="col-lg-8 col-md-8 col-sm-6 col-xs-12">
                                                                <ng-select2 [data]="causeCodes" [width]="500" name="multiObj"
                                                                    [(ngModel)]="closePopupObj.parentCauseCode"
                                                                    #multiObj="ngModel" (valueChanged)="causeCodeChanged('parent');">
                                                                </ng-select2>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12">
                                                                <label class="control-label">--*: </label>
                                                            </div>
                                                            <div class="col-lg-8 col-md-8 col-sm-6 col-xs-12">
                                                                <ng-select2 [data]="causeChildCodes" [width]="500" name="multiObj"
                                                                    [(ngModel)]="closePopupObj.childCauseCode"
                                                                    #multiObj="ngModel" (valueChanged)="causeCodeChanged('child');">
                                                                </ng-select2>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12">
                                                                <label class="control-label">---: </label>
                                                            </div>
                                                            <div class="col-lg-8 col-md-8 col-sm-6 col-xs-12">
                                                                <ng-select2 [data]="causeGrandChildCodes" [width]="500"
                                                                    name="multiObj" [(ngModel)]="closePopupObj.grandChildCauseCode"
                                                                    #multiObj="ngModel">
                                                                </ng-select2>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </sa-widgets-grid>

                                                <div class="row">
                                                    <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12">
                                                        <label class="control-label">Customer Contacted: </label>
                                                    </div>
                                                    <div class="col-lg-8 col-md-8 col-sm-6 col-xs-12">
                                                        <ng-select2 [data]="CustomerContacted" [width]="500" name="multiObj"
                                                            [(ngModel)]="closePopupObj.customerContacted" #multiObj="ngModel">
                                                        </ng-select2>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12">
                                                        <label class="control-label">Narrative: </label>
                                                    </div>
                                                    <div class="col-lg-8 col-md-8 col-sm-6 col-xs-12">
                                                        <textarea class="form-control" name="comment" [(ngModel)]="closePopupObj.comment"
                                                            maxlength="58"></textarea>
                                                        <div style="float: right">{{58-closePopupObj.comment?.length}}
                                                            characters left</div>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12">
                                                        <label class="control-label">WP Code: </label>
                                                    </div>
                                                    <div class="col-lg-8 col-md-8 col-sm-6 col-xs-12">
                                                        5
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12">
                                                        <label class="control-label">FL2: </label>
                                                    </div>
                                                    <div class="col-lg-8 col-md-8 col-sm-6 col-xs-12">
                                                        <input type="text" name="fl2" [(ngModel)]="closePopupObj.fl2"
                                                            maxlength="20">
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12">
                                                        <label class="control-label">FL3: </label>
                                                    </div>
                                                    <div class="col-lg-8 col-md-8 col-sm-6 col-xs-12">
                                                        <ng-select2 [data]="fl3Values" [width]="500" name="multiObj"
                                                            [(ngModel)]="closePopupObj.fl3" #multiObj="ngModel">
                                                        </ng-select2>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12">
                                                        <label class="control-label">Backtime: </label>
                                                    </div>
                                                    <div class="col-lg-8 col-md-8 col-sm-6 col-xs-12">
                                                        <input type="checkbox" name="backtime" [(ngModel)]="closePopupObj.backtime">
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12">
                                                        <label class="control-label">CloseOut Date/Time: </label>
                                                    </div>
                                                    <div class="col-lg-8 col-md-8 col-sm-6 col-xs-12">
                                                        <input type="text" name="closeout" [(ngModel)]="closePopupObj.closeOutDateTime"
                                                            disabled>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12">
                                                        <label class="control-label">Time zone: </label>
                                                    </div>
                                                    <div class="col-lg-8 col-md-8 col-sm-6 col-xs-12">
                                                        <input type="text" name="timezone" [(ngModel)]="closePopupObj.timezone"
                                                            disabled>
                                                    </div>
                                                </div>
                                            </div>
                                            <div *ngIf="showReturnTaskToWorkgroupSec">
                                                <div class="row">
                                                    <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12">
                                                        <label class="control-label">Narrative: </label>
                                                    </div>
                                                    <div class="col-lg-9 col-md-9 col-sm-6 col-xs-12">
                                                        <textarea class="form-control" name="comment" [(ngModel)]="comment"
                                                            maxlength="58"></textarea>
                                                        <div style="float: right">{{58-comment?.length}} characters
                                                            left</div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div *ngIf="showCancelSection">
                                                <div class="row">
                                                    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 text-center">
                                                        <label class="control-label">Are you sure you want to cancel ?
                                                        </label>
                                                    </div>
                                                    <!-- <div class="col-lg-9 col-md-9 col-sm-6 col-xs-12">
                                                            <textarea class="form-control" name="comment" [(ngModel)]="comment" maxlength="400"></textarea>
                                                            <div style="float: right">{{400-comment?.length}} characters left</div>
                                                        </div> -->
                                                </div>
                                            </div>
                                            <div *ngIf="showLmosRecoredSection">
                                                <div class="row">
                                                    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 text-center">
                                                        <label class="control-label">RECORD DOES NOT EXIST IN LMOS -
                                                            PERFORM AUTO SELECT </label>
                                                    </div>
                                                    <!-- <div class="col-lg-9 col-md-9 col-sm-6 col-xs-12">
                                                            <textarea class="form-control" name="comment" [(ngModel)]="comment" maxlength="400"></textarea>
                                                            <div style="float: right">{{400-comment?.length}} characters left</div>
                                                        </div> -->
                                                </div>
                                            </div>
                                            <br>
                                            <div class="row text-center">
                                                <div id="wcmAction" class="dropdown" dropdown [insideClick]="true"
                                                    *ngIf="!showCancelSection">
                                                    <button [disabled]="((showRerouteSection || showTransferSection) ? (transferTo != '' && comment != '') ? false : true : ((showReturnTaskToWorkgroupSec && comment != '')? false: ((showCloseSection || showCancelSection) ? false: true) ))
                                                    "
                                                        mat-raised-button (click)="submitDataToLMOSTD();" color="primary"
                                                        class="blue__btn">
                                                        {{(showCancelSection || showLmosRecoredSection)?
                                                        'Ok':'Submit'}}
                                                    </button>
                                                </div>
                                                <div id="wcmAction" class="dropdown" dropdown [insideClick]="true"
                                                    *ngIf="showCancelSection">
                                                    <button mat-raised-button (click)="submitDataToLMOSTD();" color="primary"
                                                        class="blue__btn">
                                                        Yes
                                                    </button>
                                                    <button mat-raised-button (click)="CloseLmosButtonPopup();" class="clear-btn reset-bgclr">
                                                        No
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </ng-template>
                                </div>
                                <div class="resizable resizable2">
                                    <div *ngIf="loaderLmosTaskRelativeTab" class="task_loader lmosbutton-openpopup">
                                        <!-- <mat-spinner class="spinner-style"></mat-spinner> -->
                                        <!-- <img src="assets/img/task_loader.svg" width="125px" alt="task" /> -->
                                        <!-- <img src="assets/img/Ellipsis-1s-200px.svg" width="125px" alt="task" /> -->
                                        <div class="spinner">
                                            <div class="bounce1"></div>
                                            <div class="bounce2"></div>
                                            <div class="bounce3"></div>
                                        </div>
                                    </div>
                                    <div class="col-md-12" *ngFor="let tab of relatedTabs" style="padding-right: 60px;overflow-x: hidden;">
                                        <div *ngIf="tab.active == true" class="panel panel-primary spr-panel" style="margin-bottom: 0;">
                                            <div class="panel-heading">{{tab.label}} Details
                                                <div class="pull-right">
                                                    <!-- <a (click)="loadTabDetails();" class="button-icon" rel="tooltip"
                                                        title="Refresh" data-placement="bottom">
                                                        <i class="material-icons" (click)="loadTabDetails();">cached</i>
                                                    </a> -->
                                                    <i class="material-icons" style="vertical-align:middle; margin-right: 10px; cursor: pointer;"
                                                        (click)="reloadTaskDetails();">cached</i>
                                                    <i (click)="toggleRes2Width()" style="vertical-align:middle; cursor: pointer;"
                                                        *ngIf="!res2Full" class="fa fa-arrows-alt"></i>
                                                    <i (click)="toggleRes2Width()" style="vertical-align:middle; cursor: pointer;"
                                                        *ngIf="res2Full" class="fa fa-times"></i>
                                                    <!-- <a (click)="toggleRes2Width()" class="button-icon" rel="tooltip"
                                                        title="Resize" data-placement="bottom">
                                                        <i *ngIf="!res2Full" class="fa fa-arrows-alt"></i>
                                                        <i *ngIf="res2Full" class="fa fa-times"></i>
                                                    </a> -->
                                                </div>
                                            </div>
                                            <div class="panel-body wcm_background" style="min-height: auto;height: auto;">
                                                <div class="widget-body">
                                                    <pre *ngIf="tab.fieldName != 'dlrl'" class="wcm_background set-height height-100-200">{{tab.content}}</pre>
                                                    <div *ngIf="tab.fieldName == 'dlrl'" class="wcm_background set-height height-100-200"
                                                        style="overflow: auto">
                                                        <div class="col-md-12">
                                                            <h3>LINE RECORD</h3>
                                                        </div>
                                                        <div class="col-md-12 dlrl-font-style">
                                                            <div class="col-md-6">
                                                                <div class="col-xs-12 col-sm-12 col-md-12 no-padding-right">
                                                                    <div class="col-md-5 text-left" style="padding: 0;">
                                                                        <!-- {{box.paramList.length}} -->
                                                                        <label class="smallkey p-0">Order:</label>
                                                                    </div>
                                                                    <div class="col-md-7 text-left">
                                                                        <label class="smallvalue p-0" *ngIf="DisplayDLRTData">{{tab.content.parsed.DetailLineRecord.Order}}&nbsp;</label>
                                                                    </div>
                                                                </div>
                                                                <div class="col-xs-12 col-sm-12 col-md-12 no-padding-right">
                                                                    <div class="col-md-5 text-left" style="padding: 0;">
                                                                        <!-- {{box.paramList.length}} -->
                                                                        <label class="smallkey p-0">CPE:</label>
                                                                    </div>
                                                                    <div class="col-md-7 text-left">
                                                                        <label class="smallvalue p-0" *ngIf="DisplayDLRTData">{{tab.content.parsed.DetailLineRecord.CPE}}&nbsp;</label>
                                                                    </div>
                                                                </div>
                                                                <div class="col-xs-12 col-sm-12 col-md-12 no-padding-right">
                                                                    <div class="col-md-5 text-left" style="padding: 0;">
                                                                        <!-- {{box.paramList.length}} -->
                                                                        <label class="smallkey p-0">No Maint Contract:</label>
                                                                    </div>
                                                                    <div class="col-md-7 text-left">
                                                                        <label class="smallvalue p-0" *ngIf="DisplayDLRTData">{{tab.content.parsed.DetailLineRecord.NoMaintContract}}&nbsp;</label>
                                                                    </div>
                                                                </div>
                                                                <div class="col-xs-12 col-sm-12 col-md-12 no-padding-right">
                                                                    <div class="col-md-5 text-left" style="padding: 0;">
                                                                        <!-- {{box.paramList.length}} -->
                                                                        <label class="smallkey p-0">Office Equipment:</label>
                                                                    </div>
                                                                    <div class="col-md-7 text-left">
                                                                        <label class="smallvalue p-0" *ngIf="DisplayDLRTData">{{tab.content.parsed.DetailLineRecord.EquipmentNum}}&nbsp;</label>
                                                                    </div>
                                                                </div>
                                                                <div class="col-xs-12 col-sm-12 col-md-12 no-padding-right">
                                                                    <div class="col-md-5 text-left" style="padding: 0;">
                                                                        <!-- {{box.paramList.length}} -->
                                                                        <label class="smallkey p-0">Exchange Key:</label>
                                                                    </div>
                                                                    <div class="col-md-7 text-left">
                                                                        <label class="smallvalue p-0" *ngIf="DisplayDLRTData">{{tab.content.parsed.DetailLineRecord.ExchangeKey}}&nbsp;</label>
                                                                    </div>
                                                                </div>
                                                                <div class="col-xs-12 col-sm-12 col-md-12 no-padding-right">
                                                                    <div class="col-md-5 text-left" style="padding: 0;">
                                                                        <!-- {{box.paramList.length}} -->
                                                                        <label class="smallkey p-0">Ring Cycle:</label>
                                                                    </div>
                                                                    <div class="col-md-7 text-left">
                                                                        <label class="smallvalue p-0" *ngIf="DisplayDLRTData">&nbsp;</label>
                                                                    </div>
                                                                </div>
                                                                <div class="col-xs-12 col-sm-12 col-md-12 no-padding-right">
                                                                    <div class="col-md-5 text-left" style="padding: 0;">
                                                                        <!-- {{box.paramList.length}} -->
                                                                        <label class="smallkey p-0">Last Change Date:</label>
                                                                    </div>
                                                                    <div class="col-md-7 text-left">
                                                                        <label class="smallvalue p-0" *ngIf="DisplayDLRTData">{{tab.content.parsed.DetailLineRecord.LastChangeDate}}&nbsp;</label>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <div class="col-xs-12 col-sm-12 col-md-12 no-padding-right">
                                                                    <div class="col-md-5 text-left" style="padding: 0;">
                                                                        <!-- {{box.paramList.length}} -->
                                                                        <label class="smallkey p-0">OriginEquipment:</label>
                                                                    </div>
                                                                    <div class="col-md-7 text-left">
                                                                        <label class="smallvalue p-0" *ngIf="DisplayDLRTData">{{tab.content.parsed.DetailLineRecord.OriginEquipment}}&nbsp;</label>
                                                                    </div>
                                                                </div>
                                                                <div class="col-xs-12 col-sm-12 col-md-12 no-padding-right">
                                                                    <div class="col-md-5 text-left" style="padding: 0;">
                                                                        <!-- {{box.paramList.length}} -->
                                                                        <label class="smallkey p-0">Vert Terminal:</label>
                                                                    </div>
                                                                    <div class="col-md-7 text-left">
                                                                        <label class="smallvalue p-0" *ngIf="DisplayDLRTData">{{tab.content.parsed.DetailLineRecord.VertTerminal}}&nbsp;</label>
                                                                    </div>
                                                                </div>
                                                                <div class="col-xs-12 col-sm-12 col-md-12 no-padding-right">
                                                                    <div class="col-md-5 text-left" style="padding: 0;">
                                                                        <!-- {{box.paramList.length}} -->
                                                                        <label class="smallkey p-0">Party:</label>
                                                                    </div>
                                                                    <div class="col-md-7 text-left">
                                                                        <label class="smallvalue p-0" *ngIf="DisplayDLRTData">{{tab.content.parsed.DetailLineRecord.Party}}&nbsp;</label>
                                                                    </div>
                                                                </div>
                                                                <div class="col-xs-12 col-sm-12 col-md-12 no-padding-right">
                                                                    <div class="col-md-5 text-left" style="padding: 0;">
                                                                        <!-- {{box.paramList.length}} -->
                                                                        <label class="smallkey p-0">Bridge:</label>
                                                                    </div>
                                                                    <div class="col-md-7 text-left">
                                                                        <label class="smallvalue p-0" *ngIf="DisplayDLRTData">{{tab.content.parsed.DetailLineRecord.Bridge}}&nbsp;</label>
                                                                    </div>
                                                                </div>
                                                                <div class="col-xs-12 col-sm-12 col-md-12 no-padding-right">
                                                                    <div class="col-md-5 text-left" style="padding: 0;">
                                                                        <!-- {{box.paramList.length}} -->
                                                                        <label class="smallkey p-0">Night Service:</label>
                                                                    </div>
                                                                    <div class="col-md-7 text-left">
                                                                        <label class="smallvalue p-0" *ngIf="DisplayDLRTData">{{tab.content.parsed.DetailLineRecord.NightService}}&nbsp;</label>
                                                                    </div>
                                                                </div>
                                                                <div class="col-xs-12 col-sm-12 col-md-12 no-padding-right">
                                                                    <div class="col-md-5 text-left" style="padding: 0;">
                                                                        <!-- {{box.paramList.length}} -->
                                                                        <label class="smallkey p-0">Call Forward Num:</label>
                                                                    </div>
                                                                    <div class="col-md-7 text-left">
                                                                        <label class="smallvalue p-0" *ngIf="DisplayDLRTData">{{tab.content.parsed.DetailLineRecord.Secondary}}&nbsp;</label>
                                                                    </div>
                                                                </div>
                                                                <div class="col-xs-12 col-sm-12 col-md-12 no-padding-right">
                                                                    <div class="col-md-5 text-left" style="padding: 0;">
                                                                        <!-- {{box.paramList.length}} -->
                                                                        <label class="smallkey p-0">MCN:</label>
                                                                    </div>
                                                                    <div class="col-md-7 text-left">
                                                                        <label class="smallvalue p-0">{{MCNValue}}&nbsp;</label>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div><br>
                                                        <div class="col-md-12">
                                                            <b>Remarks</b>
                                                        </div>
                                                        <div class="col-md-12 dlrl-font-style">
                                                            <table class="table" border="1">
                                                                <thead>
                                                                    <tr>
                                                                        <th>Sequence</th>
                                                                        <th>Remark</th>
                                                                    </tr>
                                                                </thead>
                                                                <tbody *ngIf="DisplayDLRTData">
                                                                    <tr *ngFor="let data of tab.content.parsed.DetailLineRecord.Remarks">
                                                                        <td>{{data.Remark.RmkSeqNum}}</td>
                                                                        <td>{{data.Remark.RmkText}}</td>
                                                                    </tr>
                                                                </tbody>
                                                            </table>
                                                        </div><br>
                                                        <div class="col-md-12">
                                                            <b>Service & Equipment (S&E)</b>
                                                        </div>
                                                        <div class="col-md-12 dlrl-font-style">
                                                            <table class="table" border="1">
                                                                <thead>
                                                                    <tr>
                                                                        <th>USOC</th>
                                                                        <th>QTY</th>
                                                                        <th>Key Sys</th>
                                                                        <th>LTD</th>
                                                                        <th>REF</th>
                                                                    </tr>
                                                                </thead>
                                                                <tbody *ngIf="DisplayDLRTData">
                                                                    <tr *ngFor="let data of tab.content.parsed.DetailLineRecord.LineRecords.SvcAndEquips">
                                                                        <td>{{data.SvcAndEquip.USOC}}</td>
                                                                        <td>{{data.SvcAndEquip.Qty}}</td>
                                                                        <td>{{data.SvcAndEquip.KeySystem}}</td>
                                                                        <td>{{data.SvcAndEquip.LetteredTermDesig}}</td>
                                                                        <td>{{data.SvcAndEquip.Reference}}</td>
                                                                    </tr>
                                                                </tbody>
                                                            </table>
                                                        </div><br>
                                                        <div class="col-md-12">
                                                            <b>Cables (CAB)</b>
                                                        </div>
                                                        <div class="col-md-12 dlrl-font-style">
                                                            <table class="table" border="1">
                                                                <thead>
                                                                    <tr>
                                                                        <th>Type</th>
                                                                        <th>Cable Num</th>
                                                                        <th>Pair</th>
                                                                        <th>NPA</th>
                                                                        <th>WC</th>
                                                                        <th>PRU</th>
                                                                    </tr>
                                                                </thead>
                                                                <tbody *ngIf="DisplayDLRTData">
                                                                    <tr *ngFor="let data of tab.content.parsed.DetailLineRecord.LineRecords.Cables">
                                                                        <td>{{data.Cable.Type}}</td>
                                                                        <td>{{data.Cable.CableNum}}</td>
                                                                        <td>{{data.Cable.Pair}}</td>
                                                                        <td>{{data.Cable.NumPlanArea}}</td>
                                                                        <td>{{data.Cable.WireCenter}}</td>
                                                                        <td>{{data.Cable.PairUse}}</td>
                                                                    </tr>
                                                                </tbody>
                                                            </table>
                                                        </div><br>
                                                        <div class="col-md-12">
                                                            <b>Pair Gain Systems (PGS)</b>
                                                        </div>
                                                        <div class="col-md-12 dlrl-font-style">
                                                            <table class="table" border="1">
                                                                <thead>
                                                                    <tr>
                                                                        <th>Type</th>
                                                                        <th>In Type ID</th>
                                                                        <th>Line Terminal</th>
                                                                    </tr>
                                                                </thead>
                                                                <tbody *ngIf="DisplayDLRTData">
                                                                    <tr *ngFor="let data of tab.content.parsed.DetailLineRecord.LineRecords.PairGainSystems">
                                                                        <td>{{data.PairGainSystem.Type}}</td>
                                                                        <td>{{data.PairGainSystem.InTypeId}}</td>
                                                                        <td>{{data.PairGainSystem.LineTerminal}}</td>
                                                                    </tr>
                                                                </tbody>
                                                            </table>
                                                        </div><br>
                                                        <div class="col-md-12">
                                                            <b>Hunting Lines (HTG)</b>
                                                        </div>
                                                        <div class="col-md-12 dlrl-font-style">
                                                            <table class="table">
                                                                <thead>
                                                                    <tr>
                                                                        <th>FID</th>
                                                                        <th>ID</th>
                                                                        <th>Type</th>
                                                                    </tr>
                                                                </thead>
                                                                <!-- <tbody *ngIf="DisplayDLRTData">
                                                                        <tr *ngFor="let data of tab.content.parsed.DetailLineRecord.LineRecords.PairGainSystems">
                                                                            <td>{{data.PairGainSystem.Type}}</td>
                                                                            <td>{{data.PairGainSystem.InTypeId}}</td>
                                                                            <td>{{data.PairGainSystem.LineTerminal}}</td>
                                                                        </tr>
                                                                    </tbody> -->
                                                            </table>
                                                        </div><br>
                                                        <div class="col-md-12">
                                                            <h3>Other Details</h3>
                                                        </div>
                                                        <div class="col-md-12 dlrl-font-style">
                                                            <div class="col-md-6">
                                                                <div class="col-xs-12 col-sm-12 col-md-12 no-padding-right">
                                                                    <div class="col-md-5 text-left" style="padding: 0;">
                                                                        <!-- {{box.paramList.length}} -->
                                                                        <label class="smallkey p-0">SSN:</label>
                                                                    </div>
                                                                    <div class="col-md-7 text-left">
                                                                        <label class="smallvalue p-0" *ngIf="DisplayDLRTData">{{tab.content.parsed.DetailLineRecord.SpclSvcNarrative}}&nbsp;</label>
                                                                    </div>
                                                                </div>
                                                                <div class="col-xs-12 col-sm-12 col-md-12 no-padding-right">
                                                                    <div class="col-md-5 text-left" style="padding: 0;">
                                                                        <!-- {{box.paramList.length}} -->
                                                                        <label class="smallkey p-0">HSID:</label>
                                                                    </div>
                                                                    <div class="col-md-7 text-left">
                                                                        <label class="smallvalue p-0" *ngIf="DisplayDLRTData">{{tab.content.parsed.DetailLineRecord.SecondaryLineInd}}&nbsp;</label>
                                                                    </div>
                                                                </div>
                                                                <div class="col-xs-12 col-sm-12 col-md-12 no-padding-right">
                                                                    <div class="col-md-5 text-left" style="padding: 0;">
                                                                        <!-- {{box.paramList.length}} -->
                                                                        <label class="smallkey p-0">HSEC:</label>
                                                                    </div>
                                                                    <div class="col-md-7 text-left">
                                                                        <label class="smallvalue p-0" *ngIf="DisplayDLRTData">{{tab.content.parsed.DetailLineRecord.HasSecondaryFlag}}&nbsp;</label>
                                                                    </div>
                                                                </div>
                                                                <div class="col-xs-12 col-sm-12 col-md-12 no-padding-right">
                                                                    <div class="col-md-5 text-left" style="padding: 0;">
                                                                        <!-- {{box.paramList.length}} -->
                                                                        <label class="smallkey p-0">HDPA:</label>
                                                                    </div>
                                                                    <div class="col-md-7 text-left">
                                                                        <label class="smallvalue p-0" *ngIf="DisplayDLRTData">{{tab.content.parsed.DetailLineRecord.DiffPremAddrFlag}}&nbsp;</label>
                                                                    </div>
                                                                </div>
                                                                <div class="col-xs-12 col-sm-12 col-md-12 no-padding-right">
                                                                    <div class="col-md-5 text-left" style="padding: 0;">
                                                                        <!-- {{box.paramList.length}} -->
                                                                        <label class="smallkey p-0">TAS:</label>
                                                                    </div>
                                                                    <div class="col-md-7 text-left">
                                                                        <label class="smallvalue p-0" *ngIf="DisplayDLRTData">{{tab.content.parsed.DetailLineRecord.TeleAnsSvc}}&nbsp;</label>
                                                                    </div>
                                                                </div>
                                                                <div class="col-xs-12 col-sm-12 col-md-12 no-padding-right">
                                                                    <div class="col-md-5 text-left" style="padding: 0;">
                                                                        <!-- {{box.paramList.length}} -->
                                                                        <label class="smallkey p-0">TAC:</label>
                                                                    </div>
                                                                    <div class="col-md-7 text-left">
                                                                        <label class="smallvalue p-0" *ngIf="DisplayDLRTData">{{tab.content.parsed.DetailLineRecord.TeleAnsSvcCust}}&nbsp;</label>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <div class="col-xs-12 col-sm-12 col-md-12 no-padding-right">
                                                                    <div class="col-md-5 text-left" style="padding: 0;">
                                                                        <!-- {{box.paramList.length}} -->
                                                                        <label class="smallkey p-0">LCD:</label>
                                                                    </div>
                                                                    <div class="col-md-7 text-left">
                                                                        <label class="smallvalue p-0" *ngIf="DisplayDLRTData">{{tab.content.parsed.DetailLineRecord.LastChangeDate}}&nbsp;</label>
                                                                    </div>
                                                                </div>
                                                                <div class="col-xs-12 col-sm-12 col-md-12 no-padding-right">
                                                                    <div class="col-md-5 text-left" style="padding: 0;">
                                                                        <!-- {{box.paramList.length}} -->
                                                                        <label class="smallkey p-0">LCT:</label>
                                                                    </div>
                                                                    <div class="col-md-7 text-left">
                                                                        <label class="smallvalue p-0" *ngIf="DisplayDLRTData">{{tab.content.parsed.DetailLineRecord.LastChangeTime}}&nbsp;</label>
                                                                    </div>
                                                                </div>
                                                                <div class="col-xs-12 col-sm-12 col-md-12 no-padding-right">
                                                                    <div class="col-md-5 text-left" style="padding: 0;">
                                                                        <!-- {{box.paramList.length}} -->
                                                                        <label class="smallkey p-0">HLEX:</label>
                                                                    </div>
                                                                    <div class="col-md-7 text-left">
                                                                        <label class="smallvalue p-0" *ngIf="DisplayDLRTData">{{tab.content.parsed.DetailLineRecord.HasLineRecExt}}&nbsp;</label>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="col-md-12">
                                                                <div class="col-xs-12 col-sm-12 col-md-12 no-padding-right">
                                                                    <div class="col-md-2 text-left" style="padding: 0;">
                                                                        <!-- {{box.paramList.length}} -->
                                                                        <label class="smallkey p-0">LN:</label>
                                                                    </div>
                                                                    <div class="col-md-10 text-left">
                                                                        <label class="smallvalue p-0" *ngIf="DisplayDLRTData">{{tab.content.parsed.DetailLineRecord.ListedName}}&nbsp;</label>
                                                                    </div>
                                                                </div>
                                                                <div class="col-xs-12 col-sm-12 col-md-12 no-padding-right">
                                                                    <div class="col-md-2 text-left" style="padding: 0;">
                                                                        <!-- {{box.paramList.length}} -->
                                                                        <label class="smallkey p-0">SA:</label>
                                                                    </div>
                                                                    <div class="col-md-10 text-left">
                                                                        <label class="smallvalue p-0" *ngIf="DisplayDLRTData">{{tab.content.parsed.DetailLineRecord.SvcAddress}}&nbsp;</label>
                                                                    </div>
                                                                </div>
                                                                <div class="col-xs-12 col-sm-12 col-md-12 no-padding-right">
                                                                    <div class="col-md-2 text-left" style="padding: 0;">
                                                                        <!-- {{box.paramList.length}} -->
                                                                        <label class="smallkey p-0">RMK:</label>
                                                                    </div>
                                                                    <div class="col-md-10 text-left">
                                                                        <label class="smallvalue p-0" *ngIf="DisplayDLRTData">{{tab.content.otime}}&nbsp;</label>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <ul class="nav nav-tabs lmos-tb-lst" id="demo-pill-nav1">
                                                    <li [class.active]="tab.active" *ngFor="let tab of relatedTabs; let tabIndex=index;">
                                                        <a (click)="loadTabDetails(tabIndex);" *ngIf="tab.visible">
                                                            <span class="lmos-tb-ic">{{tab.label.substring(0,3)}}</span>
                                                            <span>{{tab.label}}</span>
                                                        </a>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- <div class="inner">
                                            <div class="widget-body">
                                                <div class="tabs-left spr-tabs">
                                                    <ul class="nav nav-tabs tabs-left text-align-center" id="demo-pill-nav1">
                                                        <li [class.active]="tab.active" *ngFor="let tab of relatedTabs; let tabIndex=index;">
                                                            <a (click)="loadTabDetails(tabIndex);" *ngIf="tab.visible">
                                                                {{tab.label}}
                                                            </a>
                                                        </li>
                                                    </ul>
                                                    <tabset>
                                                        <tab [active]="tab.active" *ngFor="let tab of relatedTabs; let tabIndex=index;">
                                                            <sa-widgets-grid>
                                                                <article class="col-sm-12">
                                                                    <div sa-widget *ngIf="tab.visible" [editbutton]="false"
                                                                        [fullscreenbutton]="true" [deletebutton]="false"
                                                                        [colorbutton]="true" [togglebutton]="true" name="rihtTabContent">
                                                                        <header>
                                                                            <div class="jarviswidget-ctrls" role="menu">
                                                                                <a (click)="loadTabDetails(tabIndex);" href="javascript:void(0);"
                                                                                    class="button-icon" rel="tooltip" title="Refresh"
                                                                                    data-placement="bottom">
                                                                                    <i class="material-icons" style="color: #fff; margin-top: 4px;">cached</i>
                                                                                </a>
                                                                            </div>
                                                                            <span class="widget-icon"> <i class="fa fa-table"></i>
                                                                            </span>
                                                                            <h2>{{tab.label}} Details</h2>
                                                                        </header>
                                                                        <div class="widget-body">
                                                                            <pre class="wcm_background">{{tab.content}}</pre>
                                                                        </div>
                                                                    </div>
                                                                </article>
                                                            </sa-widgets-grid>
                                                        </tab>
                                                    </tabset>
                                                    <ul class="nav nav-tabs pull-right lmos-tb-lst" id="demo-pill-nav1">
                                                        <li [class.active]="tab.active" *ngFor="let tab of relatedTabs; let tabIndex=index;">
                                                            <a (click)="loadTabDetails(tabIndex);" *ngIf="tab.visible">
                                                                <span class="lmos-tb-ic">{{tab.label.substring(0,3)}}</span>
                                                                <span>{{tab.label}}</span>
                                                            </a>
                                                        </li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div> -->
                                </div>
                            </tab>
                            <tab class="left-tab-pane" [active]="leftSideTabs.tab == 'log-details'">
                                <div id="systemtable" class="table-responsive col-md-12" *ngFor="let layoutElem of logPageLayout['pageLayoutTemplate']"
                                    style="margin-top: 12px;">
                                    <div *ngIf="layoutElem.sectionHeader == 'Log Details'">
                                        <!-- <div class="panel-heading">{{layoutElem.sectionHeader}}</div>
                                                                            <div class="panel-body" style="column-count: 1; height: auto;overflow:auto;"> -->
                                        <!-- <div class="widget-body" style="padding-top: 5px;overflow-y: hidden;padding: 1%;"> -->
                                    
                                        <sa-table *ngIf = "showLogs" class="col-md-12 p-0" [pagination]="pagination" [actionButton]="actionButton"
                                            [actionColumn]="actionColumn" [tableHeader]="actionColumn" [tableData]="displayTaskResult"
                                            [tableOtherContent]="LogDetailsParameter" [filter]="filter" [tablePaginationData]="tablePaginationData"
                                            (showAdditionalDetailsParent)="showAdditionalDetails($event, taskDetails)" (addNewRowParent)="addNewRow()"
                                            (onSaveParent)="onSaveClick($event)" (onEditParent)="onEditClick($event)"
                                            (onDeleteParent)="onDeleteClick($event)" (onCloseParent)="onCloseClick($event)"
                                            (openTabParent)="openDetailViewTD($event)" (expandRow)="expandRow($event)" (refresh)="onRefreshLogs()">
                                        </sa-table>
                                        <!-- </div> -->
                                        <!-- </div> -->
                                    </div>
                                </div>
                            </tab>
                            <tab class="left-tab-pane" [active]="leftSideTabs.tab == 'relationship-map'">
                                <div class="comingbox"> Coming Soon...</div>
                            </tab>
                        </tabset>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<div *ngIf="SPRTask">
    <div class="wrap wrap-scroll">
        <div class="alert alert-success alert-dismissible" *ngIf="IsSucess" style="background-color: green;color: #fff;">
            <strong>Success! </strong>{{message}}.
            <button type="button" class="close" data-dismiss="alert" (click)="IsSucess = false">&times;</button>
        </div>
        <div class="alert alert-danger alert-dismissible" *ngIf="IsError && !isModalErrMsgSet" style="background-color: #ce2f2f;color: #fff;">
            <strong>Error! </strong>{{message}}.
            <button type="button" class="close" data-dismiss="alert" style="background-color: #fff;" (click)="IsError = false">&times;</button>
        </div>
        <div class="form-group">
            <div class="sticky-tab-header spr-tabs">
                <ul class="nav nav-tabs tabs-left text-align-center" id="demo-pill-nav">
                    <li [class.active]="leftSideTabs.tab == 'task-details'">
                        <a (click)="leftSideTabs.tab = 'task-details'">
                            Order Details</a>
                    </li>
                    <li [class.active]="leftSideTabs.tab == 'general-details'">
                        <a (click)="(leftSideTabs.tab = 'general-details');">
                            Task General Details</a>
                    </li>
                    <li [class.active]="leftSideTabs.tab == 'log-details'">
                        <a (click)="selectTab('log-details');">
                            Audit Log</a>
                    </li>
                </ul>
            </div>
            <div class="col-sm-12 p-0 padding-top-60 vh-100-140-auto-g ">
                <sa-boxed-layout [leftSideTabs]="leftSideTabs" [pageLayout]="pageLayout" [logPageLayout]="logPageLayout"
                    [taskDetails]="taskDetails" [isShow]="'sprtask'" [logData]="logData" [loaderTaskDetail]="loaderTaskDetail"
                    [activityLog]="activityLog" [data]="data" [CustomerAttributorData]="CustomerAttributorData"
                    [NewV2Data]="NewV2Data" (refresh)="refresh()" (filterValue)="filterTaskResult($event)"
                    (OpenDuaDateDialog)="OpenDuaDateDialog()" (OpenCancelDialog)="OpenCancelDialog()" [pagination]="pagination"
                    [actionButton]="actionButton" [actionColumn]="actionColumn" [tableHeader]="actionColumn"
                    [tableData]="displayTaskResult" [tableOtherContent]="LogDetailsParameter" [filter]="actionColumn"
                    [tablePaginationData]="tablePaginationData" (showAdditionalDetailsParent)="showAdditionalDetails($event, taskDetails)" (pageChangedParent)="onPaginateInnerGrid($event)"
                    (paginationChangeParent)="onLimitChange($event)" (filterColumnParent)="LogfilterTaskResult($event)"
                    (onSortParent)="onLogSortSelection($event)" (previousAll)="previousTasks()" (previous)="onGridPrevious()"
                    (nextAll)="nextTasks()" (next)="onGridNext()">
                </sa-boxed-layout>
            </div>
        </div>
    </div>
</div>

<div *ngIf="LMOSTask">
    <div>
        <div class="alert alert-success alert-dismissible" *ngIf="IsSucess" style="background-color: green;color: #fff;">
            <strong>Success! </strong>{{message}}.
            <button type="button" class="close" data-dismiss="alert" (click)="IsSucess = false">&times;</button>
        </div>
        <div class="alert alert-danger alert-dismissible" *ngIf="IsError && !isModalErrMsgSet" style="background-color: #ce2f2f;color: #fff;">
            <strong>Error! </strong>{{message}}.
            <button type="button" class="close" data-dismiss="alert" style="background-color: #fff;" (click)="IsError = false">&times;</button>
        </div>
        <div class="resizable MainPage example-2">
            <div class="inner">
                <form name="form" class="task-details-form">
                    <div class="form-group">
                        <div class="sticky-tab-header spr-tabs">
                            <ul class="nav nav-tabs tabs-left text-align-center" id="demo-pill-nav">
                                <li [class.active]="leftSideTabs.tab == 'request-details'">
                                    <a (click)="selectTab('request-details')">Task Summary</a>
                                </li>
                                <li [class.active]="leftSideTabs.tab == 'log-details'">
                                    <a (click)="selectTab('log-details')">Log Details</a>
                                </li>
                                <!-- <li [class.active]="leftSideTabs.tab == 'relationship-map'">
                                    <a (click)="leftSideTabs.tab = 'relationship-map'">Relationship Map</a>
                                </li> -->
                            </ul>

                            <div class="pull-right" [hidden]="leftSideTabs.tab !== 'request-details'">
                                <div>
                                    <div style="padding-top:5px;padding-right: 15px;">
                                        <div style="display:inline-block">

                                            <a (click)="getTaskDetails()" class="cm-refresh pull-right margin-right-13"
                                                style="font-size:150%">
                                                <span class="glyphicon glyphicon-refresh"></span>
                                            </a>
                                            <div *ngIf="processData.sourceSystemId == '553' && !IsHalfScreen" style="display: inline-block;">
                                                <div *ngFor="let button of LmosButton.fieldsList" style="display: inline-flex;">
                                                    <button *ngIf="button.fieldName !='forceClose'" (click)="lmosAction(button, template)" class="btn btn-success blue__btn pull-right margin-right-13"
                                                        mat-raised-button [disabled]="!isECAvailable">
                                                        {{(button.fieldName == 'transfter' && taskDetails['assignedCuid'] == null && taskDetails['taskStatus'] == 'Ready')? 'Assign' : button.label}}
                                                    </button>
                                                    <button *ngIf="button.fieldName =='forceClose' " (click)="lmosAction(button, template)" class="btn btn-success blue__btn pull-right margin-right-13"
                                                        mat-raised-button [disabled]=" !(isECAvailable && isForceClose)">
                                                        {{button.label}}
                                                    </button>
                                                </div>
                                            </div>
                                            <div *ngIf="processData.sourceSystemId == '553' && IsHalfScreen && LmosButton.fieldsList.length > 0"
                                                style="width: 121px;">
                                                <div class="btn-group" role="group">
                                                    <button id="btnGroupDrop1" [disabled]="!isECAvailable" type="button" class="btn btn-success blue__btn pull-right margin-right-13 dropdown-toggle"
                                                        data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"
                                                        style="display: inline-flex;">
                                                        Action
                                                    </button>
                                                        <div class="pull-right dropdown-menu" aria-labelledby="btnGroupDrop1">
                                                                <div *ngFor="let button of LmosButton.fieldsList" >
                                                                    <a *ngIf=" button.fieldName !='forceClose' " class="btn btn-success blue__btn margin-right-13 dropdown-item"
                                                                    href="#" (click)="lmosAction(button, template)" style="width: 90%;margin: 5px 7px 5px 9px;">{{button.label}}</a>

                                                                    <a *ngIf=" button.fieldName =='forceClose' && isForceClose " class="btn btn-success blue__btn margin-right-13 dropdown-item"
                                                                    href="#" (click)="lmosAction(button, template)" style="width: 90%;margin: 5px 7px 5px 9px;">{{button.label}}</a>
                                                                </div>
                                                            </div>
                                                    </div>
                                                </div>
                                        </div>
                                        <span class="btn-header menu-icon {{(IsHalfScreen)? ((LmosButton.fieldsList.length > 0)? 'lmosbutton-inline-menuicon-halfscreen-with-button':'lmosbutton-inline-menuicon-halfscreen-without-button'):((LmosButton.fieldsList.length > 0)? 'lmosbutton-inline-menuicon-fullscreen-with-button':'lmosbutton-inline-menuicon-fullscreen-without-button')}}"
                                            *ngIf="processData.sourceSystemId == '553'">
                                            <button [disabled]="RelatedTabMenuButtonDisabled" class="toggle btn btn-link ie10classbtn {{(LmosButton.fieldsList.length > 0)? 'top-4':'top0'}}" title="Related Tabs View" (click)="maximizeLeftPanelWindow()" style="margin: 0px;padding: 0;">
                                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="fa lmos-tb-hvr"
                                                    style="height: 16px; display: inline-block;">
                                                    <path fill="#ffffff" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path>
                                                </svg>
                                                <!-- <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="fa fa-plane-alt"
                                                    style="height: 16px;">
                                                    <path fill="#ffffff" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path>
                                                </svg> -->
                                            </button>
                                            <ul class="nav nav-tabs lmos-tb-lst-2" id="demo-pill-nav2" *ngIf="!IsHalfScreen && !RelatedTabMenuButtonDisabled">
                                                <li [class.active]="tab.active" *ngFor="let tab of relatedTabs; let tabIndex=index;">
                                                    <a (click)="maximizeLeftPanelWindow(); loadTabDetails(tabIndex, true);" *ngIf="tab.visible" style="padding: 3px 10px;">
                                                        <span class="lmos-tb-ic" style="padding-top: 0;">
                                                            <img src="../../../../assets/img/{{tab.icon}}" class="tab-icon" />
                                                        </span>
                                                        <span>{{tab.label}}</span>
                                                    </a>
                                                </li>
                                            </ul>
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <tabset class="col-sm-12 no-padding padding-top-40">
                            <tab class="left-tab-pane col-sm-12 pl-0 pr-0" [active]="leftSideTabs.tab == 'request-details'"
                                id="lmosTabSet">
                                <div class="task_loader lmosbutton-openpopup" *ngIf="!taskDetails['taskSectionModels'] || taskDetails['taskSectionModels'].length==0">
                                    <h4 style="color:red; font-weight: bold;">
                                        No data found for this ticket...
                                    </h4>
                                </div>
                                <div class="resizable resizable1 GetHeight wrap-scroll" style="border:0;">
                                    <div *ngIf="loaderLmosTaskPopup" class="task_loader lmosbutton-openpopup">
                                        <!-- <mat-spinner class="spinner-style"></mat-spinner> -->
                                        <!-- <img src="assets/img/task_loader.svg" width="125px" alt="task" /> -->
                                        <!-- <img src="assets/img/Ellipsis-1s-200px.svg" width="125px" alt="task" /> -->
                                        <div class="spinner">
                                            <div class="bounce1"></div>
                                            <div class="bounce2"></div>
                                            <div class="bounce3"></div>
                                        </div>
                                    </div>
                                    <!--(dblclick)="maximizeLeftPanelWindow()"-->
                                    <!-- <div class="col-sm-12">
                                        <div class="col-sm-12 lightdarkborderbottom" style="padding-left: 0;">
                                            <div class="form-group">
                                                <div class="input-group ml-0" [ngClass]="IsHalfScreen ? 'p-0':'cm-pd-top-15'"
                                                    style="padding-left: 0;">
                                                    <label class="key">ID:</label>
                                                    <label class="value ml-0">{{taskDetails.sourceTaskId}}</label>
                                                </div>
                                                <div class="input-group ml-0 pl-0" [ngClass]="IsHalfScreen ? 'p-0':'cm-pd-top-15'">
                                                    <label class="key">Name:</label>
                                                    <label class="value ml-0">{{taskDetails.taskName}}</label>
                                                </div>
                                            </div>
                                        </div>
                                    </div> -->
                                    <div class="col-md-12" style="margin-top:10px;margin-bottom: 10px;">
                                        <div class="col-sm-12 p-0">
                                            <ng-container *ngFor="let taskSection of taskDetails['taskSectionModels'];">
                                                <div class="lmos-border-right-bottom" [ngClass]="IsHalfScreen ? 'col-md-12':'col-md-8'"
                                                    *ngIf="taskSection.header == 'Trouble Report'">
                                                    <div class="col-md-12 darkborderbottom p-0">
                                                        <div class="col-md-12" style="padding-left: 0px;">
                                                            <label class="key">{{LMOSLayoutDetails.trouble_ticket.sectionHeader}}
                                                            </label>
                                                            <!-- <ng-container *ngFor="let troubleData of taskSection.paramList;">
                                                                <label class="value ml-0" *ngIf="troubleData.name=='TTN'">{{troubleData.value}}</label>
                                                            </ng-container> -->
                                                        </div>
                                                    </div>
                                                    <div class="col-md-12" style="padding: 10px; column-count: 2; column-gap: 0;">
                                                        <div class="p-0 troubl-rprt-item" *ngFor="let fieldDetails of LMOSLayoutDetails.trouble_ticket.fieldsList">
                                                            <div class="text-left p-0" *ngIf="fieldDetails.fieldName != 'TROUBLE' && fieldDetails.fieldName != 'LMOSSTATUS'"
                                                                [ngClass]="fieldDetails.fieldName == 'assignedWorkGroups' ? 'col-md-12' : 'col-md-6'">
                                                                <label class="smallkey p-0 m-0" *ngIf="fieldDetails.label">{{fieldDetails.label}}:</label>
                                                            </div>
                                                            <div *ngIf="fieldDetails.fieldName != 'TROUBLE' && fieldDetails.fieldName != 'STATUS'"
                                                                class="col-md-6 text-left" style="padding-right:0;">
                                                                <label class="smallvalue p-0 m-0">
                                                                    <ng-container *ngFor="let troubleData of taskSection.paramList;">
                                                                        <ng-container *ngIf="troubleData.name == fieldDetails.fieldName">
                                                                            {{troubleData.value}} 
                                                                            <span *ngIf="fieldDetails.fieldNameB">
                                                                                <ng-container *ngFor="let troubleData of taskSection.paramList;">
                                                                                    <ng-container *ngIf="troubleData.name == fieldDetails.fieldNameB">
                                                                                        {{(troubleData.value != '')? ' / ' + troubleData.value : ''}}
                                                                                    </ng-container>
                                                                                </ng-container>
                                                                            </span>
                                                                        </ng-container>
                                                                    </ng-container>
                                                                </label>
                                                            </div>
                                                            <div class="text-left p-0 col-md-12" *ngIf="fieldDetails.fieldName == 'TROUBLE' || fieldDetails.fieldName == 'LMOSSTATUS'">
                                                                <label class="smallkey p-0 m-0" *ngIf="fieldDetails.label">{{fieldDetails.label}}:</label>
                                                            </div>
                                                            <div *ngIf="fieldDetails.fieldName == 'TROUBLE' || fieldDetails.fieldName == 'STATUS'"
                                                                class="col-md-12 text-left" style="padding-left:0;">
                                                                <ng-container *ngFor="let troubleData of taskSection.paramList;">
                                                                    <textarea rows="3" style="height: 50px; resize: none;"
                                                                        *ngIf="troubleData.name == fieldDetails.fieldName"
                                                                        [value]="troubleData.value" disabled=""></textarea>
                                                                </ng-container>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </ng-container>
                                            <ng-container *ngFor="let taskSection of taskDetails['taskSectionModels'];">
                                                <ng-container *ngIf="taskSection.header == 'Trouble Report'">
                                                    <div class="lmos-border-right-bottom" *ngFor="let box of LMOSLayoutDetails.assigned_details.fieldsList"
                                                        [ngClass]="IsHalfScreen ? 'col-md-12':'col-md-4'">
                                                        <div class="col-md-12 darkborderbottom p-0">
                                                            <div class="col-md-12" style="padding-left: 0px;">
                                                                <label class="key">{{box.header.label}}:
                                                                    <span *ngIf="box.header.label=='Status'" [ngStyle]="{color: getStatusColor(taskDetails.taskStatus)}">{{taskDetails.taskStatus}}</span>
                                                                    <span *ngIf="box.header.showHistory" (click)="box.header.history = !box.header.history; getParentTaskStatusHistory(taskDetails, box.header.history, box)"
                                                                        style="cursor: pointer;position: relative;top: 5px;">
                                                                        <mat-icon *ngIf="box.header.history" class="material-icons add_box system__add">play_arrow</mat-icon>
                                                                        <mat-icon *ngIf="!box.header.history" class="system__add add_box"
                                                                            style="transform: rotate(90deg);">play_arrow</mat-icon>
                                                                    </span>
                                                                </label>
                                                                <!-- <label class="valuedarkblue"></label> -->
                                                            </div>
                                                            <div class="col-md-12 HistoryDiv p-0" *ngIf="!box.header.history && box.header.label=='Status'">
                                                                <h4>Status History:</h4>
                                                                <div id="table-section" class="tab-content table-responsive"
                                                                    style="max-height: 200px; overflow:auto;">
                                                                    <table class="table table-striped table-hover">
                                                                        <tbody>
                                                                            <tr *ngFor="let historyDetails of parentTaskHistory;">
                                                                                <td style="padding:5px; white-space: nowrap;">{{historyDetails.statusCode}}</td>
                                                                                <td style="padding:5px; white-space: nowrap;">{{historyDetails.status}}</td>
                                                                                <td style="padding:5px; white-space: nowrap;">{{historyDetails.createdDttm}}</td>
                                                                            </tr>
                                                                        </tbody>
                                                                    </table>
                                                                </div>
                                                                <div class="col-md-12" style="margin:10px;"></div>
                                                            </div>
                                                        </div>
                                                        <div class="col-md-12" style="padding: 10px;">
                                                            <div class="col-md-12 p-0" *ngFor="let data of box.body">
                                                                <div class="col-md-6 text-left p-0" *ngIf="data.fieldName != 'button_notes'">
                                                                    <label class="smallkey p-0 m-0" style="white-space:nowrap;"
                                                                        *ngIf="data.label">{{data.label}}:</label>
                                                                </div>
                                                                <div class="col-md-6 text-left" style="padding-right:0;" *ngIf="data.fieldName != 'button_notes'">
                                                                    <label class="smallvalue p-0 m-0" *ngIf="data.fieldName=='assignedCuid' || data.fieldName=='assignedName'">
                                                                        {{taskDetails[data.fieldName]}}
                                                                    </label>
                                                                    <label class="smallvalue p-0 m-0" *ngIf="data.fieldName=='workgroupList'">
                                                                        <span *ngFor="let name of taskDetails.workgroupList">{{name.workgroupName}}</span>
                                                                    </label>
                                                                    <label class="smallvalue p-0 m-0" *ngIf="data.fieldName!='assignedCuid' && data.fieldName!='assignedName' && data.fieldName!='workgroupList'">
                                                                        <ng-container *ngFor="let troubleData of taskSection.paramList;">
                                                                            <ng-container *ngIf="troubleData.name == data.fieldName && !data.textarea">
                                                                                {{troubleData.value}}
                                                                            </ng-container>
                                                                        </ng-container>
                                                                    </label>
                                                                </div>
                                                                <div *ngIf="data.textarea" class="col-md-12 text-left" style="padding-left:0;">
                                                                    <textarea rows="3" style="height: 60px; resize: none;" name="notes"
                                                                    [(ngModel)]="taskDetails[data.fieldName]">
                                                                    </textarea>
                                                                </div>
                                                                <div *ngIf="data.button" class="col-md-12 text-left" style="padding-left:0;">
                                                                    <button (click)="SaveTaskNotes()" class="btn btn-success blue__btn pull-right"
                                                                    mat-raised-button style="margin-right: 0;">{{data.label}}</button>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </ng-container>
                                            </ng-container>
                                        </div>
                                    </div>
                                    <!-- <div class="col-md-12" *ngIf="!IsOpenFullDiv">
                                        <ng-container *ngFor="let box of Details.fieldsList">
                                            <div class="col-md-3 Data-Box {{(IsHalfScreen)? 'fix-Data-Box-width':''}}"
                                                *ngIf="box.headerLabel.toLowerCase()=='children status summary' && tableData.length > 0">
                                                <div class="panel panel-primary spr-panel">
                                                    <div class="panel-heading">{{box.headerLabel}}</div>
                                                    <div class="panel-body" style="overflow:auto;">
                                                        <div class="col-xs-12 col-md-12 col-sm-12 col-lg-12 no-padding-right">
                                                            <div class="col-md-6" style="display: block;margin-top: 15px;margin-left: 0;">
                                                                <canvas baseChart class="parentChart" [data]="doughnutChartData"
                                                                    [labels]="doughnutChartLabels" [chartType]="doughnutChartType"
                                                                    [colors]="donutColors" [legend]="false" [options]="chartOptions"
                                                                    style="">
                                                                </canvas>
                                                            </div>
                                                            <div class="col-md-5" style="margin-top: 10px; padding: 0;">
                                                                <div *ngFor="let data of statusTag; let i = index"
                                                                    style="margin-bottom: 10px;">
                                                                    <span class="statusTag " [ngStyle]="{backgroundColor: donutColors[0]['backgroundColor'][i]}"
                                                                        style="color: #fff">{{data.label}}</span>
                                                                    <h4 class="pull-right"> - {{data.value}}</h4>
                                                                </div><br>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </ng-container>
                                        <div class="col-md-3 Data-Box {{(IsHalfScreen)? 'fix-Data-Box-width':''}}"
                                            *ngFor="let box of taskDetails.taskSectionModels">
                                            <div class="panel panel-primary spr-panel">
                                                <div class="panel-heading">{{box.header}}
                                                    <div class="pull-right" *ngIf="!IsHalfScreen">
                                                        <i (click)="OpenFullDiv(box)" class="fa fa-arrows-alt"></i>
                                                    </div>
                                                </div>
                                                <div class="panel-body" style="overflow:auto; max-height: 191px;"
                                                    [style.height]="IsHalfScreen && box.paramList.length>0 && box.paramList[0].type=='tableHeader' ? 'auto':''"
                                                    [style.min-height]="IsHalfScreen && box.paramList.length>0 && box.paramList[0].type=='tableHeader' ? 'auto':''">
                                                    <div class="row fix-box-height" style="max-height: 191px;"
                                                        [style.height]="IsHalfScreen && box.paramList.length>0 && box.paramList[0].type=='tableHeader' ? 'auto':''"
                                                        [style.min-height]="IsHalfScreen && box.paramList.length>0 && box.paramList[0].type=='tableHeader' ? 'auto':''">
                                                        <div *ngIf="box.paramList.length>0">
                                                            <div class="col-xs-12 col-sm-12 {{(IsHalfScreen ? 'col-md-6 col-lg-6':'col-md-12 col-lg-12')}} no-padding-right"
                                                                *ngFor="let paramDetails of box.paramList;let i = index">
                                                                <div *ngIf="paramDetails.type!='tableHeader' && paramDetails.type!='tableData'"
                                                                    class="col-md-5 text-left" style="padding: 0;">
                                                                    <label class="smallkey p-0">{{paramDetails.name}}:</label>
                                                                </div>
                                                                <div *ngIf="paramDetails.type!='tableHeader' && paramDetails.type!='tableData'"
                                                                    class="col-md-7 text-left">
                                                                    <label class="smallvalue p-0">{{paramDetails.value}}
                                                                        &nbsp;</label>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="col-xs-12 col-md-12 col-sm-12 col-lg-12 p-0" *ngFor="let paramDetails of box.paramList;let i = index">
                                                            <table *ngIf="paramDetails.type=='tableHeader'" class="table table-boradred cstmr-att-tbl m-0">
                                                                <thead>
                                                                    <ng-container *ngFor="let header of box.paramList; let i = index;">
                                                                        <tr *ngIf="header.type=='tableHeader'">
                                                                            <th *ngFor="let headerData of header.jsonDescriptor.tableHeaders"
                                                                                style="border-right: 1px solid #dddddd;">{{headerData.columnHeader}}</th>
                                                                        </tr>
                                                                    </ng-container>
                                                                </thead>
                                                                <tbody>
                                                                    <ng-container *ngFor="let header of box.paramList; let i = index;">
                                                                        <tr *ngIf="header.type=='tableData'">
                                                                            <ng-container *ngFor="let headerData of box.paramList">
                                                                                <ng-container *ngIf="headerData.type == 'tableHeader'">
                                                                                    <td *ngFor="let Data of headerData.jsonDescriptor.tableHeaders"
                                                                                        style="border-right: 1px solid #dddddd;">{{header.value[Data.columnKey]}}</td>
                                                                                </ng-container>
                                                                            </ng-container>
                                                                        </tr>
                                                                    </ng-container>
                                                                </tbody>
                                                            </table>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div> -->
                                    <div class="col-md-12" *ngFor="let taskSection of taskDetails['taskSectionModels'];">
                                        <div class="panel panel-primary spr-panel" *ngIf="taskSection.header == 'Facilities'">
                                            <div class="panel-heading">{{taskSection.header}}
                                                <!-- <div class="pull-right">
                                                    <i (click)="RestoreDiv()" class="fa fa-times"></i>
                                                </div> -->
                                            </div>
                                            <div class="panel-body" style="min-height: auto; height: auto; max-height: 191px;">
                                                <div class="row fix-box-height" style="max-height: auto;height: auto;min-height: auto">
                                                    <div class="col-xs-12 col-md-12 col-sm-12 col-lg-12 p-0">
                                                        <!-- <table class="table table-boradred cstmr-att-tbl m-0" style="table-layout: fixed;">
                                                            <thead>
                                                                <tr>
                                                                    <ng-container *ngFor="let tableHeader of taskSection.paramList; let i = index">
                                                                        <ng-container *ngIf="tableHeader.type=='tableHeader' && tableHeader.jsonDescriptor != null">
                                                                            <th *ngFor="let tblHdr of tableHeader.parsedjsonDescriptor">
                                                                                <div style="cursor: pointer; text-align: center;">
                                                                                    {{tblHdr.columnHeader}}
                                                                                </div>
                                                                            </th>
                                                                        </ng-container>
                                                                        <ng-container *ngIf="tableHeader.type=='tableHeader' && tableHeader.jsonDescriptor == null">
                                                                            <th *ngFor="let tblHdr of tableHeader.parsedLayouttableHeaders">
                                                                                <div style="cursor: pointer; text-align: center;">
                                                                                    {{tblHdr.columnHeader}}
                                                                                </div>
                                                                            </th>
                                                                        </ng-container>
                                                                    </ng-container>
                                                                </tr>
                                                            </thead>
                                                            
                                                            <tbody style="text-align: center;">
                                                                <tr *ngFor="let tableHeader of taskSection.paramList; let i = index">
                                                                    <ng-container *ngIf="tableHeader.type=='tableData' && tableHeader.jsonDescriptor != null">
                                                                        <ng-container *ngFor="let headerData of taskSection.paramList">
                                                                            <ng-container *ngIf="headerData.type == 'tableHeader'">
                                                                                <td *ngFor="let Data of headerData.parsedjsonDescriptor"
                                                                                    style="border-right: 1px solid #dddddd;">{{tableHeader.value[Data.columnKey]}}</td>
                                                                            </ng-container>
                                                                        </ng-container>
                                                                    </ng-container>
                                                                    <ng-container *ngIf="tableHeader.type=='tableData' && tableHeader.jsonDescriptor == null">
                                                                        <ng-container *ngFor="let headerData of taskSection.paramList">
                                                                            <ng-container *ngIf="headerData.type == 'tableHeader'">
                                                                                <td *ngFor="let Data of headerData.parsedLayouttableHeaders"
                                                                                    style="border-right: 1px solid #dddddd;">{{tableHeader.value[Data.columnKey]}}</td>
                                                                            </ng-container>
                                                                        </ng-container>
                                                                    </ng-container>
                                                                </tr>
                                                            </tbody>
                                                        </table> -->

                                                        <!-- GETCWM Start LMOS-->

                                                        <div class="widget-body table-container">
                                                            <sa-table 
                                                            *ngIf = "showFacility"
                                                            [pagination]="tableDetailTableSection['Facilities']['pagination']" 
                                                            [actionButton]="tableDetailTableSection['Facilities']['actionButton']" 
                                                            [actionColumn]="tableDetailTableSection['Facilities']['actionColumn']"
                                                            [tableHeader]="tableDetailTableSection['Facilities']['tableHeaders']"
                                                            [tableData]="tableDetailTableSection['Facilities']['tableData']"
                                                            [tableOtherContent]="tableDetailTableSection['Facilities']['otherContent']"
                                                            [filter]="tableDetailTableSection['Facilities']['filter']"
                                                            [tablePaginationData]=""
                                                           
                                                            (addNewRowParent)="addNewRow($event)"
                                                            (onSaveParent)="onSaveClick($event)"
                                                            (pageChangedParent)="pageChanged($event)"
                                                            (onEditParent)="onEditClick($event)"
                                                            (onDeleteParent)="onDeleteClick($event)"
                                                            (onCloseParent)="onCloseClick($event)"
                                                            (paginationChangeParent)="paginationChange($event)"
                                                            (openTabParent)="openTab($event)"
                                                            (filterColumnParent)="filterRows()"
                                                            (onSortParent)="onSortSelection($event)"
                                                            (previousAll)="previousTasks()"
                                                            (previous)="onGridPrevious()"
                                                            (nextAll)="nextTasks()"
                                                            (next)="onGridNext()"
                                                            (refresh)="onRefreshTD()"
                                                            ></sa-table>
                                            
                                                      </div>

                                                        <!-- GETCWM End LMOS-->

                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <ng-container *ngFor="let taskSection of taskDetails['taskSectionModels'];">
                                        <ng-container *ngIf="taskSection.header == 'Customer'">
                                            <div class="col-md-12">
                                                <div class="panel panel-primary spr-panel">
                                                    <div class="panel-heading">{{LMOSLayoutDetails.customer.sectionHeader}}
                                                        <!-- <div class="pull-right">
                                                    <i (click)="RestoreDiv()" class="fa fa-times"></i>
                                                </div> -->
                                                    </div>
                                                    <div class="panel-body" style="height: auto; min-height: auto; max-height: 191px;">
                                                        <div class="row fix-box-height" style="max-height: auto;height: auto;min-height: auto">
                                                            <div *ngIf="LMOSLayoutDetails.customer.fieldsList.length>0">
                                                                <div class="col-xs-12 col-md-6 col-sm-6 col-lg-6 no-padding-right"
                                                                    *ngFor="let paramDetails of LMOSLayoutDetails.customer.fieldsList;">
                                                                    <div class="col-md-5 text-left" style="padding: 0;">
                                                                        <label class="smallkey p-0">{{paramDetails.label}}:</label>
                                                                    </div>
                                                                    <div class="col-md-7 text-left p-0">
                                                                        <label class="smallvalue p-0">
                                                                            <ng-container *ngFor="let troubleData of taskSection.paramList;">
                                                                                <ng-container *ngIf="troubleData.name == paramDetails.fieldName">
                                                                                    {{troubleData.value}}
                                                                                </ng-container>
                                                                            </ng-container>
                                                                        </label>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </ng-container>
                                    </ng-container>
                                    <ng-container *ngFor="let taskSection of taskDetails['taskSectionModels'];">
                                        <ng-container *ngIf="taskSection.header == 'Other Details'">
                                            <div class="col-md-12">
                                                <div class="panel panel-primary spr-panel">
                                                    <div class="panel-heading">{{taskSection.header}}
                                                        <!-- <div class="pull-right">
                                                            <i (click)="RestoreDiv()" class="fa fa-times"></i>
                                                        </div> -->
                                                    </div>
                                                    <div class="panel-body" style="height: auto; min-height: auto; max-height: 191px;">
                                                        <div class="row fix-box-height" style="height: auto;min-height: auto;">
                                                            <ng-container *ngFor="let data of taskDetails.taskSectionModels">
                                                                <div *ngIf="data.header == 'Other Details'">
                                                                    <ng-container *ngFor="let paramDetails of data.paramList;">
                                                                        <div class="col-xs-12 col-md-6 col-sm-6 col-lg-6 no-padding-right"
                                                                            *ngIf="paramDetails.name != 'MLTFX' && paramDetails.name != 'DLETH' && paramDetails.name != 'DSH' && paramDetails.name != 'DLR' && paramDetails.name != 'predictor' && !CheckValue(paramDetails.name)">
                                                                            <div class="col-md-5 text-left" style="padding: 0;">
                                                                                <label class="smallkey p-0">{{paramDetails.name}}:</label>
                                                                            </div>
                                                                            <div class="col-md-7 text-left p-0">
                                                                                <label class="smallvalue p-0">{{paramDetails.value}}&nbsp;</label>
                                                                            </div>
                                                                        </div>
                                                                    </ng-container>
                                                                </div>
                                                            </ng-container>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </ng-container>
                                    </ng-container>
                                    <!-- <div class="col-md-12" *ngIf="tableData.length > 0">
                                        <div id="table-section" class="child-list-table tab-content padding-10 table-responsive">
                                            <table class="table table-striped table-hover">
                                                <thead class="thead-dark">
                                                    <tr>
                                                        <th class="tbl-field-sp tbl-field-sp-2"></th>
                                                        <th *ngFor="let field of TableFiedls.fieldsList" class="tbl-field-sp tbl-field-sp-2"
                                                            [ngClass]="[ field.fieldName == activeSort ?(isSortAsc ? 'sort_asc tbl-field-sp tbl-field-sp-2': 'sort_desc tbl-field-sp tbl-field-sp-2'):'']"
                                                            (click)="OnSMESortSection(field.fieldName);">
                                                            <div class="cursor-pointer activesort">
                                                                <span>{{field.label}}</span>
                                                                <span class="sortarrow">
                                                                    <i class="fa upsortarrow"></i>
                                                                    <i class="fa downsortarrow"></i>
                                                                </span>
                                                            </div>
                                                        </th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <ng-container *ngFor="let rowData of tableData; let rowIndex = index;">
                                                        <tr *ngIf="!rowData.isRowDetailOpen">
                                                            <td class="tbl-field-sp tbl-field-sp-2">
                                                                <div *ngIf="rowData.taskType && rowData.taskType.taskTypeParam && rowData.taskType.taskTypeParam == 'microService'">
                                                                    <span (click)="expandAddRow(rowData,rowIndex)"
                                                                        style="cursor: pointer;" class="font-18">
                                                                        <mat-icon *ngIf="rowData.isIconMinus" class="material-icons add_box system__add">play_arrow</mat-icon>
                                                                        <mat-icon *ngIf="!rowData.isIconMinus" class="system__add add_box"
                                                                            style="transform: rotate(90deg);">play_arrow</mat-icon>
                                                                    </span>
                                                                </div>
                                                                <div *ngIf="rowData.taskType && rowData.taskType.taskTypeParam && rowData.taskType.taskTypeParam == 'request'"
                                                                    style="display: block; text-align:center;">
                                                                    <span style="cursor: pointer;" class="font-18"
                                                                        (click)="openTskDtls(rowData)">
                                                                        <mat-icon class="system__add add_box child-srch-ic">search</mat-icon>
                                                                    </span>
                                                                </div>
                                                            </td>
                                                            <td *ngFor="let field of TableFiedls.fieldsList" class="tbl-field-sp tbl-field-sp-2">
                                                                <span *ngIf="field.fieldName == 'sourceTaskId'" class="{{(field.fieldName == 'totalCounts')? 'Table-value':''}} font-18"
                                                                    title="Database id: {{rowData['id']}}">{{rowData[field.fieldName]}}</span>
                                                                <span *ngIf="field.fieldName != 'sourceTaskId'" class="{{(field.fieldName == 'totalCounts')? 'Table-value':''}} font-18">{{rowData[field.fieldName]}}</span>
                                                                <div *ngIf="field.fieldName == 'totalCounts'" style="display: block;margin-top: 5%;margin-left: 0;">
                                                                    <canvas baseChart class="childChart" [data]="rowData['doughnutChartData']"
                                                                        [labels]="rowData['doughnutChartLabels']"
                                                                        [chartType]="doughnutChartType" [colors]="donutColors"
                                                                        [legend]="false" [options]="chartOptions">
                                                                    </canvas>
                                                                </div>
                                                            </td>
                                                        </tr>
                                                        <tr *ngIf="rowData.isRowDetailOpen">
                                                            <td colspan="10">
                                                                <sa-card [rowData]="rowData" [childHistoryList]="childHistoryList"
                                                                    [TableFiedls]="TableFiedls" [subLoader]="subLoader"
                                                                    [grandChildList]="grandChildList"
                                                                    (GetStatusHistory)="getStatusHistory($event)"
                                                                    (GetGrandChildList)="getGrandChildList($event)"
                                                                    (ForceCompleteId)="ForceComplete($event)">
                                                                </sa-card>
                                                            </td>
                                                        </tr>
                                                    </ng-container>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div> -->
                                    <!-- Modal -->
                                    <ng-template #template>
                                        <div class="modal-header" #modal (onShow)="handler('onShow', $event)" (onShown)="handler('onShown', $event)"
                                            (onHide)="handler('onHide', $event)" (onHidden)="handler('onHidden', $event)">
                                            <h4 *ngIf="showTransferSection" class="modal-title pull-left" style="padding-left: 37%;font-weight: bold;">{{(taskDetails['assignedCuid'] == null && taskDetails['taskStatus'] == 'Ready')? 'Assign' : 'Transfer'}}
                                                Task</h4>
                                            <h4 *ngIf="showRerouteSection" class="modal-title pull-left" style="padding-left: 37%;font-weight: bold;">Reroute
                                                Task</h4>
                                            <h4 *ngIf="showCloseSection" class="modal-title pull-left" style="padding-left: 37%;font-weight: bold;">Close
                                                Task</h4>
                                            <h4 *ngIf="showReturnTaskToWorkgroupSec" class="modal-title pull-left"
                                                style="padding-left: 30%;font-weight: bold;"> Return Task To Workgroup</h4>
                                            <h4 *ngIf="showCancelSection" class="modal-title pull-left" style="padding-left: 44%;font-weight: bold;">
                                                Cancel</h4>
                                            <h4 *ngIf="showForceCloseSection" class="modal-title pull-left" style="padding-left: 44%;font-weight: bold;">
                                                    Force Close</h4>
                                            <button type="button" class="close pull-right" aria-label="Close" (click)="IsOpenPopup = false; modalRef.hide()">
                                                <span aria-hidden="true">&times;</span>
                                            </button>
                                        </div>
                                        <div class="modal-body {{(showCloseSection)? 'lmos-close-button-modal-body' :''}}">
                                            <div *ngIf="showTransferSection">
                                                <div class="row">
                                                    <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12"><label class="control-label">CUID:
                                                        </label></div>
                                                    <div class="col-lg-9 col-md-9 col-sm-6 col-xs-12">
                                                        <ng-select2 [data]="cuidList" [width]="500" name="multiObj"
                                                            [(ngModel)]="transferTo" #multiObj="ngModel">
                                                        </ng-select2>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12">
                                                        <label class="control-label">Comment: </label>
                                                    </div>
                                                    <div class="col-lg-9 col-md-9 col-sm-6 col-xs-12">
                                                        <textarea class="form-control" name="comment" [(ngModel)]="comment"
                                                            maxlength="58"></textarea>
                                                        <div style="float: right">{{58-comment?.length}} characters
                                                            left</div>
                                                    </div>
                                                </div>

                                            </div>
                                            <div *ngIf="showRerouteSection">
                                                <div class="row">
                                                    <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12"> <label class="control-label">Workgroup:
                                                        </label></div>
                                                    <div class="col-lg-9 col-md-9 col-sm-6 col-xs-12">
                                                        <ng-select2 [data]="routWorkgroups" [width]="500" name="multiObj"
                                                            [(ngModel)]="transferTo" #multiObj="ngModel">
                                                        </ng-select2>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12">
                                                        <label class="control-label">Result: </label>
                                                    </div>
                                                    <div class="col-lg-9 col-md-9 col-sm-6 col-xs-12">
                                                        <ng-select2 [data]="RerouteResult" [width]="500" name="multiObj"
                                                            [(ngModel)]="RerouteResultvalue" #multiObj="ngModel">
                                                        </ng-select2>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12">
                                                        <label class="control-label">Comment: </label>
                                                    </div>
                                                    <div class="col-lg-9 col-md-9 col-sm-6 col-xs-12">
                                                        <textarea class="form-control" name="comment" [(ngModel)]="comment"
                                                            maxlength="58"></textarea>
                                                        <div style="float: right">{{58-comment?.length}} characters
                                                            left</div>
                                                    </div>
                                                </div>

                                            </div>
                                            <div *ngIf="showCloseSection">
                                                <div *ngIf="ClosePopupLoader" class="task_loader lmosbutton-closeopenpopup">
                                                    <!-- <img src="assets/img/Ellipsis-1s-200px.svg" width="125px" alt="task" /> -->
                                                    <div class="spinner">
                                                        <div class="bounce1"></div>
                                                        <div class="bounce2"></div>
                                                        <div class="bounce3"></div>
                                                    </div>
                                                </div>
                                                <sa-widgets-grid class="dispositioncode">
                                                    <div sa-widget [editbutton]="false" [fullscreenbutton]="false"
                                                        [deletebutton]="false" [colorbutton]="true" [togglebutton]="true"
                                                        name="wcmDispositionHeader">
                                                        <header>
                                                            <span class="widget-icon"> <i class="fa fa-table"></i>
                                                            </span>
                                                            <h2>Disposition Code</h2>
                                                        </header>
                                                        <div class="row {{(ClosePopupLoader) ? 'select2-disabled':''}}">
                                                            <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12">
                                                                <label class="control-label">---*: </label>
                                                            </div>
                                                            <div class="col-lg-8 col-md-8 col-sm-6 col-xs-12">
                                                                <ng-select2 [data]="dispositionCodes" [width]="500"
                                                                    name="multiObj" [(ngModel)]="closePopupObj.parentDispositionCode"
                                                                    #multiObj="ngModel" (valueChanged)="dispositionCodeChanged('parent');">
                                                                </ng-select2>
                                                            </div>
                                                        </div>
                                                        <div class="row {{(ClosePopupLoader) ? 'select2-disabled':''}}">
                                                            <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12">
                                                                <label class="control-label">--**:</label>
                                                            </div>
                                                            <div class="col-lg-8 col-md-8 col-sm-6 col-xs-12">
                                                                <ng-select2 [data]="dispositionChildCodes" [width]="500"
                                                                    name="multiObj" [(ngModel)]="closePopupObj.childDispositionCode"
                                                                    #multiObj="ngModel" (valueChanged)="dispositionCodeChanged('child');">
                                                                </ng-select2>
                                                            </div>
                                                        </div>
                                                        <div class="row {{(ClosePopupLoader) ? 'select2-disabled':''}}">
                                                            <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12">
                                                                <label class="control-label">----: </label>
                                                            </div>
                                                            <div class="col-lg-8 col-md-8 col-sm-6 col-xs-12">
                                                                <ng-select2 [data]="dispositionGrandChildCodes" [width]="500"
                                                                    name="multiObj" [(ngModel)]="closePopupObj.grandChildDispositionCode"
                                                                    #multiObj="ngModel">
                                                                </ng-select2>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </sa-widgets-grid>
                                                <sa-widgets-grid class="causecode">
                                                    <div sa-widget [editbutton]="false" [fullscreenbutton]="false"
                                                        [deletebutton]="false" [colorbutton]="true" [togglebutton]="true"
                                                        name="wcmCuaseCode">
                                                        <header>
                                                            <span class="widget-icon"> <i class="fa fa-table"></i>
                                                            </span>
                                                            <h2>Cause Code</h2>
                                                        </header>
                                                        <div class="row {{(ClosePopupLoader) ? 'select2-disabled':''}}">
                                                            <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12">
                                                                <label class="control-label">-**: </label>
                                                            </div>
                                                            <div class="col-lg-8 col-md-8 col-sm-6 col-xs-12">
                                                                <ng-select2 [data]="causeCodes" [width]="500" name="multiObj"
                                                                    [(ngModel)]="closePopupObj.parentCauseCode"
                                                                    #multiObj="ngModel" (valueChanged)="causeCodeChanged('parent');">
                                                                </ng-select2>
                                                            </div>
                                                        </div>
                                                        <div class="row {{(ClosePopupLoader) ? 'select2-disabled':''}}">
                                                            <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12">
                                                                <label class="control-label">--*: </label>
                                                            </div>
                                                            <div class="col-lg-8 col-md-8 col-sm-6 col-xs-12">
                                                                <ng-select2 [data]="causeChildCodes" [width]="500" name="multiObj"
                                                                    [(ngModel)]="closePopupObj.childCauseCode"
                                                                    #multiObj="ngModel" (valueChanged)="causeCodeChanged('child');">
                                                                </ng-select2>
                                                            </div>
                                                        </div>
                                                        <div class="row {{(ClosePopupLoader) ? 'select2-disabled':''}}">
                                                            <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12">
                                                                <label class="control-label">---: </label>
                                                            </div>
                                                            <div class="col-lg-8 col-md-8 col-sm-6 col-xs-12">
                                                                <ng-select2 [data]="causeGrandChildCodes" [width]="500"
                                                                    name="multiObj" [(ngModel)]="closePopupObj.grandChildCauseCode"
                                                                    #multiObj="ngModel">
                                                                </ng-select2>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </sa-widgets-grid>

                                                <div class="row">
                                                    <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12">
                                                        <label class="control-label">Customer Contacted: </label>
                                                    </div>
                                                    <div class="col-lg-8 col-md-8 col-sm-6 col-xs-12">
                                                        <ng-select2 [data]="CustomerContacted" [width]="500" name="multiObj"
                                                            [(ngModel)]="closePopupObj.customerContacted" #multiObj="ngModel">
                                                        </ng-select2>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12">
                                                        <label class="control-label">Narrative: </label>
                                                    </div>
                                                    <div class="col-lg-8 col-md-8 col-sm-6 col-xs-12">
                                                        <textarea class="form-control" name="comment" [(ngModel)]="closePopupObj.comment"
                                                            maxlength="58"></textarea>
                                                        <div style="float: right">{{58-closePopupObj.comment?.length}}
                                                            characters left</div>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12">
                                                        <label class="control-label">WP Code: </label>
                                                    </div>
                                                    <div class="col-lg-8 col-md-8 col-sm-6 col-xs-12">
                                                        5
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12">
                                                        <label class="control-label">FL2: </label>
                                                    </div>
                                                    <div class="col-lg-8 col-md-8 col-sm-6 col-xs-12">
                                                        <input type="text" name="fl2" [(ngModel)]="closePopupObj.fl2"
                                                            maxlength="20">
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12">
                                                        <label class="control-label">FL3: </label>
                                                    </div>
                                                    <div class="col-lg-8 col-md-8 col-sm-6 col-xs-12">
                                                        <ng-select2 [data]="fl3Values" [width]="500" name="multiObj"
                                                            [(ngModel)]="closePopupObj.fl3" #multiObj="ngModel">
                                                        </ng-select2>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12">
                                                        <label class="control-label">Backtime: </label>
                                                    </div>
                                                    <div class="col-lg-8 col-md-8 col-sm-6 col-xs-12">
                                                        <input type="checkbox" name="backtime" [(ngModel)]="closePopupObj.backtime">
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12">
                                                        <label class="control-label">CloseOut Date/Time: </label>
                                                    </div>
                                                    <div class="col-lg-8 col-md-8 col-sm-6 col-xs-12">
                                                        <!-- <input type="text" name="closeout" [(ngModel)]="closePopupObj.closeOutDateTime"
                                                            [disabled]="!closePopupObj.backtime"> -->
                                                        <!-- <mat-form-field class="datepicker col-md-8" style="padding: 0;border: 1px solid #ccc;border-bottom: none !important;">
                                                            <input matInput 
                                                            name="closeout"
                                                            [(ngModel)]="closePopupObj.closeOutDateTime"
                                                            [matDatepicker]="picker"
                                                            [disabled]="!closePopupObj.backtime"
                                                            (click)="picker.open()" (blur)="picker.close()">
                                                            <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                                                            <mat-datepicker #picker [disabled]="!closePopupObj.backtime"></mat-datepicker>
                                                        </mat-form-field> -->
                                                        <input type="text" name="closeout" [owlDateTime]="dt1" [owlDateTimeTrigger]="dt1" [min]="ClosePopupMinDate"
                                                        [(ngModel)]="closePopupObj.closeOutDateTime" placeholder="Date Time" [disabled]="!closePopupObj.backtime">
                                                        <owl-date-time #dt1 [disabled]="!closePopupObj.backtime"></owl-date-time>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12">
                                                        <label class="control-label">Time zone: </label>
                                                    </div>
                                                    <div class="col-lg-8 col-md-8 col-sm-6 col-xs-12">
                                                        <!-- <input type="text" name="timezone" [(ngModel)]="closePopupObj.timezone"
                                                            [disabled]="!closePopupObj.backtime"> -->
                                                       <ng2-timezone-picker
                                                            name="timezone"
                                                            [disabled]="!closePopupObj.backtime"
                                                            [(timezone)]="closePopupObj.timezone"
                                                            showOffset="true"
                                                            [(country)]="countryIsoCode">
                                                        </ng2-timezone-picker>
                                                    </div>
                                                </div>
                                            </div>
                                            <div *ngIf="showReturnTaskToWorkgroupSec">
                                                <div class="row">
                                                    <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12">
                                                        <label class="control-label">Narrative: </label>
                                                    </div>
                                                    <div class="col-lg-9 col-md-9 col-sm-6 col-xs-12">
                                                        <textarea class="form-control" name="comment" [(ngModel)]="comment"
                                                            maxlength="58"></textarea>
                                                        <div style="float: right">{{58-comment?.length}} characters
                                                            left</div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div *ngIf="showForceCloseSection">
                                                <div class="row">
                                                    <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12">
                                                        <label class="control-label">Comments: </label>
                                                    </div>
                                                    <div class="col-lg-9 col-md-9 col-sm-6 col-xs-12">
                                                        <textarea class="form-control" name="comment" [(ngModel)]="comment"
                                                            maxlength="4000"></textarea>
                                                        <div style="float: right">{{4000-comment?.length}} characters
                                                            left</div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div *ngIf="showCancelSection">
                                                <div class="row">
                                                    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 text-center">
                                                        <label class="control-label">Are you sure you want to cancel ?
                                                        </label>
                                                    </div>
                                                </div>
                                            </div>
                                            <div *ngIf="showLmosRecoredSection">
                                                <div class="row">
                                                    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 text-center">
                                                        <label class="control-label">RECORD DOES NOT EXIST IN LMOS - PERFORM AUTO SELECT</label>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row text-center">
                                                <div id="wcmAction" class="dropdown" dropdown [insideClick]="true"
                                                    *ngIf="!showCancelSection">
                                                    <button [disabled]="PopupsubmitButtonDisabled()" mat-raised-button
                                                        (click)="submitDataToLMOSTD();" color="primary" class="blue__btn">
                                                        {{(showCancelSection || showLmosRecoredSection)?
                                                        'Ok':'Submit'}}
                                                    </button>
                                                </div>
                                                <div id="wcmAction" class="dropdown" dropdown [insideClick]="true"
                                                    *ngIf="showCancelSection">
                                                    <button mat-raised-button (click)="submitDataToLMOSTD();" color="primary"
                                                        class="blue__btn">
                                                        Yes
                                                    </button>
                                                    <button mat-raised-button (click)="CloseLmosButtonPopup();" class="clear-btn reset-bgclr">
                                                        No
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </ng-template>
                                </div>
                                <div class="resizable resizable2" style="padding-top:15px;">
                                    <!-- <div *ngIf="loaderLmosTaskRelativeTab" class="task_loader lmosbutton-openpopup">
                                        <img src="assets/img/Ellipsis-1s-200px.svg" width="125px" alt="task" />
                                    </div> -->
                                    <div class="col-md-12" *ngFor="let tab of relatedTabs" style="padding-right: 60px;padding-left:5px;overflow-x: hidden;">
                                        <div *ngIf="tab.active && tab.loader" class="task_loader lmosbutton-openpopup">
                                            <!-- <img src="assets/img/Ellipsis-1s-200px.svg" width="125px" alt="task" /> -->
                                            <div class="spinner">
                                                <div class="bounce1"></div>
                                                <div class="bounce2"></div>
                                                <div class="bounce3"></div>
                                            </div>
                                        </div>
                                        <div *ngIf="tab.active == true" class="panel panel-primary spr-panel" style="margin-bottom: 0;">
                                            <div class="panel-heading">{{tab.label}} Details
                                                <div class="pull-right">
                                                    <button class="btn btn-link" [disabled]="tab.loader" (click)="reloadTaskDetails();" style="margin-top: -4px;padding: 0;">
                                                        <i class="material-icons" style="vertical-align:middle; margin-right: 10px; cursor: pointer;">cached</i>
                                                    </button>
                                                    <!-- <i class="material-icons" style="vertical-align:middle; margin-right: 10px; cursor: pointer;"
                                                        (click)="reloadTaskDetails();">cached</i> -->
                                                    <i (click)="toggleRes2Width()" style="vertical-align:middle; cursor: pointer;"
                                                        *ngIf="!res2Full" class="fa fa-arrows-alt"></i>
                                                    <i (click)="toggleRes2Width()" style="vertical-align:middle; cursor: pointer;"
                                                        *ngIf="res2Full" class="fa fa-times"></i>
                                                </div>
                                            </div>
                                            <div class="panel-body {{(tab.fieldName == 'dlrl')?'dlrl-div-height':'overflow-auto'}}"
                                                style="min-height: auto;height: auto;">
                                                <div class="widget-body">
                                                    <!-- nov/dec release-->
                                                    <!-- <pre *ngIf="tab.fieldName != 'dlrl' && tab.fieldName != 'dleth'" class="wcm_background set-height height-100-200"
                                                        style="max-height: calc(100vh - 265px); height: calc(100vh - 265px);">{{tab.content}}</pre> -->
                                                    <pre *ngIf="tab.fieldName != 'dlrl'" class="wcm_background set-height height-100-200"
                                                        style="max-height: calc(100vh - 265px); height: calc(100vh - 265px);">{{tab.content}}</pre>
                                                    <div *ngIf="tab.fieldName == 'dlrl'" class="set-height height-100-200 dlrl-div-height"
                                                        style="max-height: calc(100vh - 265px); height: calc(100vh - 265px); min-height: auto; overflow: auto; position:relative;">
                                                        <div class="col-md-12">
                                                            <h3>LINE RECORD</h3>
                                                        </div>
                                                        <div class="col-md-12">
                                                            <div class="col-md-6">
                                                                <div class="col-xs-12 col-sm-12 col-md-12 no-padding-right">
                                                                    <div class="col-md-5 text-left" style="padding: 0;">
                                                                        <!-- {{box.paramList.length}} -->
                                                                        <label class="smallkey p-0">Order:</label>
                                                                    </div>
                                                                    <div class="col-md-7 text-left">
                                                                        <label class="smallvalue p-0" *ngIf="DisplayDLRTData">{{tab.content.parsed.DetailLineRecord.Order}}&nbsp;</label>
                                                                    </div>
                                                                </div>
                                                                <div class="col-xs-12 col-sm-12 col-md-12 no-padding-right">
                                                                    <div class="col-md-5 text-left" style="padding: 0;">
                                                                        <!-- {{box.paramList.length}} -->
                                                                        <label class="smallkey p-0">CPE:</label>
                                                                    </div>
                                                                    <div class="col-md-7 text-left">
                                                                        <label class="smallvalue p-0" *ngIf="DisplayDLRTData">{{tab.content.parsed.DetailLineRecord.CPE}}&nbsp;</label>
                                                                    </div>
                                                                </div>
                                                                <div class="col-xs-12 col-sm-12 col-md-12 no-padding-right">
                                                                    <div class="col-md-5 text-left" style="padding: 0;">
                                                                        <!-- {{box.paramList.length}} -->
                                                                        <label class="smallkey p-0">No Maint Contract:</label>
                                                                    </div>
                                                                    <div class="col-md-7 text-left">
                                                                        <label class="smallvalue p-0" *ngIf="DisplayDLRTData">{{tab.content.parsed.DetailLineRecord.NoMaintContract}}&nbsp;</label>
                                                                    </div>
                                                                </div>
                                                                <!-- <div class="col-xs-12 col-sm-12 col-md-12 no-padding-right">
                                                                    <div class="col-md-5 text-left" style="padding: 0;">
                                                                        <label class="smallkey p-0">Office Equipment:</label>
                                                                    </div>
                                                                    <div class="col-md-7 text-left">
                                                                        <label class="smallvalue p-0" *ngIf="DisplayDLRTData">{{tab.content.parsed.DetailLineRecord.EquipmentNum}}&nbsp;</label>
                                                                    </div>
                                                                </div> -->
                                                                <div class="col-xs-12 col-sm-12 col-md-12 no-padding-right">
                                                                    <div class="col-md-5 text-left" style="padding: 0;">
                                                                        <!-- {{box.paramList.length}} -->
                                                                        <label class="smallkey p-0">Exchange Key:</label>
                                                                    </div>
                                                                    <div class="col-md-7 text-left">
                                                                        <label class="smallvalue p-0" *ngIf="DisplayDLRTData">{{tab.content.parsed.DetailLineRecord.ExchangeKey}}&nbsp;</label>
                                                                    </div>
                                                                </div>
                                                                <div class="col-xs-12 col-sm-12 col-md-12 no-padding-right">
                                                                    <div class="col-md-5 text-left" style="padding: 0;">
                                                                        <!-- {{box.paramList.length}} -->
                                                                        <label class="smallkey p-0">Ring Cycle:</label>
                                                                    </div>
                                                                    <div class="col-md-7 text-left">
                                                                        <label class="smallvalue p-0" *ngIf="DisplayDLRTData">&nbsp;</label>
                                                                    </div>
                                                                </div>
                                                                <div class="col-xs-12 col-sm-12 col-md-12 no-padding-right">
                                                                    <div class="col-md-5 text-left" style="padding: 0;">
                                                                        <!-- {{box.paramList.length}} -->
                                                                        <label class="smallkey p-0">Last Change Date:</label>
                                                                    </div>
                                                                    <div class="col-md-7 text-left">
                                                                        <label class="smallvalue p-0" *ngIf="DisplayDLRTData">{{tab.content.parsed.DetailLineRecord.LastChangeDate}}&nbsp;</label>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <!-- <div class="col-xs-12 col-sm-12 col-md-12 no-padding-right">
                                                                    <div class="col-md-5 text-left" style="padding: 0;">
                                                                        <label class="smallkey p-0">Origin Equipment:</label>
                                                                    </div>
                                                                    <div class="col-md-7 text-left">
                                                                        <label class="smallvalue p-0" *ngIf="DisplayDLRTData">{{tab.content.parsed.DetailLineRecord.OriginEquipment}}&nbsp;</label>
                                                                    </div>
                                                                </div> -->
                                                                <div class="col-xs-12 col-sm-12 col-md-12 no-padding-right">
                                                                    <div class="col-md-5 text-left" style="padding: 0;">
                                                                        <label class="smallkey p-0">Office Equipment:</label>
                                                                    </div>
                                                                    <div class="col-md-7 text-left">
                                                                        <label class="smallvalue p-0" *ngIf="DisplayDLRTData">{{tab.content.parsed.DetailLineRecord.EquipmentNum}}&nbsp;</label>
                                                                    </div>
                                                                </div>
                                                                <div class="col-xs-12 col-sm-12 col-md-12 no-padding-right">
                                                                    <div class="col-md-5 text-left" style="padding: 0;">
                                                                        <!-- {{box.paramList.length}} -->
                                                                        <label class="smallkey p-0">Vert Terminal:</label>
                                                                    </div>
                                                                    <div class="col-md-7 text-left">
                                                                        <label class="smallvalue p-0" *ngIf="DisplayDLRTData">{{tab.content.parsed.DetailLineRecord.VertTerminal}}&nbsp;</label>
                                                                    </div>
                                                                </div>
                                                                <div class="col-xs-12 col-sm-12 col-md-12 no-padding-right">
                                                                    <div class="col-md-5 text-left" style="padding: 0;">
                                                                        <!-- {{box.paramList.length}} -->
                                                                        <label class="smallkey p-0">Party:</label>
                                                                    </div>
                                                                    <div class="col-md-7 text-left">
                                                                        <label class="smallvalue p-0" *ngIf="DisplayDLRTData">{{tab.content.parsed.DetailLineRecord.Party}}&nbsp;</label>
                                                                    </div>
                                                                </div>
                                                                <div class="col-xs-12 col-sm-12 col-md-12 no-padding-right">
                                                                    <div class="col-md-5 text-left" style="padding: 0;">
                                                                        <!-- {{box.paramList.length}} -->
                                                                        <label class="smallkey p-0">Bridge:</label>
                                                                    </div>
                                                                    <div class="col-md-7 text-left">
                                                                        <label class="smallvalue p-0" *ngIf="DisplayDLRTData">{{tab.content.parsed.DetailLineRecord.Bridge}}&nbsp;</label>
                                                                    </div>
                                                                </div>
                                                                <div class="col-xs-12 col-sm-12 col-md-12 no-padding-right">
                                                                    <div class="col-md-5 text-left" style="padding: 0;">
                                                                        <!-- {{box.paramList.length}} -->
                                                                        <label class="smallkey p-0">Night Service:</label>
                                                                    </div>
                                                                    <div class="col-md-7 text-left">
                                                                        <label class="smallvalue p-0" *ngIf="DisplayDLRTData">{{tab.content.parsed.DetailLineRecord.NightService}}&nbsp;</label>
                                                                    </div>
                                                                </div>
                                                                <div class="col-xs-12 col-sm-12 col-md-12 no-padding-right">
                                                                    <div class="col-md-5 text-left" style="padding: 0;">
                                                                        <!-- {{box.paramList.length}} -->
                                                                        <label class="smallkey p-0">Call Forward Num:</label>
                                                                    </div>
                                                                    <div class="col-md-7 text-left">
                                                                        <label class="smallvalue p-0" *ngIf="DisplayDLRTData">{{tab.content.parsed.DetailLineRecord.Secondary}}&nbsp;</label>
                                                                    </div>
                                                                </div>
                                                                <div class="col-xs-12 col-sm-12 col-md-12 no-padding-right">
                                                                    <div class="col-md-5 text-left" style="padding: 0;">
                                                                        <!-- {{box.paramList.length}} -->
                                                                        <label class="smallkey p-0">MCN:</label>
                                                                    </div>
                                                                    <div class="col-md-7 text-left">
                                                                        <label class="smallvalue p-0">{{MCNValue}}&nbsp;</label>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div><br>
                                                        <div class="col-md-12">
                                                            <div class="panel panel-primary spr-panel">
                                                                <div class="panel-heading">Remarks</div>
                                                                <div class="panel-body" style="min-height: auto; height: auto;">
                                                                    <div class="row" style="max-height: auto;height: auto;min-height: auto">
                                                                        <div class="col-xs-12 col-md-12 col-sm-12 col-lg-12 p-0">
                                                                            <table class="table table-boradred cstmr-att-tbl m-0"
                                                                                style="table-layout: fixed;">
                                                                                <thead>
                                                                                    <tr>
                                                                                        <th>Sequence</th>
                                                                                        <th>Remark</th>
                                                                                    </tr>
                                                                                </thead>
                                                                                <tbody *ngIf="DisplayDLRTData">
                                                                                    <tr *ngFor="let data of tab.content.parsed.DetailLineRecord.Remarks">
                                                                                        <td>{{data.Remark.RmkSeqNum}}</td>
                                                                                        <td>{{data.Remark.RmkText}}</td>
                                                                                    </tr>
                                                                                </tbody>
                                                                            </table>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <!-- <div class="col-md-12 dlrl-font-style">
                                                            <table class="table" border="1">
                                                                <thead>
                                                                    <tr>
                                                                        <th>Sequence</th>
                                                                        <th>Remark</th>
                                                                    </tr>
                                                                </thead>
                                                                <tbody *ngIf="DisplayDLRTData">
                                                                    <tr *ngFor="let data of tab.content.parsed.DetailLineRecord.Remarks">
                                                                        <td>{{data.Remark.RmkSeqNum}}</td>
                                                                        <td>{{data.Remark.RmkText}}</td>
                                                                    </tr>
                                                                </tbody>
                                                            </table>
                                                        </div><br> -->
                                                        <div class="col-md-12">
                                                            <div class="panel panel-primary spr-panel">
                                                                <div class="panel-heading">Service & Equipment (S&E)</div>
                                                                <div class="panel-body" style="min-height: auto; height: auto;">
                                                                    <div class="row" style="max-height: auto;height: auto;min-height: auto">
                                                                        <div class="col-xs-12 col-md-12 col-sm-12 col-lg-12 p-0">
                                                                            <table class="table table-boradred cstmr-att-tbl m-0"
                                                                                style="table-layout: fixed;">
                                                                                <thead>
                                                                                    <tr>
                                                                                        <th>USOC</th>
                                                                                        <th>QTY</th>
                                                                                        <th>Key Sys</th>
                                                                                        <th>LTD</th>
                                                                                        <th>REF</th>
                                                                                    </tr>
                                                                                </thead>
                                                                                <tbody *ngIf="DisplayDLRTData">
                                                                                    <ng-container *ngFor="let data of tab.content.parsed.DetailLineRecord.LineRecords.SvcAndEquips">
                                                                                        <tr>
                                                                                            <td>{{data.SvcAndEquip.USOC}}</td>
                                                                                            <td>{{data.SvcAndEquip.Qty}}</td>
                                                                                            <td>{{data.SvcAndEquip.KeySystem}}</td>
                                                                                            <td>{{data.SvcAndEquip.LetteredTermDesig}}</td>
                                                                                            <td>{{data.SvcAndEquip.Reference}}</td>
                                                                                        </tr>
                                                                                        <tr *ngFor="let text of data.SvcAndEquip.SvcNarrs">
                                                                                            <td colspan="5">{{text.SvcNarr.SvcNarrText}}</td>
                                                                                        </tr>
                                                                                    </ng-container>

                                                                                </tbody>
                                                                            </table>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <!-- <div class="col-md-12 dlrl-font-style">
                                                            <table class="table" border="1">
                                                                <thead>
                                                                    <tr>
                                                                        <th>USOC</th>
                                                                        <th>QTY</th>
                                                                        <th>Key Sys</th>
                                                                        <th>LTD</th>
                                                                        <th>REF</th>
                                                                    </tr>
                                                                </thead>
                                                                <tbody *ngIf="DisplayDLRTData">
                                                                    <ng-container *ngFor="let data of tab.content.parsed.DetailLineRecord.LineRecords.SvcAndEquips">
                                                                        <tr>
                                                                            <td>{{data.SvcAndEquip.USOC}}</td>
                                                                            <td>{{data.SvcAndEquip.Qty}}</td>
                                                                            <td>{{data.SvcAndEquip.KeySystem}}</td>
                                                                            <td>{{data.SvcAndEquip.LetteredTermDesig}}</td>
                                                                            <td>{{data.SvcAndEquip.Reference}}</td>
                                                                        </tr>
                                                                        <tr *ngFor="let text of data.SvcAndEquip.SvcNarrs">
                                                                            <td colspan="5">{{text.SvcNarr.SvcNarrText}}</td>
                                                                        </tr>
                                                                    </ng-container>
                                                                    
                                                                </tbody>
                                                            </table>
                                                        </div><br> -->
                                                        <div class="col-md-12">
                                                            <!-- <b>Cables (CAB)</b> -->
                                                            <div class="panel panel-primary spr-panel">
                                                                <div class="panel-heading">Cables (CAB)</div>
                                                                <div class="panel-body" style="min-height: auto; height: auto;">
                                                                    <div class="row" style="max-height: auto;height: auto;min-height: auto">
                                                                        <div class="col-xs-12 col-md-12 col-sm-12 col-lg-12 p-0">
                                                                            <table class="table table-boradred cstmr-att-tbl m-0"
                                                                                style="table-layout: fixed;">
                                                                                <thead>
                                                                                    <tr>
                                                                                        <th>Type</th>
                                                                                        <th>Cable Num</th>
                                                                                        <th>Pair</th>
                                                                                        <th>NPA</th>
                                                                                        <th>WC</th>
                                                                                        <th>PRU</th>
                                                                                    </tr>
                                                                                </thead>
                                                                                <tbody *ngIf="DisplayDLRTData">
                                                                                    <ng-container *ngFor="let data of tab.content.parsed.DetailLineRecord.LineRecords.Cables">
                                                                                        <tr>
                                                                                            <td>{{data.Cable.Type}}</td>
                                                                                            <td>{{data.Cable.CableNum}}</td>
                                                                                            <td>{{data.Cable.Pair}}</td>
                                                                                            <td>{{data.Cable.NumPlanArea}}</td>
                                                                                            <td>{{data.Cable.WireCenter}}</td>
                                                                                            <td>{{data.Cable.PairUse}}</td>
                                                                                        </tr>
                                                                                        <tr *ngFor="let text of data.Cable.CableNarratives">
                                                                                            <td colspan="6">{{text.Narrative.NarrativeText}}</td>
                                                                                        </tr>
                                                                                    </ng-container>
                                                                                </tbody>
                                                                            </table>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <!-- <div class="col-md-12 dlrl-font-style">
                                                            <table class="table" border="1">
                                                                <thead>
                                                                    <tr>
                                                                        <th>Type</th>
                                                                        <th>Cable Num</th>
                                                                        <th>Pair</th>
                                                                        <th>NPA</th>
                                                                        <th>WC</th>
                                                                        <th>PRU</th>
                                                                    </tr>
                                                                </thead>
                                                                <tbody *ngIf="DisplayDLRTData">
                                                                    <ng-container *ngFor="let data of tab.content.parsed.DetailLineRecord.LineRecords.Cables">
                                                                        <tr>
                                                                            <td>{{data.Cable.Type}}</td>
                                                                            <td>{{data.Cable.CableNum}}</td>
                                                                            <td>{{data.Cable.Pair}}</td>
                                                                            <td>{{data.Cable.NumPlanArea}}</td>
                                                                            <td>{{data.Cable.WireCenter}}</td>
                                                                            <td>{{data.Cable.PairUse}}</td>
                                                                        </tr>
                                                                        <tr *ngFor="let text of data.Cable.CableNarratives">
                                                                            <td colspan="6">{{text.Narrative.NarrativeText}}</td>
                                                                        </tr>
                                                                    </ng-container>
                                                                    
                                                                    </tbody>
                                                            </table>
                                                        </div><br> -->
                                                        <div class="col-md-12">
                                                            <!-- <b>Pair Gain Systems (PGS)</b> -->
                                                            <div class="panel panel-primary spr-panel">
                                                                <div class="panel-heading">Pair Gain Systems (PGS)</div>
                                                                <div class="panel-body" style="min-height: auto; height: auto;">
                                                                    <div class="row" style="max-height: auto;height: auto;min-height: auto">
                                                                        <div class="col-xs-12 col-md-12 col-sm-12 col-lg-12 p-0">
                                                                            <table class="table table-boradred cstmr-att-tbl m-0"
                                                                                style="table-layout: fixed;">
                                                                                <thead>
                                                                                    <tr>
                                                                                        <th>Type</th>
                                                                                        <th>In Type ID</th>
                                                                                        <th>Line Terminal</th>
                                                                                    </tr>
                                                                                </thead>
                                                                                <tbody *ngIf="DisplayDLRTData">
                                                                                    <tr *ngFor="let data of tab.content.parsed.DetailLineRecord.LineRecords.PairGainSystems">
                                                                                        <td>{{data.PairGainSystem.Type}}</td>
                                                                                        <td>{{data.PairGainSystem.InTypeId}}</td>
                                                                                        <td>{{data.PairGainSystem.LineTerminal}}</td>
                                                                                    </tr>
                                                                                </tbody>
                                                                            </table>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <!-- <div class="col-md-12 dlrl-font-style">
                                                            <table class="table" border="1">
                                                                <thead>
                                                                    <tr>
                                                                        <th>Type</th>
                                                                        <th>In Type ID</th>
                                                                        <th>Line Terminal</th>
                                                                    </tr>
                                                                </thead>
                                                                <tbody *ngIf="DisplayDLRTData">
                                                                    <tr *ngFor="let data of tab.content.parsed.DetailLineRecord.LineRecords.PairGainSystems">
                                                                        <td>{{data.PairGainSystem.Type}}</td>
                                                                        <td>{{data.PairGainSystem.InTypeId}}</td>
                                                                        <td>{{data.PairGainSystem.LineTerminal}}</td>
                                                                    </tr>
                                                                </tbody>
                                                            </table>
                                                        </div><br> -->
                                                        <div class="col-md-12">
                                                            <!-- <b>Hunting Lines (HTG)</b> -->
                                                            <div class="panel panel-primary spr-panel">
                                                                <div class="panel-heading">Hunting Lines (HTG)</div>
                                                                <div class="panel-body" style="min-height: auto; height: auto;">
                                                                    <div class="row" style="max-height: auto;height: auto;min-height: auto">
                                                                        <div class="col-xs-12 col-md-12 col-sm-12 col-lg-12 p-0">
                                                                            <table class="table table-boradred cstmr-att-tbl m-0"
                                                                                style="table-layout: fixed;">
                                                                                <thead>
                                                                                    <tr>
                                                                                        <th>FID</th>
                                                                                        <th>ID</th>
                                                                                        <th>Type</th>
                                                                                    </tr>
                                                                                </thead>
                                                                                <!-- <tbody *ngIf="DisplayDLRTData">
                                                                                        <tr *ngFor="let data of tab.content.parsed.DetailLineRecord.LineRecords.PairGainSystems">
                                                                                            <td>{{data.PairGainSystem.Type}}</td>
                                                                                            <td>{{data.PairGainSystem.InTypeId}}</td>
                                                                                            <td>{{data.PairGainSystem.LineTerminal}}</td>
                                                                                        </tr>
                                                                                    </tbody> -->
                                                                            </table>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <!-- <div class="col-md-12 dlrl-font-style">
                                                            <table class="table">
                                                                <thead>
                                                                    <tr>
                                                                        <th>FID</th>
                                                                        <th>ID</th>
                                                                        <th>Type</th>
                                                                    </tr>
                                                                </thead>
                                                                <tbody *ngIf="DisplayDLRTData">
                                                                        <tr *ngFor="let data of tab.content.parsed.DetailLineRecord.LineRecords.PairGainSystems">
                                                                            <td>{{data.PairGainSystem.Type}}</td>
                                                                            <td>{{data.PairGainSystem.InTypeId}}</td>
                                                                            <td>{{data.PairGainSystem.LineTerminal}}</td>
                                                                        </tr>
                                                                    </tbody>
                                                            </table>
                                                        </div><br> -->
                                                        <div class="col-md-12">
                                                            <h3>Other Details</h3>
                                                        </div>
                                                        <div class="col-md-12">
                                                            <div class="col-md-6">
                                                                <div class="col-xs-12 col-sm-12 col-md-12 no-padding-right">
                                                                    <div class="col-md-5 text-left" style="padding: 0;">
                                                                        <!-- {{box.paramList.length}} -->
                                                                        <label class="smallkey p-0">SSN:</label>
                                                                    </div>
                                                                    <div class="col-md-7 text-left">
                                                                        <label class="smallvalue p-0" *ngIf="DisplayDLRTData">{{tab.content.parsed.DetailLineRecord.SpclSvcNarrative}}&nbsp;</label>
                                                                    </div>
                                                                </div>
                                                                <div class="col-xs-12 col-sm-12 col-md-12 no-padding-right">
                                                                    <div class="col-md-5 text-left" style="padding: 0;">
                                                                        <!-- {{box.paramList.length}} -->
                                                                        <label class="smallkey p-0">HSID:</label>
                                                                    </div>
                                                                    <div class="col-md-7 text-left">
                                                                        <label class="smallvalue p-0" *ngIf="DisplayDLRTData">{{tab.content.parsed.DetailLineRecord.SecondaryLineInd}}&nbsp;</label>
                                                                    </div>
                                                                </div>
                                                                <div class="col-xs-12 col-sm-12 col-md-12 no-padding-right">
                                                                    <div class="col-md-5 text-left" style="padding: 0;">
                                                                        <!-- {{box.paramList.length}} -->
                                                                        <label class="smallkey p-0">HSEC:</label>
                                                                    </div>
                                                                    <div class="col-md-7 text-left">
                                                                        <label class="smallvalue p-0" *ngIf="DisplayDLRTData">{{tab.content.parsed.DetailLineRecord.HasSecondaryFlag}}&nbsp;</label>
                                                                    </div>
                                                                </div>
                                                                <div class="col-xs-12 col-sm-12 col-md-12 no-padding-right">
                                                                    <div class="col-md-5 text-left" style="padding: 0;">
                                                                        <!-- {{box.paramList.length}} -->
                                                                        <label class="smallkey p-0">HDPA:</label>
                                                                    </div>
                                                                    <div class="col-md-7 text-left">
                                                                        <label class="smallvalue p-0" *ngIf="DisplayDLRTData">{{tab.content.parsed.DetailLineRecord.DiffPremAddrFlag}}&nbsp;</label>
                                                                    </div>
                                                                </div>
                                                                <div class="col-xs-12 col-sm-12 col-md-12 no-padding-right">
                                                                    <div class="col-md-5 text-left" style="padding: 0;">
                                                                        <!-- {{box.paramList.length}} -->
                                                                        <label class="smallkey p-0">TAS:</label>
                                                                    </div>
                                                                    <div class="col-md-7 text-left">
                                                                        <label class="smallvalue p-0" *ngIf="DisplayDLRTData">{{tab.content.parsed.DetailLineRecord.TeleAnsSvc}}&nbsp;</label>
                                                                    </div>
                                                                </div>
                                                                <div class="col-xs-12 col-sm-12 col-md-12 no-padding-right">
                                                                    <div class="col-md-5 text-left" style="padding: 0;">
                                                                        <!-- {{box.paramList.length}} -->
                                                                        <label class="smallkey p-0">TAC:</label>
                                                                    </div>
                                                                    <div class="col-md-7 text-left">
                                                                        <label class="smallvalue p-0" *ngIf="DisplayDLRTData">{{tab.content.parsed.DetailLineRecord.TeleAnsSvcCust}}&nbsp;</label>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <div class="col-xs-12 col-sm-12 col-md-12 no-padding-right">
                                                                    <div class="col-md-5 text-left" style="padding: 0;">
                                                                        <!-- {{box.paramList.length}} -->
                                                                        <label class="smallkey p-0">LCD:</label>
                                                                    </div>
                                                                    <div class="col-md-7 text-left">
                                                                        <label class="smallvalue p-0" *ngIf="DisplayDLRTData">{{tab.content.parsed.DetailLineRecord.LastChangeDate}}&nbsp;</label>
                                                                    </div>
                                                                </div>
                                                                <div class="col-xs-12 col-sm-12 col-md-12 no-padding-right">
                                                                    <div class="col-md-5 text-left" style="padding: 0;">
                                                                        <!-- {{box.paramList.length}} -->
                                                                        <label class="smallkey p-0">LCT:</label>
                                                                    </div>
                                                                    <div class="col-md-7 text-left">
                                                                        <label class="smallvalue p-0" *ngIf="DisplayDLRTData">{{tab.content.parsed.DetailLineRecord.LastChangeTime}}&nbsp;</label>
                                                                    </div>
                                                                </div>
                                                                <div class="col-xs-12 col-sm-12 col-md-12 no-padding-right">
                                                                    <div class="col-md-5 text-left" style="padding: 0;">
                                                                        <!-- {{box.paramList.length}} -->
                                                                        <label class="smallkey p-0">HLEX:</label>
                                                                    </div>
                                                                    <div class="col-md-7 text-left">
                                                                        <label class="smallvalue p-0" *ngIf="DisplayDLRTData">{{tab.content.parsed.DetailLineRecord.HasLineRecExt}}&nbsp;</label>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="col-md-12">
                                                                <div class="col-xs-12 col-sm-12 col-md-12 no-padding-right">
                                                                    <div class="col-md-2 text-left" style="padding: 0;">
                                                                        <!-- {{box.paramList.length}} -->
                                                                        <label class="smallkey p-0">LN:</label>
                                                                    </div>
                                                                    <div class="col-md-10 text-left">
                                                                        <label class="smallvalue p-0" *ngIf="DisplayDLRTData">{{tab.content.parsed.DetailLineRecord.ListedName}}&nbsp;</label>
                                                                    </div>
                                                                </div>
                                                                <div class="col-xs-12 col-sm-12 col-md-12 no-padding-right">
                                                                    <div class="col-md-2 text-left" style="padding: 0;">
                                                                        <!-- {{box.paramList.length}} -->
                                                                        <label class="smallkey p-0">SA:</label>
                                                                    </div>
                                                                    <div class="col-md-10 text-left">
                                                                        <label class="smallvalue p-0" *ngIf="DisplayDLRTData">{{tab.content.parsed.DetailLineRecord.SvcAddress}}&nbsp;</label>
                                                                    </div>
                                                                </div>
                                                                <div class="col-xs-12 col-sm-12 col-md-12 no-padding-right">
                                                                    <div class="col-md-2 text-left" style="padding: 0;">
                                                                        <!-- {{box.paramList.length}} -->
                                                                        <label class="smallkey p-0">RMK:</label>
                                                                    </div>
                                                                    <div class="col-md-10 text-left">
                                                                        <label class="smallvalue p-0" *ngIf="DisplayDLRTData">{{tab.content.otime}}&nbsp;</label>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <!-- nov/dec release-->
                                                    <!-- <div *ngIf="tab.fieldName == 'dleth'" class="set-height height-100-200 dlrl-div-height"
                                                        style="max-height: calc(100vh - 265px); height: calc(100vh - 265px); ; overflow: auto">
                                                        
                                                        <div *ngIf = "DLETHResponsStatus" class="col-md-12">
                                                            <h3>Ticket History</h3>
                                                        </div>
                                                       
                                                        <div  *ngIf = "DLETHResponsStatus" class="col-md-12">
                                                            <div class="col-md-6">
                                                                <div class="col-xs-12 col-sm-12 col-md-12 no-padding-right">
                                                                    <div class="col-md-5 text-left" style="padding: 0;">
                                                                        
                                                                        <label class="smallkey p-0">Employee Code:</label>
                                                                    </div>
                                                                    <div class="col-md-7 text-left">
                                                                        <label  *ngIf="DisplayDLETHData" class="smallvalue p-0">{{tab.content.parsed.TicketHistory.EmployeeCode}}&nbsp;</label>
                                                                    </div>
                                                                </div>
                                                                <div class="col-xs-12 col-sm-12 col-md-12 no-padding-right">
                                                                    <div class="col-md-5 text-left" style="padding: 0;">
                                                                        
                                                                        <label class="smallkey p-0">HD:</label>
                                                                    </div>
                                                                    <div class="col-md-7 text-left">
                                                                        <label class="smallvalue p-0" *ngIf="DisplayDLETHData">
                                                                            {{tab.content.parsed.TicketHistory.HD}}&nbsp;</label>
                                                                    </div>
                                                                </div>
                                                              
                                                                <div class="col-xs-12 col-sm-12 col-md-12 no-padding-right">
                                                                        <div class="col-md-5 text-left" style="padding: 0;">
                                                                            
                                                                            <label class="smallkey p-0">Name:</label>
                                                                        </div>
                                                                        <div class="col-md-7 text-left">
                                                                            <label class="smallvalue p-0" *ngIf="DisplayDLETHData">
                                                                                {{tab.content.parsed.TicketHistory.Name}}&nbsp;</label>
                                                                        </div>
                                                                    </div>

                                                                    <div class="col-xs-12 col-sm-12 col-md-12 no-padding-right">
                                                                            <div class="col-md-5 text-left" style="padding: 0;">
                                                                                
                                                                                <label class="smallkey p-0">SvcAddress:</label>
                                                                            </div>
                                                                            <div class="col-md-7 text-left">
                                                                                <label class="smallvalue p-0" *ngIf="DisplayDLETHData">
                                                                                    {{tab.content.parsed.TicketHistory.SvcAddress}}&nbsp;</label>
                                                                            </div>
                                                                        </div>
                                                            </div>
                                                            <div class="col-md-6">
                                                              
                                                                <div class="col-xs-12 col-sm-12 col-md-12 no-padding-right">
                                                                    <div class="col-md-5 text-left" style="padding: 0;">
                                                                        <label class="smallkey p-0">Telephone Number:</label>
                                                                    </div>
                                                                    <div class="col-md-7 text-left">
                                                                        <label class="smallvalue p-0" *ngIf="DisplayDLETHData">
                                                                                {{tab.content.parsed.TicketHistory.TelephoneNumber}}&nbsp;</label>
                                                                    </div>
                                                                </div>
                                                                <div class="col-xs-12 col-sm-12 col-md-12 no-padding-right">
                                                                    <div class="col-md-5 text-left" style="padding: 0;">
                                                                        
                                                                        <label class="smallkey p-0">LD:</label>
                                                                    </div>
                                                                    <div class="col-md-7 text-left">
                                                                        <label class="smallvalue p-0" *ngIf="DisplayDLETHData">
                                                                                {{tab.content.parsed.TicketHistory.LD}}&nbsp;</label>
                                                                    </div>
                                                                </div>
                                                               
                                                                <div class="col-xs-12 col-sm-12 col-md-12 no-padding-right">
                                                                        <div class="col-md-5 text-left" style="padding: 0;">
                                                                            
                                                                            <label class="smallkey p-0">Location:</label>
                                                                        </div>
                                                                        <div class="col-md-7 text-left">
                                                                            <label class="smallvalue p-0" *ngIf="DisplayDLETHData">
                                                                                    {{tab.content.parsed.TicketHistory.Location}}&nbsp;</label>
                                                                        </div>
                                                                    </div>
                                                            </div>
                                                        </div><br>
                                                        <br>
                                                        <br>
                                                       

                                                        <div  *ngIf = "DLETHResponsStatus" class="col-md-12">
                                                            <div *ngFor="let troubleTicket of tab.content.parsed.TicketHistory.TroubleTickets;" >
                                                                <div class="panel panel-primary spr-panel">
                                                                 
                                                                    <div class="panel-heading">Trouble Report</div>
                                                                    <div class="panel-body" style="min-height: auto; height: auto;">
                                                                        <div class="row" style="max-height: auto;height: auto;min-height: auto">
                                                                            <div class="col-xs-12 col-md-12 col-sm-12 col-lg-12 p-0">
                                                                                <table class="table table-boradred cstmr-att-tbl m-0"
                                                                                    style="table-layout: fixed;">
                                                                                    <thead>
                                                                                        <tr>
                                                                                                <th>Seq</th>
                                                                                                <th>Cat.</th>
                                                                                                <th>Date</th>
                                                                                                <th>COM</th>
                                                                                                <th>EXC</th>
                                                                                                <th>RSA</th>
                                                                                                <th>OS.</th>
                                                                                                <th>Ver.</th>
                                                                                                <th>CVER</th>
                                                                                                
                                                                                        </tr>
                                                                                    </thead>
                                                                                    
                                                                                    <tbody *ngIf="DisplayDLETHData">
                                                                                        <ng-container *ngIf = "troubleTicket && troubleTicket.TroubleTicket && troubleTicket.TroubleTicket.TroubleReport && troubleTicket.TroubleTicket.TroubleReport.Narratives" >
                                                                                            <tr>
                                                                                                    <td>{{troubleTicket.TroubleTicket.TroubleReport['TRSeqNo']}}</td>
                                                                                                    <td>{{troubleTicket.TroubleTicket.TroubleReport['Category']}}</td>
                                                                                                    <td>{{troubleTicket.TroubleTicket.TroubleReport['TRDate']}}</td>
                                                                                                    <td>{{troubleTicket.TroubleTicket.TroubleReport['COM']}}</td>
                                                                                                    <td>{{troubleTicket.TroubleTicket.TroubleReport['EXC']}}</td>
                                                                                                    <td>{{troubleTicket.TroubleTicket.TroubleReport['RSA']}}</td>
                                                                                                    <td>{{troubleTicket.TroubleTicket.TroubleReport['OS']}}</td>
                                                                                                    <td>{{troubleTicket.TroubleTicket.TroubleReport['Ver']}}</td>
                                                                                                    <td>{{troubleTicket.TroubleTicket.TroubleReport['CVER']}}</td>
                                                                                            </tr>
                                                                                            <tr *ngFor="let text of troubleTicket.TroubleTicket.TroubleReport.Narratives">
                                                                                                <td *ngIf = "text" colspan="9">{{text.Narrative}}</td>
                                                                                            </tr>
                                                                                        </ng-container>
                                                                                    </tbody>
                                                                                </table>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <br>
                                                                    <br>
                                                                </div>
                                                                 
                                                                <div class="panel panel-primary spr-panel">
                                                                    <div class="panel-heading">Status Changes</div>
                                                                    <div class="panel-body" style="min-height: auto; height: auto;">
                                                                        <div class="row" style="max-height: auto;height: auto;min-height: auto">
                                                                            <div class="col-xs-12 col-md-12 col-sm-12 col-lg-12 p-0">
                                                                                <table class="table table-boradred cstmr-att-tbl m-0"
                                                                                    style="table-layout: fixed;">
                                                                                    <thead>
                                                                                        <tr>
                                                                                                <th>Seq</th>
                                                                                                <th>Date</th>
                                                                                                <th>EC</th>
                                                                                                <th>RSL</th>
                                                                                                <th>Status</th>
                                                                                                <th>Route</th>
                                                                                                <th>WorkPerf.</th>
                                                                                        </tr>
                                                                                    </thead>
                                                                                    
                                                                                    <tbody *ngIf="DisplayDLETHData">
                                                                                        <ng-container *ngFor = "let statusChange of troubleTicket.TroubleTicket.StatusChanges">
                                                                                            <tr>
                                                                                                    <td>{{statusChange['DNTSeqNo']}}</td>
                                                                                                    <td>{{statusChange['DateNT']}}</td>
                                                                                                    <td>{{statusChange['EmployeeCode']}}</td>
                                                                                                    <td>{{statusChange['RSL']}}</td>
                                                                                                    <td>{{statusChange['Status']}}</td>
                                                                                                    <td>{{statusChange['Route']}}</td>
                                                                                                    <td>{{statusChange['WorkPerformed']}}</td>
                                                                                            </tr>
                                                                                            <tr *ngFor="let text of statusChange.Narratives">
                                                                                                <td colspan="7">{{text.Narrative}}</td>
                                                                                            </tr>
                                                                                        </ng-container>
                                                                                    </tbody>
                                                                                </table>
                                                                            </div>
                                                                        </div>
                                                                    </div>

                                                                   
                                                                </div>

                                                                <div class="panel panel-primary spr-panel">

                                                                        <div class="col-md-12">
                                                                                <h3>Other Details</h3>
                                                                            </div>
                                                                            <div class="col-md-12">
                                                                                <div class="col-md-6">
                                                                                        <div class="col-xs-12 col-sm-12 col-md-12 no-padding-right">
                                                                                                <div class="col-md-5 text-left" style="padding: 0;">
                                                                                                    
                                                                                                    <label class="smallkey p-0">TktSeqNum:</label>
                                                                                                </div>
                                                                                                <div class="col-md-7 text-left">
                                                                                                    <label class="smallvalue p-0" *ngIf="DisplayDLETHData">
                                                                                                        {{troubleTicket['TroubleTicket']['TktSeqNum']}}&nbsp;</label>
                                                                                                </div>
                                                                                            </div>
                                                                                    <div class="col-xs-12 col-sm-12 col-md-12 no-padding-right">
                                                                                        <div class="col-md-5 text-left" style="padding: 0;">
                                                                                            
                                                                                            <label class="smallkey p-0">ClearedDate:</label>
                                                                                        </div>
                                                                                        <div class="col-md-7 text-left">
                                                                                            <label class="smallvalue p-0" *ngIf="DisplayDLETHData">
                                                                                                {{troubleTicket['TroubleTicket']['ClearedDate']}}&nbsp;</label>
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="col-xs-12 col-sm-12 col-md-12 no-padding-right">
                                                                                            <div class="col-md-5 text-left" style="padding: 0;">
                                                                                                
                                                                                                <label class="smallkey p-0">C:</label>
                                                                                            </div>
                                                                                            <div class="col-md-7 text-left">
                                                                                                <label class="smallvalue p-0" *ngIf="true">
                                                                                                    {{troubleTicket['TroubleTicket']['C']}}&nbsp;</label>
                                                                                            </div>
                                                                                        </div>
                                                                                        <div class="col-xs-12 col-sm-12 col-md-12 no-padding-right">
                                                                                                <div class="col-md-5 text-left" style="padding: 0;">
                                                                                                  
                                                                                                    <label class="smallkey p-0">LN:</label>
                                                                                                </div>
                                                                                                <div class="col-md-7 text-left">
                                                                                                    <label class="smallvalue p-0" *ngIf="DisplayDLETHData">
                                                                                                        {{troubleTicket['TroubleTicket']['LN']}}&nbsp;</label>
                                                                                                </div>
                                                                                            </div>
                                                                                            <div class="col-xs-12 col-sm-12 col-md-12 no-padding-right">
                                                                                                    <div class="col-md-5 text-left" style="padding: 0;">
                                                                                                        
                                                                                                        <label class="smallkey p-0">ReportDate:</label>
                                                                                                    </div>
                                                                                                    <div class="col-md-7 text-left">
                                                                                                        <label class="smallvalue p-0" *ngIf="DisplayDLETHData">
                                                                                                            {{troubleTicket['TroubleTicket']['ReportDate']}}&nbsp;</label>
                                                                                                    </div>
                                                                                                </div>
                                                                                                <div class="col-xs-12 col-sm-12 col-md-12 no-padding-right">
                                                                                                        <div class="col-md-5 text-left" style="padding: 0;">
                                                                                                            
                                                                                                            <label class="smallkey p-0">TktSeqNum:</label>
                                                                                                        </div>
                                                                                                        <div class="col-md-7 text-left">
                                                                                                            <label class="smallvalue p-0" *ngIf="DisplayDLETHData">
                                                                                                                {{troubleTicket['TroubleTicket']['TktSeqNum']}}&nbsp;</label>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                    <div class="col-xs-12 col-sm-12 col-md-12 no-padding-right">
                                                                                                            <div class="col-md-5 text-left" style="padding: 0;">
                                                                                                               
                                                                                                                <label class="smallkey p-0">SWK:</label>
                                                                                                            </div>
                                                                                                            <div class="col-md-7 text-left">
                                                                                                                <label class="smallvalue p-0" *ngIf="DisplayDLETHData">
                                                                                                                    {{troubleTicket['TroubleTicket']['SWK']}}&nbsp;</label>
                                                                                                            </div>
                                                                                                        </div>
                                                                                   
                                                                                </div>
                                                                                <div class="col-md-6">
                                                                                        <div class="col-xs-12 col-sm-12 col-md-12 no-padding-right">
                                                                                                <div class="col-md-5 text-left" style="padding: 0;">
                                                                                                    
                                                                                                    <label class="smallkey p-0">TST:</label>
                                                                                                </div>
                                                                                                <div class="col-md-7 text-left">
                                                                                                    <label class="smallvalue p-0" *ngIf="DisplayDLETHData">
                                                                                                        {{troubleTicket['TroubleTicket']['TST']}}&nbsp;</label>
                                                                                                </div>
                                                                                            </div>
                                                                                        <div class="col-xs-12 col-sm-12 col-md-12 no-padding-right">
                                                                                                <div class="col-md-5 text-left" style="padding: 0;">
                                                                                                  
                                                                                                    <label class="smallkey p-0">ClosedDate:</label>
                                                                                                </div>
                                                                                                <div class="col-md-7 text-left">
                                                                                                    <label class="smallvalue p-0" *ngIf="true">
                                                                                                        {{troubleTicket['TroubleTicket']['ClosedDate']}}&nbsp;</label>
                                                                                                </div>
                                                                                            </div>
                                                                                            <div class="col-xs-12 col-sm-12 col-md-12 no-padding-right">
                                                                                                    <div class="col-md-5 text-left" style="padding: 0;">
                                                                                                        
                                                                                                        <label class="smallkey p-0">D:</label>
                                                                                                    </div>
                                                                                                    <div class="col-md-7 text-left">
                                                                                                        <label class="smallvalue p-0" *ngIf="DisplayDLETHData">
                                                                                                            {{troubleTicket['TroubleTicket']['D']}}&nbsp;</label>
                                                                                                    </div>
                                                                                            </div>
                                                                                            <div class="col-xs-12 col-sm-12 col-md-12 no-padding-right">
                                                                                                    <div class="col-md-5 text-left" style="padding: 0;">
                                                                                                        
                                                                                                        <label class="smallkey p-0">RSL:</label>
                                                                                                    </div>
                                                                                                    <div class="col-md-7 text-left">
                                                                                                        <label class="smallvalue p-0" *ngIf="DisplayDLETHData">
                                                                                                            {{troubleTicket['TroubleTicket']['RSL']}}&nbsp;</label>
                                                                                                    </div>
                                                                                            </div>
                                                                                            <div class="col-xs-12 col-sm-12 col-md-12 no-padding-right">
                                                                                                    <div class="col-md-5 text-left" style="padding: 0;">
                                                                                                        
                                                                                                        <label class="smallkey p-0">Status:</label>
                                                                                                    </div>
                                                                                                    <div class="col-md-7 text-left">
                                                                                                        <label class="smallvalue p-0" *ngIf="DisplayDLETHData">
                                                                                                            {{troubleTicket['TroubleTicket']['Status']}}&nbsp;</label>
                                                                                                    </div>
                                                                                            </div>
                                                                                            <div class="col-xs-12 col-sm-12 col-md-12 no-padding-right">
                                                                                                    <div class="col-md-5 text-left" style="padding: 0;">
                                                                                                        
                                                                                                        <label class="smallkey p-0">RPM:</label>
                                                                                                    </div>
                                                                                                    <div class="col-md-7 text-left">
                                                                                                        <label class="smallvalue p-0" *ngIf="DisplayDLETHData">
                                                                                                            {{troubleTicket['TroubleTicket']['RPM']}}&nbsp;</label>
                                                                                                    </div>
                                                                                            </div>
                                                                                            <div class="col-xs-12 col-sm-12 col-md-12 no-padding-right">
                                                                                                    <div class="col-md-5 text-left" style="padding: 0;">
                                                                                                        
                                                                                                        <label class="smallkey p-0">T:</label>
                                                                                                    </div>
                                                                                                    <div class="col-md-7 text-left">
                                                                                                        <label class="smallvalue p-0" *ngIf="DisplayDLETHData">
                                                                                                            {{troubleTicket['TroubleTicket']['T']}}&nbsp;</label>
                                                                                                    </div>
                                                                                                </div>
                                                                                                <div class="col-xs-12 col-sm-12 col-md-12 no-padding-right">
                                                                                                        <div class="col-md-5 text-left" style="padding: 0;">
                                                                                                           
                                                                                                            <label class="smallkey p-0">_CAT:</label>
                                                                                                        </div>
                                                                                                        <div class="col-md-7 text-left">
                                                                                                            <label class="smallvalue p-0" *ngIf="DisplayDLETHData">
                                                                                                                {{troubleTicket['TroubleTicket']['_CAT']}}&nbsp;</label>
                                                                                                        </div>
                                                                                                    </div>
                                                                                   
                                                                                   
                                                                                </div>
                                                                                
                                                                            </div>

                                                                </div>

                                                            </div>
                                                        </div>

                                                        <div *ngIf = "!DLETHResponsStatus">
                                                           <span style="margin: 10px;"> No DLETH found </span> 
                                                        </div>


                                                      
                                                       
                                                    </div> -->
                                                </div>
                                                <ul class="nav nav-tabs lmos-tb-lst" id="demo-pill-nav1">
                                                    <li [class.active]="tab.active" *ngFor="let tab of relatedTabs; let tabIndex=index;">
                                                        <a (click)="loadTabDetails(tabIndex, true);" *ngIf="tab.visible">
                                                            <span class="lmos-tb-ic">
                                                                <img src="../../../../assets/img/{{tab.icon}}" class="tab-icon" />
                                                            </span>
                                                            <span>{{tab.label}}</span>
                                                        </a>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </tab>
                            <tab class="left-tab-pane" [active]="leftSideTabs.tab == 'log-details'">
                                <div id="systemtable" class="table-responsive col-md-12" *ngFor="let layoutElem of logPageLayout['pageLayoutTemplate']"
                                    style="margin-top: 12px;">
                                    <div *ngIf="layoutElem.sectionHeader == 'Log Details'">
                                    
                                        <sa-table  *ngIf = "showLogs" class="col-md-12 p-0" [pagination]="pagination" [actionButton]="actionButton"
                                            [actionColumn]="actionColumn" [tableHeader]="actionColumn" [tableData]="displayTaskResult"
                                            [tableOtherContent]="LogDetailsParameter" [filter]="filter" [tablePaginationData]="tablePaginationData"
                                            (showAdditionalDetailsParent)="showAdditionalDetails($event, taskDetails)" (addNewRowParent)="addNewRow()"
                                            (onSaveParent)="onSaveClick($event)" (onEditParent)="onEditClick($event)"
                                            (onDeleteParent)="onDeleteClick($event)" (onCloseParent)="onCloseClick($event)"
                                            (openTabParent)="openDetailViewTD($event)" (expandRow)="expandRow($event)" (refresh)="onRefreshLogs()">
                                        </sa-table>
                                        <!-- </div> -->
                                        <!-- </div> -->
                                    </div>
                                </div>
                            </tab>
                            <tab class="left-tab-pane" [active]="leftSideTabs.tab == 'relationship-map'">
                                <div class="comingbox"> Coming Soon...</div>
                            </tab>
                        </tabset>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<div *ngIf="RCMACTask">
    <div>
        <div class="alert alert-success alert-dismissible" *ngIf="IsSucess" style="background-color: green;color: #fff;">
            <strong>Success! </strong>{{message}}.
            <button type="button" class="close" data-dismiss="alert" (click)="IsSucess = false">&times;</button>
        </div>
        <div class="alert alert-danger alert-dismissible" *ngIf="IsError && !isModalErrMsgSet" style="background-color: #ce2f2f;color: #fff;">
            <strong>Error! </strong>{{message}}.
            <button type="button" class="close" data-dismiss="alert" style="background-color: #fff;" (click)="IsError = false">&times;</button>
        </div>
        <div class="resizable MainPage example-2">
            <div class="inner">
                <form name="form" class="task-details-form">
                    <div class="form-group">
                        <div class="sticky-tab-header spr-tabs">
                            <ul class="nav nav-tabs tabs-left text-align-center" id="demo-pill-nav">
                                <li [class.active]="leftSideTabs.tab == 'request-details'">
                                    <a (click)="selectTab('request-details')">Task Summary</a>
                                </li>
                                <li [class.active]="leftSideTabs.tab == 'log-details'">
                                    <a (click)="selectTab('log-details')">Log Details</a>
                                </li>
                            </ul>

                            <div class="pull-right" [hidden]="leftSideTabs.tab !== 'request-details'">
                                <div>
                                    <div style="padding-top:5px;padding-right: 15px;">
                                        <div style="display:inline-block">

                                            <a (click)="getTaskDetails()" class="cm-refresh pull-right margin-right-13"
                                                style="font-size:150%">
                                                <span class="glyphicon glyphicon-refresh"></span>
                                            </a>
                                            <div *ngIf="processData.sourceSystemId == '553' && !IsHalfScreen" style="display: inline-block;">
                                                
                                                <div *ngFor="let button of LmosButton.fieldsList" style="display: inline-flex;">
                                                    <button *ngIf="button.fieldName !='forceClose'" (click)="lmosAction(button, template)" class="btn btn-success blue__btn pull-right margin-right-13"
                                                        mat-raised-button [disabled]="!isECAvailable">
                                                        {{(button.fieldName == 'transfter' && taskDetails['assignedCuid'] == null && taskDetails['taskStatus'] == 'Ready')? 'Assign' : button.label}}
                                                    </button>
                                                    <button *ngIf="button.fieldName =='forceClose' " (click)="lmosAction(button, template)" class="btn btn-success blue__btn pull-right margin-right-13"
                                                        mat-raised-button [disabled]=" !(isECAvailable && isForceClose)">
                                                        {{button.label}}
                                                    </button>
                                                </div>
                                            </div>
                                            <div *ngIf="processData.sourceSystemId == '553' && IsHalfScreen && LmosButton.fieldsList.length > 0"
                                                style="width: 121px;">
                                                <div class="btn-group" role="group">
                                                    <button id="btnGroupDrop1" [disabled]="!isECAvailable" type="button" class="btn btn-success blue__btn pull-right margin-right-13 dropdown-toggle"
                                                        data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"
                                                        style="display: inline-flex;">
                                                        Action
                                                    </button>
                                                    <div class="pull-right dropdown-menu" aria-labelledby="btnGroupDrop1">
                                                        <div *ngFor="let button of LmosButton.fieldsList" >
                                                            <a *ngIf=" button.fieldName !='forceClose' " class="btn btn-success blue__btn margin-right-13 dropdown-item"
                                                            href="#" (click)="lmosAction(button, template)" style="width: 90%;margin: 5px 7px 5px 9px;">{{button.label}}</a>

                                                            <a *ngIf=" button.fieldName =='forceClose' && isForceClose " class="btn btn-success blue__btn margin-right-13 dropdown-item"
                                                            href="#" (click)="lmosAction(button, template)" style="width: 90%;margin: 5px 7px 5px 9px;">{{button.label}}</a>
                                                    </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <span class="btn-header menu-icon {{(IsHalfScreen)? ((LmosButton.fieldsList.length > 0)? 'lmosbutton-inline-menuicon-halfscreen-with-button':'lmosbutton-inline-menuicon-halfscreen-without-button'):((LmosButton.fieldsList.length > 0)? 'lmosbutton-inline-menuicon-fullscreen-with-button':'lmosbutton-inline-menuicon-fullscreen-without-button')}}"
                                            *ngIf="processData.sourceSystemId == '553'">
                                            <button [disabled]="RelatedTabMenuButtonDisabled" class="toggle btn btn-link ie10classbtn {{(LmosButton.fieldsList.length > 0)? 'top-4':'top0'}}" title="Related Tabs View" (click)="maximizeLeftPanelWindow()" style="margin: 0px;padding: 0;">
                                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="fa lmos-tb-hvr"
                                                    style="height: 16px; display: inline-block;">
                                                    <path fill="#ffffff" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path>
                                                </svg>
                                                <!-- <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="fa fa-plane-alt"
                                                    style="height: 16px;">
                                                    <path fill="#ffffff" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path>
                                                </svg> -->
                                            </button>
                                            <ul class="nav nav-tabs lmos-tb-lst-2" id="demo-pill-nav2" *ngIf="!IsHalfScreen && !RelatedTabMenuButtonDisabled">
                                                <li [class.active]="tab.active" *ngFor="let tab of relatedTabs; let tabIndex=index;">
                                                    <a (click)="maximizeLeftPanelWindow(); loadTabDetails(tabIndex, true);" *ngIf="tab.visible" style="padding: 3px 10px;">
                                                        <span class="lmos-tb-ic" style="padding-top: 0;">
                                                            <img src="../../../../assets/img/{{tab.icon}}" class="tab-icon" />
                                                        </span>
                                                        <span>{{tab.label}}</span>
                                                    </a>
                                                </li>
                                            </ul>
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <tabset class="col-sm-12 no-padding padding-top-40">
                            <tab class="left-tab-pane col-sm-12 pl-0 pr-0" [active]="leftSideTabs.tab == 'request-details'"
                                id="lmosTabSet">
                                <div class="task_loader lmosbutton-openpopup" *ngIf="!taskDetails['taskSectionModels'] || taskDetails['taskSectionModels'].length==0">
                                    <h4 style="color:red; font-weight: bold;">
                                        No data found for this ticket...
                                    </h4>
                                </div>
                                <div class="resizable resizable1 GetHeight wrap-scroll" style="border:0;">
                                    <div *ngIf="loaderLmosTaskPopup" class="task_loader lmosbutton-openpopup">
                                        <!-- <mat-spinner class="spinner-style"></mat-spinner> -->
                                        <!-- <img src="assets/img/task_loader.svg" width="125px" alt="task" /> -->
                                        <!-- <img src="assets/img/Ellipsis-1s-200px.svg" width="125px" alt="task" /> -->
                                        <div class="spinner">
                                            <div class="bounce1"></div>
                                            <div class="bounce2"></div>
                                            <div class="bounce3"></div>
                                        </div>
                                    </div>
                                    <!--(dblclick)="maximizeLeftPanelWindow()"-->
                                    <div class="col-md-12" style="margin-top:10px;margin-bottom: 10px;">
                                        <div class="col-sm-12 p-0">
                                            <ng-container *ngFor="let taskSection of taskDetails['taskSectionModels'];">
                                                <div class="lmos-border-right-bottom" [ngClass]="IsHalfScreen ? 'col-md-12':'col-md-8'"
                                                    *ngIf="taskSection.header == 'Trouble Report'">
                                                    <div class="col-md-12 darkborderbottom p-0">
                                                        <div class="col-md-12" style="padding-left: 0px;">
                                                            <label class="key">{{LMOSLayoutDetails.trouble_ticket.sectionHeader}}
                                                            </label>
                                                            <!-- <ng-container *ngFor="let troubleData of taskSection.paramList;">
                                                                <label class="value ml-0" *ngIf="troubleData.name=='TTN'">{{troubleData.value}}</label>
                                                            </ng-container> -->
                                                        </div>
                                                    </div>
                                                    <div class="col-md-12" style="padding: 10px; column-count: 2; column-gap: 0;">
                                                        <div class="p-0 troubl-rprt-item" *ngFor="let fieldDetails of LMOSLayoutDetails.trouble_ticket.fieldsList">
                                                            <div class="text-left p-0" *ngIf="fieldDetails.fieldName != 'TROUBLE' && fieldDetails.fieldName != 'LMOSSTATUS'"
                                                                [ngClass]="fieldDetails.fieldName == 'assignedWorkGroups' ? 'col-md-12' : 'col-md-6'">
                                                                <label class="smallkey p-0 m-0" *ngIf="fieldDetails.label">{{fieldDetails.label}}:</label>
                                                            </div>
                                                            <div *ngIf="fieldDetails.fieldName != 'TROUBLE' && fieldDetails.fieldName != 'STATUS'"
                                                                class="col-md-6 text-left" style="padding-right:0;">
                                                                <label class="smallvalue p-0 m-0">
                                                                    <ng-container *ngFor="let troubleData of taskSection.paramList;">
                                                                        <ng-container *ngIf="troubleData.name == fieldDetails.fieldName">
                                                                            {{troubleData.value}} 
                                                                            <span *ngIf="fieldDetails.fieldNameB">
                                                                                <ng-container *ngFor="let troubleData of taskSection.paramList;">
                                                                                    <ng-container *ngIf="troubleData.name == fieldDetails.fieldNameB">
                                                                                        {{(troubleData.value != '')? ' / ' + troubleData.value : ''}}
                                                                                    </ng-container>
                                                                                </ng-container>
                                                                            </span>
                                                                        </ng-container>
                                                                    </ng-container>
                                                                </label>
                                                            </div>
                                                            <div class="text-left p-0 col-md-12" *ngIf="fieldDetails.fieldName == 'TROUBLE' || fieldDetails.fieldName == 'LMOSSTATUS'">
                                                                <label class="smallkey p-0 m-0" *ngIf="fieldDetails.label">{{fieldDetails.label}}:</label>
                                                            </div>
                                                            <div *ngIf="fieldDetails.fieldName == 'TROUBLE' || fieldDetails.fieldName == 'STATUS'"
                                                                class="col-md-12 text-left" style="padding-left:0;">
                                                                <ng-container *ngFor="let troubleData of taskSection.paramList;">
                                                                    <textarea rows="3" style="height: 50px; resize: none;"
                                                                        *ngIf="troubleData.name == fieldDetails.fieldName"
                                                                        [value]="troubleData.value" disabled=""></textarea>
                                                                </ng-container>
                                                            </div>
                                                        </div>
                                                        
                                                    </div>
                                                </div>                                                      
                                                 
                                            </ng-container>
                                            
                                            <ng-container *ngFor="let taskSection of taskDetails['taskSectionModels'];">
                                                <ng-container *ngIf="taskSection.header == 'Trouble Report'">
                                                    <div class="lmos-border-right-bottom" *ngFor="let box of LMOSLayoutDetails.assigned_details.fieldsList"
                                                        [ngClass]="IsHalfScreen ? 'col-md-12':'col-md-4'">
                                                        <div class="col-md-12 darkborderbottom p-0">
                                                            <div class="col-md-12" style="padding-left: 0px;">
                                                                <label class="key">{{box.header.label}}:
                                                                    <span *ngIf="box.header.label=='Status'" [ngStyle]="{color: getStatusColor(taskDetails.taskStatus)}">{{taskDetails.taskStatus}}</span>
                                                                    <span *ngIf="box.header.showHistory" (click)="box.header.history = !box.header.history; getParentTaskStatusHistory(taskDetails, box.header.history, box)"
                                                                        style="cursor: pointer;position: relative;top: 5px;">
                                                                        <mat-icon *ngIf="box.header.history" class="material-icons add_box system__add">play_arrow</mat-icon>
                                                                        <mat-icon *ngIf="!box.header.history" class="system__add add_box"
                                                                            style="transform: rotate(90deg);">play_arrow</mat-icon>
                                                                    </span>
                                                                </label>
                                                                <!-- <label class="valuedarkblue"></label> -->
                                                            </div>
                                                            <div class="col-md-12 HistoryDiv p-0" *ngIf="!box.header.history && box.header.label=='Status'">
                                                                <h4>Status History:</h4>
                                                                <div id="table-section" class="tab-content table-responsive"
                                                                    style="max-height: 200px; overflow:auto;">
                                                                    <table class="table table-striped table-hover">
                                                                        <tbody>
                                                                            <tr *ngFor="let historyDetails of parentTaskHistory;">
                                                                                <td style="padding:5px; white-space: nowrap;">{{historyDetails.statusCode}}</td>
                                                                                <td style="padding:5px; white-space: nowrap;">{{historyDetails.status}}</td>
                                                                                <td style="padding:5px; white-space: nowrap;">{{historyDetails.createdDttm}}</td>
                                                                            </tr>
                                                                        </tbody>
                                                                    </table>
                                                                </div>
                                                                <div class="col-md-12" style="margin:10px;"></div>
                                                            </div>
                                                        </div>
                                                        <div class="col-md-12" style="padding: 10px;">
                                                            <div class="col-md-12 p-0" *ngFor="let data of box.body">
                                                                <div class="col-md-6 text-left p-0" *ngIf="data.fieldName != 'button_notes'">
                                                                    <label class="smallkey p-0 m-0" style="white-space:nowrap;"
                                                                        *ngIf="data.label">{{data.label}}:</label>
                                                                </div>
                                                                <div class="col-md-6 text-left" style="padding-right:0;" *ngIf="data.fieldName != 'button_notes'">
                                                                    <label class="smallvalue p-0 m-0" *ngIf="data.fieldName=='assignedCuid' || data.fieldName=='assignedName'">
                                                                        {{taskDetails[data.fieldName]}}
                                                                    </label>
                                                                    <label class="smallvalue p-0 m-0" *ngIf="data.fieldName=='workgroupList'">
                                                                        <span *ngFor="let name of taskDetails.workgroupList">{{name.workgroupName}}</span>
                                                                    </label>
                                                                    <label class="smallvalue p-0 m-0" *ngIf="data.fieldName!='assignedCuid' && data.fieldName!='assignedName' && data.fieldName!='workgroupList'">
                                                                        <ng-container *ngFor="let troubleData of taskSection.paramList;">
                                                                            <ng-container *ngIf="troubleData.name == data.fieldName && !data.textarea">
                                                                                {{troubleData.value}}
                                                                            </ng-container>
                                                                        </ng-container>
                                                                    </label>
                                                                </div>
                                                                <div *ngIf="data.textarea" class="col-md-12 text-left" style="padding-left:0;">
                                                                    <textarea rows="3" style="height: 60px; resize: none;" name="notes"
                                                                    [(ngModel)]="taskDetails[data.fieldName]">
                                                                    </textarea>
                                                                </div>
                                                                <div *ngIf="data.button" class="col-md-12 text-left" style="padding-left:0;">
                                                                    <button (click)="SaveTaskNotes()" class="btn btn-success blue__btn pull-right"
                                                                    mat-raised-button style="margin-right: 0;">{{data.label}}</button>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </ng-container>
                                            </ng-container>
                                        </div>
                                    </div>
                                    <div class="col-md-12" *ngFor="let taskSection of taskDetails['taskSectionModels'];">
                                        <div class="panel panel-primary spr-panel" *ngIf="taskSection.header == 'Facilities'">
                                            <div class="panel-heading">{{taskSection.header}}
                                                <!-- <div class="pull-right">
                                                    <i (click)="RestoreDiv()" class="fa fa-times"></i>
                                                </div> -->
                                            </div>
                                            <div class="panel-body" style="min-height: auto; height: auto; max-height: 191px;">
                                                <div class="row fix-box-height" style="max-height: auto;height: auto;min-height: auto">
                                                    <div class="col-xs-12 col-md-12 col-sm-12 col-lg-12 p-0">
                                                        <!-- <table class="table table-boradred cstmr-att-tbl m-0" style="table-layout: fixed;">
                                                            <thead>
                                                                <tr>
                                                                    <ng-container *ngFor="let tableHeader of taskSection.paramList; let i = index">
                                                                        <ng-container *ngIf="tableHeader.type=='tableHeader' && tableHeader.jsonDescriptor != null">
                                                                            <th *ngFor="let tblHdr of tableHeader.parsedjsonDescriptor">
                                                                                <div style="cursor: pointer; text-align: center;">
                                                                                    {{tblHdr.columnHeader}}
                                                                                </div>
                                                                            </th>
                                                                        </ng-container>
                                                                        <ng-container *ngIf="tableHeader.type=='tableHeader' && tableHeader.jsonDescriptor == null">
                                                                            <th *ngFor="let tblHdr of tableHeader.parsedLayouttableHeaders">
                                                                                <div style="cursor: pointer; text-align: center;">
                                                                                    {{tblHdr.columnHeader}}
                                                                                </div>
                                                                            </th>
                                                                        </ng-container>
                                                                    </ng-container>
                                                                </tr>
                                                            </thead>
                                                            
                                                            <tbody style="text-align: center;">
                                                                <tr *ngFor="let tableHeader of taskSection.paramList; let i = index">
                                                                    <ng-container *ngIf="tableHeader.type=='tableData' && tableHeader.jsonDescriptor != null">
                                                                        <ng-container *ngFor="let headerData of taskSection.paramList">
                                                                            <ng-container *ngIf="headerData.type == 'tableHeader'">
                                                                                <td *ngFor="let Data of headerData.parsedjsonDescriptor"
                                                                                    style="border-right: 1px solid #dddddd;">{{tableHeader.value[Data.columnKey]}}</td>
                                                                            </ng-container>
                                                                        </ng-container>
                                                                    </ng-container>
                                                                    <ng-container *ngIf="tableHeader.type=='tableData' && tableHeader.jsonDescriptor == null">
                                                                        <ng-container *ngFor="let headerData of taskSection.paramList">
                                                                            <ng-container *ngIf="headerData.type == 'tableHeader'">
                                                                                <td *ngFor="let Data of headerData.parsedLayouttableHeaders"
                                                                                    style="border-right: 1px solid #dddddd;">{{tableHeader.value[Data.columnKey]}}</td>
                                                                            </ng-container>
                                                                        </ng-container>
                                                                    </ng-container>
                                                                </tr>
                                                            </tbody>
                                                        </table> -->
                                                        

                                                        <div class="widget-body table-container">
                                                                <sa-table 
                                                                *ngIf = "showFacility"
                                                                [pagination]="tableDetailTableSection['Facilities']['pagination']" 
                                                                [actionButton]="tableDetailTableSection['Facilities']['actionButton']" 
                                                                [actionColumn]="tableDetailTableSection['Facilities']['actionColumn']"
                                                                [tableHeader]="tableDetailTableSection['Facilities']['tableHeaders']"
                                                                [tableData]="tableDetailTableSection['Facilities']['tableData']"
                                                                [tableOtherContent]="tableDetailTableSection['Facilities']['otherContent']"
                                                                [filter]="tableDetailTableSection['Facilities']['filter']"
                                                                [tablePaginationData]=""
                                                               
                                                                (addNewRowParent)="addNewRow($event)"
                                                                (onSaveParent)="onSaveClick($event)"
                                                                (pageChangedParent)="pageChanged($event)"
                                                                (onEditParent)="onEditClick($event)"
                                                                (onDeleteParent)="onDeleteClick($event)"
                                                                (onCloseParent)="onCloseClick($event)"
                                                                (paginationChangeParent)="paginationChange($event)"
                                                                (openTabParent)="openTab($event)"
                                                                (filterColumnParent)="filterRows()"
                                                                (onSortParent)="onSortSelection($event)"
                                                                (previousAll)="previousTasks()"
                                                                (previous)="onGridPrevious()"
                                                                (nextAll)="nextTasks()"
                                                                (next)="onGridNext()"
                                                                (refresh)="onRefreshTD()"
                                                                ></sa-table>
                                                
                                                          </div>
                                                        <!-- GETCWM End RCMAC -->

                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <ng-container *ngFor="let taskSection of taskDetails['taskSectionModels'];">
                                        <ng-container *ngIf="taskSection.header == 'Customer'">
                                            <div class="col-md-12">
                                                <div class="panel panel-primary spr-panel">
                                                    <div class="panel-heading">{{LMOSLayoutDetails.customer.sectionHeader}}
                                                        <!-- <div class="pull-right">
                                                    <i (click)="RestoreDiv()" class="fa fa-times"></i>
                                                </div> -->
                                                    </div>
                                                    <div class="panel-body" style="height: auto; min-height: auto; max-height: 191px;">
                                                        <div class="row fix-box-height" style="max-height: auto;height: auto;min-height: auto">
                                                            <div *ngIf="LMOSLayoutDetails.customer.fieldsList.length>0">
                                                                <div class="col-xs-12 col-md-6 col-sm-6 col-lg-6 no-padding-right"
                                                                    *ngFor="let paramDetails of LMOSLayoutDetails.customer.fieldsList;">
                                                                    <div class="col-md-5 text-left" style="padding: 0;">
                                                                        <label class="smallkey p-0">{{paramDetails.label}}:</label>
                                                                    </div>
                                                                    <div class="col-md-7 text-left p-0">
                                                                        <label class="smallvalue p-0">
                                                                            <ng-container *ngFor="let troubleData of taskSection.paramList;">
                                                                                <ng-container *ngIf="troubleData.name == paramDetails.fieldName">
                                                                                    {{troubleData.value}}
                                                                                </ng-container>
                                                                            </ng-container>
                                                                        </label>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </ng-container>
                                    </ng-container>
                                    <ng-container *ngFor="let taskSection of taskDetails['taskSectionModels'];">
                                        <ng-container *ngIf="taskSection.header == 'Other Details'">
                                            <div class="col-md-12">
                                                <div class="panel panel-primary spr-panel">
                                                    <div class="panel-heading">{{taskSection.header}}
                                                        <!-- <div class="pull-right">
                                                            <i (click)="RestoreDiv()" class="fa fa-times"></i>
                                                        </div> -->
                                                    </div>
                                                    <div class="panel-body" style="height: auto; min-height: auto; max-height: 191px;">
                                                        <div class="row fix-box-height" style="height: auto;min-height: auto;">
                                                            <ng-container *ngFor="let data of taskDetails.taskSectionModels">
                                                                <div *ngIf="data.header == 'Other Details'">
                                                                    <ng-container *ngFor="let paramDetails of data.paramList;">
                                                                        <div class="col-xs-12 col-md-6 col-sm-6 col-lg-6 no-padding-right"
                                                                            *ngIf="paramDetails.name != 'MLTFX' && paramDetails.name != 'DLETH' && paramDetails.name != 'DSH' && paramDetails.name != 'DLR' && paramDetails.name != 'predictor' && !CheckValue(paramDetails.name)">
                                                                            <div class="col-md-5 text-left" style="padding: 0;">
                                                                                <label class="smallkey p-0">{{paramDetails.name}}:</label>
                                                                            </div>
                                                                            <div class="col-md-7 text-left p-0">
                                                                                <label class="smallvalue p-0">{{paramDetails.value}}&nbsp;</label>
                                                                            </div>
                                                                        </div>
                                                                    </ng-container>
                                                                </div>
                                                            </ng-container>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </ng-container>
                                    </ng-container>
                                    <!-- Modal -->
                                    <ng-template #template>
                                        <div class="modal-header" #modal (onShow)="handler('onShow', $event)" (onShown)="handler('onShown', $event)"
                                            (onHide)="handler('onHide', $event)" (onHidden)="handler('onHidden', $event)">
                                            <h4 *ngIf="showTransferSection" class="modal-title pull-left" style="padding-left: 37%;font-weight: bold;">{{(taskDetails['assignedCuid'] == null && taskDetails['taskStatus'] == 'Ready')? 'Assign' : 'Transfer'}}
                                                Task</h4>
                                            <h4 *ngIf="showRerouteSection" class="modal-title pull-left" style="padding-left: 37%;font-weight: bold;">Reroute
                                                Task</h4>
                                            <h4 *ngIf="showCloseSection" class="modal-title pull-left" style="padding-left: 37%;font-weight: bold;">Close
                                                Task</h4>
                                            <h4 *ngIf="showReturnTaskToWorkgroupSec" class="modal-title pull-left"
                                                style="padding-left: 30%;font-weight: bold;"> Return Task To Workgroup</h4>
                                            <h4 *ngIf="showCancelSection" class="modal-title pull-left" style="padding-left: 44%;font-weight: bold;">
                                                Cancel</h4>
                                            <h4 *ngIf="showForceCloseSection" class="modal-title pull-left" style="padding-left: 44%;font-weight: bold;">
                                                    Force Close</h4>
                                            <button type="button" class="close pull-right" aria-label="Close" (click)="IsOpenPopup = false; modalRef.hide()">
                                                <span aria-hidden="true">&times;</span>
                                            </button>
                                        </div>
                                        <div class="modal-body {{(showCloseSection)? 'lmos-close-button-modal-body' :''}}">
                                            <div *ngIf="showTransferSection">
                                                <div class="row">
                                                    <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12"><label class="control-label">CUID:
                                                        </label></div>
                                                    <div class="col-lg-9 col-md-9 col-sm-6 col-xs-12">
                                                        <ng-select2 [data]="cuidList" [width]="500" name="multiObj"
                                                            [(ngModel)]="transferTo" #multiObj="ngModel">
                                                        </ng-select2>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12">
                                                        <label class="control-label">Comment: </label>
                                                    </div>
                                                    <div class="col-lg-9 col-md-9 col-sm-6 col-xs-12">
                                                        <textarea class="form-control" name="comment" [(ngModel)]="comment"
                                                            maxlength="58"></textarea>
                                                        <div style="float: right">{{58-comment?.length}} characters
                                                            left</div>
                                                    </div>
                                                </div>

                                            </div>
                                            <div *ngIf="showRerouteSection">
                                                <div class="row">
                                                    <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12"> <label class="control-label">Workgroup:
                                                        </label></div>
                                                    <div class="col-lg-9 col-md-9 col-sm-6 col-xs-12">
                                                        <ng-select2 [data]="routWorkgroups" [width]="500" name="multiObj"
                                                            [(ngModel)]="transferTo" #multiObj="ngModel">
                                                        </ng-select2>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12">
                                                        <label class="control-label">Result: </label>
                                                    </div>
                                                    <div class="col-lg-9 col-md-9 col-sm-6 col-xs-12">
                                                        <ng-select2 [data]="RerouteResult" [width]="500" name="multiObj"
                                                            [(ngModel)]="RerouteResultvalue" #multiObj="ngModel">
                                                        </ng-select2>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12">
                                                        <label class="control-label">Comment: </label>
                                                    </div>
                                                    <div class="col-lg-9 col-md-9 col-sm-6 col-xs-12">
                                                        <textarea class="form-control" name="comment" [(ngModel)]="comment"
                                                            maxlength="58"></textarea>
                                                        <div style="float: right">{{58-comment?.length}} characters
                                                            left</div>
                                                    </div>
                                                </div>

                                            </div>
                                            <div *ngIf="showCloseSection">
                                                <div class="row">
                                                    <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12">
                                                        <label class="control-label">Trouble Found: </label>
                                                    </div>
                                                    <div class="col-lg-8 col-md-8 col-sm-6 col-xs-12">
                                                        <ng-select2 [data]="TroubleFoundData" [width]="500" name="multiObj"
                                                            [(ngModel)]="closePopupObj.TroubleFound" #multiObj="ngModel">
                                                        </ng-select2>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12">
                                                        <label class="control-label">Customer Contacted: </label>
                                                    </div>
                                                    <div class="col-lg-8 col-md-8 col-sm-6 col-xs-12">
                                                        <ng-select2 [data]="CustomerContacted" [width]="500" name="multiObj"
                                                            [(ngModel)]="closePopupObj.customerContacted" #multiObj="ngModel">
                                                        </ng-select2>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12">
                                                        <label class="control-label">Narrative: </label>
                                                    </div>
                                                    <div class="col-lg-8 col-md-8 col-sm-6 col-xs-12">
                                                        <textarea class="form-control" name="comment" [(ngModel)]="closePopupObj.comment"
                                                            maxlength="58"></textarea>
                                                        <div style="float: right">{{58-closePopupObj.comment?.length}}
                                                            characters left</div>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12">
                                                        <label class="control-label">WP Code: </label>
                                                    </div>
                                                    <div class="col-lg-8 col-md-8 col-sm-6 col-xs-12">
                                                        5
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12">
                                                        <label class="control-label">FL2: </label>
                                                    </div>
                                                    <div class="col-lg-8 col-md-8 col-sm-6 col-xs-12">
                                                        <input type="text" name="fl2" [(ngModel)]="closePopupObj.fl2"
                                                            maxlength="20">
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12">
                                                        <label class="control-label">FL3: </label>
                                                    </div>
                                                    <div class="col-lg-8 col-md-8 col-sm-6 col-xs-12">
                                                        <ng-select2 [data]="fl3Values" [width]="500" name="multiObj"
                                                            [(ngModel)]="closePopupObj.fl3" #multiObj="ngModel">
                                                        </ng-select2>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12">
                                                        <label class="control-label">Backtime: </label>
                                                    </div>
                                                    <div class="col-lg-8 col-md-8 col-sm-6 col-xs-12">
                                                        <input type="checkbox" name="backtime" [(ngModel)]="closePopupObj.backtime">
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12">
                                                        <label class="control-label">CloseOut Date/Time: </label>
                                                    </div>
                                                    <div class="col-lg-8 col-md-8 col-sm-6 col-xs-12">
                                                        <!-- <input type="text" name="closeout" [(ngModel)]="closePopupObj.closeOutDateTime"
                                                            [disabled]="!closePopupObj.backtime"> -->
                                                        <!-- <input type="text" name="closeout" [owlDateTime]="dt1" [owlDateTimeTrigger]="dt1"  [min]="ClosePopupMinDate" -->
                                                            <!-- <input matInput 
                                                            name="closeout"
                                                            [(ngModel)]="closePopupObj.closeOutDateTime"
                                                            [matDatepicker]="picker"
                                                            [disabled]="!closePopupObj.backtime"
                                                            (click)="picker.open()" (blur)="picker.close()">
                                                            <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                                                            <mat-datepicker #picker [disabled]="!closePopupObj.backtime"></mat-datepicker> -->
                                                        <!-- </mat-form-field> --> 
                                                        <input type="text" name="closeout" [owlDateTime]="dt1" [owlDateTimeTrigger]="dt1" [min]="ClosePopupMinDate"
                                                        [(ngModel)]="closePopupObj.closeOutDateTime" placeholder="Date Time" [disabled]="!closePopupObj.backtime">
                                                        <owl-date-time #dt1 [disabled]="!closePopupObj.backtime"></owl-date-time>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12">
                                                        <label class="control-label">Time zone: </label>
                                                    </div>
                                                    <div class="col-lg-8 col-md-8 col-sm-6 col-xs-12">
                                                        <!-- <input type="text" name="timezone" [(ngModel)]="closePopupObj.timezone"
                                                            [disabled]="!closePopupObj.backtime"> -->
                                                        <ng2-timezone-picker
                                                            name="timezone"
                                                            [disabled]="!closePopupObj.backtime"
                                                            [(timezone)]="closePopupObj.timezone"
                                                            showOffset="true"
                                                            [(country)]="countryIsoCode">
                                                        </ng2-timezone-picker>
                                                    </div>
                                                </div>
                                            </div>
                                            <div *ngIf="showReturnTaskToWorkgroupSec">
                                                <div class="row">
                                                    <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12">
                                                        <label class="control-label">Narrative: </label>
                                                    </div>
                                                    <div class="col-lg-9 col-md-9 col-sm-6 col-xs-12">
                                                        <textarea class="form-control" name="comment" [(ngModel)]="comment"
                                                            maxlength="58"></textarea>
                                                        <div style="float: right">{{58-comment?.length}} characters
                                                            left</div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div *ngIf="showForceCloseSection">
                                                <div class="row">
                                                    <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12">
                                                        <label class="control-label">Comments: </label>
                                                    </div>
                                                    <div class="col-lg-9 col-md-9 col-sm-6 col-xs-12">
                                                        <textarea class="form-control" name="comment" [(ngModel)]="comment"
                                                            maxlength="4000"></textarea>
                                                        <div style="float: right">{{4000-comment?.length}} characters
                                                            left</div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div *ngIf="showCancelSection">
                                                <div class="row">
                                                    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 text-center">
                                                        <label class="control-label">Are you sure you want to cancel ?
                                                        </label>
                                                    </div>
                                                </div>
                                            </div>
                                            <div *ngIf="showLmosRecoredSection">
                                                <div class="row">
                                                    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 text-center">
                                                        <label class="control-label">RECORD DOES NOT EXIST IN LMOS - PERFORM AUTO SELECT</label>
                                                    </div>
                                                </div>
                                            </div>
                                            <br>
                                            <div class="row text-center">
                                                <div id="wcmAction" class="dropdown" dropdown [insideClick]="true"
                                                    *ngIf="!showCancelSection">
                                                    <button [disabled]="PopupsubmitButtonDisabled()" mat-raised-button
                                                        (click)="submitDataToLMOSTD();" color="primary" class="blue__btn">
                                                        {{(showCancelSection || showLmosRecoredSection)?
                                                        'Ok':'Submit'}}
                                                    </button>
                                                </div>
                                                <div id="wcmAction" class="dropdown" dropdown [insideClick]="true"
                                                    *ngIf="showCancelSection">
                                                    <button mat-raised-button (click)="submitDataToLMOSTD();" color="primary"
                                                        class="blue__btn">
                                                        Yes
                                                    </button>
                                                    <button mat-raised-button (click)="CloseLmosButtonPopup();" class="clear-btn reset-bgclr">
                                                        No
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </ng-template>
                                </div>
                                <div class="resizable resizable2" style="padding-top:15px;">
                                    <!-- <div *ngIf="loaderLmosTaskRelativeTab" class="task_loader lmosbutton-openpopup">
                                        <img src="assets/img/Ellipsis-1s-200px.svg" width="125px" alt="task" />
                                    </div> -->
                                    <div class="col-md-12" *ngFor="let tab of relatedTabs" style="padding-right: 60px;padding-left:5px;overflow-x: hidden;">
                                        <div *ngIf="tab.active && tab.loader" class="task_loader lmosbutton-openpopup">
                                            <!-- <img src="assets/img/Ellipsis-1s-200px.svg" width="125px" alt="task" /> -->
                                            <div class="spinner">
                                                <div class="bounce1"></div>
                                                <div class="bounce2"></div>
                                                <div class="bounce3"></div>
                                            </div>
                                        </div>
                                        <div *ngIf="tab.active == true" class="panel panel-primary spr-panel" style="margin-bottom: 0;">
                                            <div class="panel-heading">{{tab.label}} Details
                                                <div class="pull-right">
                                                    <button class="btn btn-link" [disabled]="tab.loader" (click)="reloadTaskDetails();" style="margin-top: -4px;padding: 0;">
                                                        <i class="material-icons" style="vertical-align:middle; margin-right: 10px; cursor: pointer;">cached</i>
                                                    </button>
                                                    <!-- <i class="material-icons" style="vertical-align:middle; margin-right: 10px; cursor: pointer;"
                                                        (click)="reloadTaskDetails();">cached</i> -->
                                                    <i (click)="toggleRes2Width()" style="vertical-align:middle; cursor: pointer;"
                                                        *ngIf="!res2Full" class="fa fa-arrows-alt"></i>
                                                    <i (click)="toggleRes2Width()" style="vertical-align:middle; cursor: pointer;"
                                                        *ngIf="res2Full" class="fa fa-times"></i>
                                                </div>
                                            </div>
                                            <div class="panel-body {{(tab.fieldName == 'dlrl')?'dlrl-div-height':'overflow-auto'}}"
                                                style="min-height: auto;height: auto;">
                                                <div class="widget-body">
                                                    <pre *ngIf="tab.fieldName != 'dlrl'" class="wcm_background set-height height-100-200"
                                                        style="max-height: calc(100vh - 265px); height: calc(100vh - 265px);">{{tab.content}}</pre>
                                                    <div *ngIf="tab.fieldName == 'dlrl'" class="set-height height-100-200 dlrl-div-height"
                                                        style="max-height: calc(100vh - 265px); height: calc(100vh - 265px); min-height: auto; overflow: auto">
                                                        <div class="col-md-12">
                                                            <h3>LINE RECORD</h3>
                                                        </div>
                                                        <div class="col-md-12">
                                                            <div class="col-md-6">
                                                                <div class="col-xs-12 col-sm-12 col-md-12 no-padding-right">
                                                                    <div class="col-md-5 text-left" style="padding: 0;">
                                                                        <!-- {{box.paramList.length}} -->
                                                                        <label class="smallkey p-0">Order:</label>
                                                                    </div>
                                                                    <div class="col-md-7 text-left">
                                                                        <label class="smallvalue p-0" *ngIf="DisplayDLRTData">{{tab.content.parsed.DetailLineRecord.Order}}&nbsp;</label>
                                                                    </div>
                                                                </div>
                                                                <div class="col-xs-12 col-sm-12 col-md-12 no-padding-right">
                                                                    <div class="col-md-5 text-left" style="padding: 0;">
                                                                        <!-- {{box.paramList.length}} -->
                                                                        <label class="smallkey p-0">CPE:</label>
                                                                    </div>
                                                                    <div class="col-md-7 text-left">
                                                                        <label class="smallvalue p-0" *ngIf="DisplayDLRTData">{{tab.content.parsed.DetailLineRecord.CPE}}&nbsp;</label>
                                                                    </div>
                                                                </div>
                                                                <div class="col-xs-12 col-sm-12 col-md-12 no-padding-right">
                                                                    <div class="col-md-5 text-left" style="padding: 0;">
                                                                        <!-- {{box.paramList.length}} -->
                                                                        <label class="smallkey p-0">No Maint Contract:</label>
                                                                    </div>
                                                                    <div class="col-md-7 text-left">
                                                                        <label class="smallvalue p-0" *ngIf="DisplayDLRTData">{{tab.content.parsed.DetailLineRecord.NoMaintContract}}&nbsp;</label>
                                                                    </div>
                                                                </div>
                                                                <!-- <div class="col-xs-12 col-sm-12 col-md-12 no-padding-right">
                                                                    <div class="col-md-5 text-left" style="padding: 0;">
                                                                        <label class="smallkey p-0">Office Equipment:</label>
                                                                    </div>
                                                                    <div class="col-md-7 text-left">
                                                                        <label class="smallvalue p-0" *ngIf="DisplayDLRTData">{{tab.content.parsed.DetailLineRecord.EquipmentNum}}&nbsp;</label>
                                                                    </div>
                                                                </div> -->
                                                                <div class="col-xs-12 col-sm-12 col-md-12 no-padding-right">
                                                                    <div class="col-md-5 text-left" style="padding: 0;">
                                                                        <!-- {{box.paramList.length}} -->
                                                                        <label class="smallkey p-0">Exchange Key:</label>
                                                                    </div>
                                                                    <div class="col-md-7 text-left">
                                                                        <label class="smallvalue p-0" *ngIf="DisplayDLRTData">{{tab.content.parsed.DetailLineRecord.ExchangeKey}}&nbsp;</label>
                                                                    </div>
                                                                </div>
                                                                <div class="col-xs-12 col-sm-12 col-md-12 no-padding-right">
                                                                    <div class="col-md-5 text-left" style="padding: 0;">
                                                                        <!-- {{box.paramList.length}} -->
                                                                        <label class="smallkey p-0">Ring Cycle:</label>
                                                                    </div>
                                                                    <div class="col-md-7 text-left">
                                                                        <label class="smallvalue p-0" *ngIf="DisplayDLRTData">&nbsp;</label>
                                                                    </div>
                                                                </div>
                                                                <div class="col-xs-12 col-sm-12 col-md-12 no-padding-right">
                                                                    <div class="col-md-5 text-left" style="padding: 0;">
                                                                        <!-- {{box.paramList.length}} -->
                                                                        <label class="smallkey p-0">Last Change Date:</label>
                                                                    </div>
                                                                    <div class="col-md-7 text-left">
                                                                        <label class="smallvalue p-0" *ngIf="DisplayDLRTData">{{tab.content.parsed.DetailLineRecord.LastChangeDate}}&nbsp;</label>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <!-- <div class="col-xs-12 col-sm-12 col-md-12 no-padding-right">
                                                                    <div class="col-md-5 text-left" style="padding: 0;">
                                                                        <label class="smallkey p-0">Origin Equipment:</label>
                                                                    </div>
                                                                    <div class="col-md-7 text-left">
                                                                        <label class="smallvalue p-0" *ngIf="DisplayDLRTData">{{tab.content.parsed.DetailLineRecord.OriginEquipment}}&nbsp;</label>
                                                                    </div>
                                                                </div> -->
                                                                <div class="col-xs-12 col-sm-12 col-md-12 no-padding-right">
                                                                    <div class="col-md-5 text-left" style="padding: 0;">
                                                                        <label class="smallkey p-0">Office Equipment:</label>
                                                                    </div>
                                                                    <div class="col-md-7 text-left">
                                                                        <label class="smallvalue p-0" *ngIf="DisplayDLRTData">{{tab.content.parsed.DetailLineRecord.EquipmentNum}}&nbsp;</label>
                                                                    </div>
                                                                </div>
                                                                <div class="col-xs-12 col-sm-12 col-md-12 no-padding-right">
                                                                    <div class="col-md-5 text-left" style="padding: 0;">
                                                                        <!-- {{box.paramList.length}} -->
                                                                        <label class="smallkey p-0">Vert Terminal:</label>
                                                                    </div>
                                                                    <div class="col-md-7 text-left">
                                                                        <label class="smallvalue p-0" *ngIf="DisplayDLRTData">{{tab.content.parsed.DetailLineRecord.VertTerminal}}&nbsp;</label>
                                                                    </div>
                                                                </div>
                                                                <div class="col-xs-12 col-sm-12 col-md-12 no-padding-right">
                                                                    <div class="col-md-5 text-left" style="padding: 0;">
                                                                        <!-- {{box.paramList.length}} -->
                                                                        <label class="smallkey p-0">Party:</label>
                                                                    </div>
                                                                    <div class="col-md-7 text-left">
                                                                        <label class="smallvalue p-0" *ngIf="DisplayDLRTData">{{tab.content.parsed.DetailLineRecord.Party}}&nbsp;</label>
                                                                    </div>
                                                                </div>
                                                                <div class="col-xs-12 col-sm-12 col-md-12 no-padding-right">
                                                                    <div class="col-md-5 text-left" style="padding: 0;">
                                                                        <!-- {{box.paramList.length}} -->
                                                                        <label class="smallkey p-0">Bridge:</label>
                                                                    </div>
                                                                    <div class="col-md-7 text-left">
                                                                        <label class="smallvalue p-0" *ngIf="DisplayDLRTData">{{tab.content.parsed.DetailLineRecord.Bridge}}&nbsp;</label>
                                                                    </div>
                                                                </div>
                                                                <div class="col-xs-12 col-sm-12 col-md-12 no-padding-right">
                                                                    <div class="col-md-5 text-left" style="padding: 0;">
                                                                        <!-- {{box.paramList.length}} -->
                                                                        <label class="smallkey p-0">Night Service:</label>
                                                                    </div>
                                                                    <div class="col-md-7 text-left">
                                                                        <label class="smallvalue p-0" *ngIf="DisplayDLRTData">{{tab.content.parsed.DetailLineRecord.NightService}}&nbsp;</label>
                                                                    </div>
                                                                </div>
                                                                <div class="col-xs-12 col-sm-12 col-md-12 no-padding-right">
                                                                    <div class="col-md-5 text-left" style="padding: 0;">
                                                                        <!-- {{box.paramList.length}} -->
                                                                        <label class="smallkey p-0">Call Forward Num:</label>
                                                                    </div>
                                                                    <div class="col-md-7 text-left">
                                                                        <label class="smallvalue p-0" *ngIf="DisplayDLRTData">{{tab.content.parsed.DetailLineRecord.Secondary}}&nbsp;</label>
                                                                    </div>
                                                                </div>
                                                                <div class="col-xs-12 col-sm-12 col-md-12 no-padding-right">
                                                                    <div class="col-md-5 text-left" style="padding: 0;">
                                                                        <!-- {{box.paramList.length}} -->
                                                                        <label class="smallkey p-0">MCN:</label>
                                                                    </div>
                                                                    <div class="col-md-7 text-left">
                                                                        <label class="smallvalue p-0">{{MCNValue}}&nbsp;</label>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div><br>
                                                        <div class="col-md-12">
                                                            <div class="panel panel-primary spr-panel">
                                                                <div class="panel-heading">Remarks</div>
                                                                <div class="panel-body" style="min-height: auto; height: auto;">
                                                                    <div class="row" style="max-height: auto;height: auto;min-height: auto">
                                                                        <div class="col-xs-12 col-md-12 col-sm-12 col-lg-12 p-0">
                                                                            <table class="table table-boradred cstmr-att-tbl m-0"
                                                                                style="table-layout: fixed;">
                                                                                <thead>
                                                                                    <tr>
                                                                                        <th>Sequence</th>
                                                                                        <th>Remark</th>
                                                                                    </tr>
                                                                                </thead>
                                                                                <tbody *ngIf="DisplayDLRTData">
                                                                                    <tr *ngFor="let data of tab.content.parsed.DetailLineRecord.Remarks">
                                                                                        <td>{{data.Remark.RmkSeqNum}}</td>
                                                                                        <td>{{data.Remark.RmkText}}</td>
                                                                                    </tr>
                                                                                </tbody>
                                                                            </table>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="col-md-12">
                                                            <div class="panel panel-primary spr-panel">
                                                                <div class="panel-heading">Service & Equipment (S&E)</div>
                                                                <div class="panel-body" style="min-height: auto; height: auto;">
                                                                    <div class="row" style="max-height: auto;height: auto;min-height: auto">
                                                                        <div class="col-xs-12 col-md-12 col-sm-12 col-lg-12 p-0">
                                                                            <table class="table table-boradred cstmr-att-tbl m-0"
                                                                                style="table-layout: fixed;">
                                                                                <thead>
                                                                                    <tr>
                                                                                        <th>USOC</th>
                                                                                        <th>QTY</th>
                                                                                        <th>Key Sys</th>
                                                                                        <th>LTD</th>
                                                                                        <th>REF</th>
                                                                                    </tr>
                                                                                </thead>
                                                                                <tbody *ngIf="DisplayDLRTData">
                                                                                    <ng-container *ngFor="let data of tab.content.parsed.DetailLineRecord.LineRecords.SvcAndEquips">
                                                                                        <tr>
                                                                                            <td>{{data.SvcAndEquip.USOC}}</td>
                                                                                            <td>{{data.SvcAndEquip.Qty}}</td>
                                                                                            <td>{{data.SvcAndEquip.KeySystem}}</td>
                                                                                            <td>{{data.SvcAndEquip.LetteredTermDesig}}</td>
                                                                                            <td>{{data.SvcAndEquip.Reference}}</td>
                                                                                        </tr>
                                                                                        <tr *ngFor="let text of data.SvcAndEquip.SvcNarrs">
                                                                                            <td colspan="5">{{text.SvcNarr.SvcNarrText}}</td>
                                                                                        </tr>
                                                                                    </ng-container>

                                                                                </tbody>
                                                                            </table>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="col-md-12">
                                                            <!-- <b>Cables (CAB)</b> -->
                                                            <div class="panel panel-primary spr-panel">
                                                                <div class="panel-heading">Cables (CAB)</div>
                                                                <div class="panel-body" style="min-height: auto; height: auto;">
                                                                    <div class="row" style="max-height: auto;height: auto;min-height: auto">
                                                                        <div class="col-xs-12 col-md-12 col-sm-12 col-lg-12 p-0">
                                                                            <table class="table table-boradred cstmr-att-tbl m-0"
                                                                                style="table-layout: fixed;">
                                                                                <thead>
                                                                                    <tr>
                                                                                        <th>Type</th>
                                                                                        <th>Cable Num</th>
                                                                                        <th>Pair</th>
                                                                                        <th>NPA</th>
                                                                                        <th>WC</th>
                                                                                        <th>PRU</th>
                                                                                    </tr>
                                                                                </thead>
                                                                                <tbody *ngIf="DisplayDLRTData">
                                                                                    <ng-container *ngFor="let data of tab.content.parsed.DetailLineRecord.LineRecords.Cables">
                                                                                        <tr>
                                                                                            <td>{{data.Cable.Type}}</td>
                                                                                            <td>{{data.Cable.CableNum}}</td>
                                                                                            <td>{{data.Cable.Pair}}</td>
                                                                                            <td>{{data.Cable.NumPlanArea}}</td>
                                                                                            <td>{{data.Cable.WireCenter}}</td>
                                                                                            <td>{{data.Cable.PairUse}}</td>
                                                                                        </tr>
                                                                                        <tr *ngFor="let text of data.Cable.CableNarratives">
                                                                                            <td colspan="6">{{text.Narrative.NarrativeText}}</td>
                                                                                        </tr>
                                                                                    </ng-container>
                                                                                </tbody>
                                                                            </table>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="col-md-12">
                                                            <!-- <b>Pair Gain Systems (PGS)</b> -->
                                                            <div class="panel panel-primary spr-panel">
                                                                <div class="panel-heading">Pair Gain Systems (PGS)</div>
                                                                <div class="panel-body" style="min-height: auto; height: auto;">
                                                                    <div class="row" style="max-height: auto;height: auto;min-height: auto">
                                                                        <div class="col-xs-12 col-md-12 col-sm-12 col-lg-12 p-0">
                                                                            <table class="table table-boradred cstmr-att-tbl m-0"
                                                                                style="table-layout: fixed;">
                                                                                <thead>
                                                                                    <tr>
                                                                                        <th>Type</th>
                                                                                        <th>In Type ID</th>
                                                                                        <th>Line Terminal</th>
                                                                                    </tr>
                                                                                </thead>
                                                                                <tbody *ngIf="DisplayDLRTData">
                                                                                    <tr *ngFor="let data of tab.content.parsed.DetailLineRecord.LineRecords.PairGainSystems">
                                                                                        <td>{{data.PairGainSystem.Type}}</td>
                                                                                        <td>{{data.PairGainSystem.InTypeId}}</td>
                                                                                        <td>{{data.PairGainSystem.LineTerminal}}</td>
                                                                                    </tr>
                                                                                </tbody>
                                                                            </table>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="col-md-12">
                                                            <!-- <b>Hunting Lines (HTG)</b> -->
                                                            <div class="panel panel-primary spr-panel">
                                                                <div class="panel-heading">Hunting Lines (HTG)</div>
                                                                <div class="panel-body" style="min-height: auto; height: auto;">
                                                                    <div class="row" style="max-height: auto;height: auto;min-height: auto">
                                                                        <div class="col-xs-12 col-md-12 col-sm-12 col-lg-12 p-0">
                                                                            <table class="table table-boradred cstmr-att-tbl m-0"
                                                                                style="table-layout: fixed;">
                                                                                <thead>
                                                                                    <tr>
                                                                                        <th>FID</th>
                                                                                        <th>ID</th>
                                                                                        <th>Type</th>
                                                                                    </tr>
                                                                                </thead>
                                                                                <!-- <tbody *ngIf="DisplayDLRTData">
                                                                                        <tr *ngFor="let data of tab.content.parsed.DetailLineRecord.LineRecords.PairGainSystems">
                                                                                            <td>{{data.PairGainSystem.Type}}</td>
                                                                                            <td>{{data.PairGainSystem.InTypeId}}</td>
                                                                                            <td>{{data.PairGainSystem.LineTerminal}}</td>
                                                                                        </tr>
                                                                                    </tbody> -->
                                                                            </table>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <!-- <div class="col-md-12 dlrl-font-style">
                                                            <table class="table">
                                                                <thead>
                                                                    <tr>
                                                                        <th>FID</th>
                                                                        <th>ID</th>
                                                                        <th>Type</th>
                                                                    </tr>
                                                                </thead>
                                                                <tbody *ngIf="DisplayDLRTData">
                                                                        <tr *ngFor="let data of tab.content.parsed.DetailLineRecord.LineRecords.PairGainSystems">
                                                                            <td>{{data.PairGainSystem.Type}}</td>
                                                                            <td>{{data.PairGainSystem.InTypeId}}</td>
                                                                            <td>{{data.PairGainSystem.LineTerminal}}</td>
                                                                        </tr>
                                                                    </tbody>
                                                            </table>
                                                        </div><br> -->
                                                        <div class="col-md-12">
                                                            <h3>Other Details</h3>
                                                        </div>
                                                        <div class="col-md-12">
                                                            <div class="col-md-6">
                                                                <div class="col-xs-12 col-sm-12 col-md-12 no-padding-right">
                                                                    <div class="col-md-5 text-left" style="padding: 0;">
                                                                        <!-- {{box.paramList.length}} -->
                                                                        <label class="smallkey p-0">SSN:</label>
                                                                    </div>
                                                                    <div class="col-md-7 text-left">
                                                                        <label class="smallvalue p-0" *ngIf="DisplayDLRTData">{{tab.content.parsed.DetailLineRecord.SpclSvcNarrative}}&nbsp;</label>
                                                                    </div>
                                                                </div>
                                                                <div class="col-xs-12 col-sm-12 col-md-12 no-padding-right">
                                                                    <div class="col-md-5 text-left" style="padding: 0;">
                                                                        <!-- {{box.paramList.length}} -->
                                                                        <label class="smallkey p-0">HSID:</label>
                                                                    </div>
                                                                    <div class="col-md-7 text-left">
                                                                        <label class="smallvalue p-0" *ngIf="DisplayDLRTData">{{tab.content.parsed.DetailLineRecord.SecondaryLineInd}}&nbsp;</label>
                                                                    </div>
                                                                </div>
                                                                <div class="col-xs-12 col-sm-12 col-md-12 no-padding-right">
                                                                    <div class="col-md-5 text-left" style="padding: 0;">
                                                                        <!-- {{box.paramList.length}} -->
                                                                        <label class="smallkey p-0">HSEC:</label>
                                                                    </div>
                                                                    <div class="col-md-7 text-left">
                                                                        <label class="smallvalue p-0" *ngIf="DisplayDLRTData">{{tab.content.parsed.DetailLineRecord.HasSecondaryFlag}}&nbsp;</label>
                                                                    </div>
                                                                </div>
                                                                <div class="col-xs-12 col-sm-12 col-md-12 no-padding-right">
                                                                    <div class="col-md-5 text-left" style="padding: 0;">
                                                                        <!-- {{box.paramList.length}} -->
                                                                        <label class="smallkey p-0">HDPA:</label>
                                                                    </div>
                                                                    <div class="col-md-7 text-left">
                                                                        <label class="smallvalue p-0" *ngIf="DisplayDLRTData">{{tab.content.parsed.DetailLineRecord.DiffPremAddrFlag}}&nbsp;</label>
                                                                    </div>
                                                                </div>
                                                                <div class="col-xs-12 col-sm-12 col-md-12 no-padding-right">
                                                                    <div class="col-md-5 text-left" style="padding: 0;">
                                                                        <!-- {{box.paramList.length}} -->
                                                                        <label class="smallkey p-0">TAS:</label>
                                                                    </div>
                                                                    <div class="col-md-7 text-left">
                                                                        <label class="smallvalue p-0" *ngIf="DisplayDLRTData">{{tab.content.parsed.DetailLineRecord.TeleAnsSvc}}&nbsp;</label>
                                                                    </div>
                                                                </div>
                                                                <div class="col-xs-12 col-sm-12 col-md-12 no-padding-right">
                                                                    <div class="col-md-5 text-left" style="padding: 0;">
                                                                        <!-- {{box.paramList.length}} -->
                                                                        <label class="smallkey p-0">TAC:</label>
                                                                    </div>
                                                                    <div class="col-md-7 text-left">
                                                                        <label class="smallvalue p-0" *ngIf="DisplayDLRTData">{{tab.content.parsed.DetailLineRecord.TeleAnsSvcCust}}&nbsp;</label>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <div class="col-xs-12 col-sm-12 col-md-12 no-padding-right">
                                                                    <div class="col-md-5 text-left" style="padding: 0;">
                                                                        <!-- {{box.paramList.length}} -->
                                                                        <label class="smallkey p-0">LCD:</label>
                                                                    </div>
                                                                    <div class="col-md-7 text-left">
                                                                        <label class="smallvalue p-0" *ngIf="DisplayDLRTData">{{tab.content.parsed.DetailLineRecord.LastChangeDate}}&nbsp;</label>
                                                                    </div>
                                                                </div>
                                                                <div class="col-xs-12 col-sm-12 col-md-12 no-padding-right">
                                                                    <div class="col-md-5 text-left" style="padding: 0;">
                                                                        <!-- {{box.paramList.length}} -->
                                                                        <label class="smallkey p-0">LCT:</label>
                                                                    </div>
                                                                    <div class="col-md-7 text-left">
                                                                        <label class="smallvalue p-0" *ngIf="DisplayDLRTData">{{tab.content.parsed.DetailLineRecord.LastChangeTime}}&nbsp;</label>
                                                                    </div>
                                                                </div>
                                                                <div class="col-xs-12 col-sm-12 col-md-12 no-padding-right">
                                                                    <div class="col-md-5 text-left" style="padding: 0;">
                                                                        <!-- {{box.paramList.length}} -->
                                                                        <label class="smallkey p-0">HLEX:</label>
                                                                    </div>
                                                                    <div class="col-md-7 text-left">
                                                                        <label class="smallvalue p-0" *ngIf="DisplayDLRTData">{{tab.content.parsed.DetailLineRecord.HasLineRecExt}}&nbsp;</label>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="col-md-12">
                                                                <div class="col-xs-12 col-sm-12 col-md-12 no-padding-right">
                                                                    <div class="col-md-2 text-left" style="padding: 0;">
                                                                        <!-- {{box.paramList.length}} -->
                                                                        <label class="smallkey p-0">LN:</label>
                                                                    </div>
                                                                    <div class="col-md-10 text-left">
                                                                        <label class="smallvalue p-0" *ngIf="DisplayDLRTData">{{tab.content.parsed.DetailLineRecord.ListedName}}&nbsp;</label>
                                                                    </div>
                                                                </div>
                                                                <div class="col-xs-12 col-sm-12 col-md-12 no-padding-right">
                                                                    <div class="col-md-2 text-left" style="padding: 0;">
                                                                        <!-- {{box.paramList.length}} -->
                                                                        <label class="smallkey p-0">SA:</label>
                                                                    </div>
                                                                    <div class="col-md-10 text-left">
                                                                        <label class="smallvalue p-0" *ngIf="DisplayDLRTData">{{tab.content.parsed.DetailLineRecord.SvcAddress}}&nbsp;</label>
                                                                    </div>
                                                                </div>
                                                                <div class="col-xs-12 col-sm-12 col-md-12 no-padding-right">
                                                                    <div class="col-md-2 text-left" style="padding: 0;">
                                                                        <!-- {{box.paramList.length}} -->
                                                                        <label class="smallkey p-0">RMK:</label>
                                                                    </div>
                                                                    <div class="col-md-10 text-left">
                                                                        <label class="smallvalue p-0" *ngIf="DisplayDLRTData">{{tab.content.otime}}&nbsp;</label>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    
                                                </div>
                                                <ul class="nav nav-tabs lmos-tb-lst" id="demo-pill-nav1">
                                                    <li [class.active]="tab.active" *ngFor="let tab of relatedTabs; let tabIndex=index;">
                                                        <a (click)="loadTabDetails(tabIndex, true);" *ngIf="tab.visible">
                                                            <span class="lmos-tb-ic">
                                                                <img src="../../../../assets/img/{{tab.icon}}" class="tab-icon" />
                                                            </span>
                                                            <span>{{tab.label}}</span>
                                                        </a>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </tab>
                            <tab class="left-tab-pane" [active]="leftSideTabs.tab == 'log-details'">
                                <div id="systemtable" class="table-responsive col-md-12" *ngFor="let layoutElem of logPageLayout['pageLayoutTemplate']"
                                    style="margin-top: 12px;">
                                    <div *ngIf="layoutElem.sectionHeader == 'Log Details'">
                                        <sa-table *ngIf = "showLogs"  class="col-md-12 p-0" [pagination]="pagination" [actionButton]="actionButton" [actionColumn]="actionColumn"
                                            [tableHeader]="actionColumn" [tableData]="LogDetailsParameter['tableData']" [tableOtherContent]="LogDetailsParameter" [filter]="filter"
                                            [tablePaginationData]="tablePaginationData" (showAdditionalDetailsParent)="showAdditionalDetails($event, taskDetails)" 
                                            (addNewRowParent)="addNewRow()" (onSaveParent)="onSaveClick($event)"
                                             (onEditParent)="onEditClick($event)"
                                            (onDeleteParent)="onDeleteClick($event)" (onCloseParent)="onCloseClick($event)"
                                            (openTabParent)="openDetailViewTD($event)" (expandRow)="expandRow($event)" 
                                            (refresh)="onRefreshLogs()" >
                                        </sa-table>
                                        <!-- </div> -->
                                        <!-- </div> -->
                                    </div>
                                </div>
                            </tab>
                            <tab class="left-tab-pane" [active]="leftSideTabs.tab == 'relationship-map'">
                                <div class="comingbox"> Coming Soon...</div>
                            </tab>
                        </tabset>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<div *ngIf="SAOTask">
      
        
    <div>
            
        <div class="alert alert-success alert-dismissible" *ngIf="IsSucess" style="background-color: green;color: #fff;">
            <strong>Success! </strong>{{message}}.
            <button type="button" class="close" data-dismiss="alert" (click)="IsSucess = false">&times;</button>
        </div>
        <div class="alert alert-danger alert-dismissible" *ngIf="IsError && !isModalErrMsgSet" style="background-color: #ce2f2f;color: #fff;">
            <strong>Error! </strong>{{message}}.
            <button type="button" class="close" data-dismiss="alert" style="background-color: #fff;" (click)="IsError = false">&times;</button>
        </div> 
        <div class="resizable MainPage example-2">
            <div class="inner">
                <form name="form" class="task-details-form">
                    <div class="form-group">
                        <div class="sticky-tab-header spr-tabs">
                             
                            <ul class="nav nav-tabs tabs-left text-align-center" id="demo-pill-nav">
                                <li [class.active]="leftSideTabs.tab == 'request-details'">
                                    <a (click)="selectTab('request-details')">Task Summary</a>
                                </li>
                                <li [class.active]="leftSideTabs.tab == 'global-notes'">
                                    <a (click)="selectTab('global-notes')">Global Notes</a>
                                </li>
                                <li [class.active]="leftSideTabs.tab == 'task-dependencies'">
                                    <a (click)="selectTab('task-dependencies')">Dependencies</a>
                                </li>
                                <li [class.active]="leftSideTabs.tab == 'log-details'">
                                    <a (click)="selectTab('log-details')">Log Details</a>
                                </li>
                            </ul>

                            <div class="pull-right" [hidden]="leftSideTabs.tab !== 'request-details'">
                                <div>
                                    <div style="padding-top:5px;padding-right: 15px;">
                                        <div style="display:inline-block">

                                            <a *ngIf="!editFields" (click)="getTaskDetails()" class="cm-refresh pull-right margin-right-13" style="font-size:150%">
                                                <span class="glyphicon glyphicon-refresh"></span>
                                            </a>
                                            <div *ngIf="!IsHalfScreen" style="display: inline-block;"> 
                                                <div *ngFor="let button of actionListTD" style="display: inline-flex;">
                                                    <button *ngIf="(!editFields && button.value != 'Edit' && showActionBtn(button.value))"  (click)="OnActionTD(button.value)" class="btn btn-small btn-success blue__btn pull-right margin-right-13" mat-raised-button > 
                                                        {{button.value}}
                                                    </button>
                                                    <button *ngIf="!editFields && loggedInPermissibleUser && button.value == 'Edit'" (click)="OnActionTD(button.value)" class="btn btn-small btn-success blue__btn pull-right margin-right-13" mat-raised-button > 
                                                            {{button.value}}
                                                        </button>
                                                </div>
                                                <ng-container style="display: inline-flex;">
                                                <button *ngIf="editFields" class="btn btn-small btn-success blue__btn pull-right margin-right-13" (click)="saveDetails()">Save</button>
                                                <button *ngIf="editFields" class="btn btn-small btn-success blue__btn pull-right margin-right-13" (click)="CancelEditFields()">Cancel</button>
                                            </ng-container>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <tabset class="col-sm-12 no-padding padding-top-40">
                            <tab class="left-tab-pane col-sm-12 pl-0 pr-0" [active]="leftSideTabs.tab == 'request-details'"
                                id="lmosTabSet">
                                <div class="resizable resizable1 GetHeight wrap-scroll" style="border:0;">
                                    
                                    <!-- ///////////////////SAO Layout Main Details Area Start//////////////////////// -->
                                    <div class="col-md-12">
                                    <!--&& taskDetails.taskName == 'Order_task' (taskDetails.taskType.taskName)-->
                                    <ng-container  *ngFor="let taskSection of SAOLayout;">
                                        <ng-container *ngIf="taskSection.sectionStyle == 'leftSideBoldHeaderSingleColumn'">
                                            <div class="lmos-border-right-bottom" [ngClass]="IsHalfScreen ? 'col-md-12':'col-md-6'" style="margin-bottom: 20px; margin-top: 5px;">
                                                <div class="col-md-12 darkborderbottom p-0">
                                                    <div class="col-md-12" style="padding-left: 0px;">
                                                        <label class="key">{{taskSection.boldHeaderValue}}
                                                        </label>
                                                    </div>
                                                </div>
                                                <div class="col-md-12" style="padding: 10px; column-count: 1; column-gap: 0;">
                                                    <div class="p-0 troubl-rprt-item" *ngFor="let fieldDetails of taskSection.fieldsList">
                                                        <div class="col-md-6 text-left p-0" >
                                                            <!-- *ngIf="fieldDetails.label == 'Order Number'" [ngClass]="fieldDetails.fieldName == 'assignedWorkGroups' ? 'col-md-12' : 'col-md-6'" -->
                                                            <label class="smallkey p-0 m-0" *ngIf="fieldDetails.label">{{fieldDetails.label}}:</label>
                                                        </div>
                                                        <div class="col-md-6 text-left" style="padding-right:0;">
                                                            <ng-container *ngIf="fieldDetails.urls && fieldDetails.urls.length > 0">
                                                                <ng-container *ngFor="let url of fieldDetails.urls; let i = index">
                                                                    <ng-container *ngIf="i==0">
                                                                        <ng-container *ngIf="!url.name">
                                                                            <label class="smallvalue p-0"><a [href]="url.url" target="_blank">{{fieldDetails.fieldValue}}</a></label>
                                                                        </ng-container>
                                                                        <ng-container *ngIf="url.name">
                                                                            <label class="smallvalue p-0">{{fieldDetails.fieldValue}}</label>
                                                                        </ng-container>
                                                                    </ng-container>
                                                                    <ng-container *ngIf="url.name">
                                                                        <label class="smallvalue p-0"><a [href]="url.url" target="_blank">{{url.name}}</a></label>
                                                                    </ng-container>
                                                                </ng-container>
                                                            </ng-container>
                                                            <ng-container *ngIf="!(fieldDetails.urls && fieldDetails.urls.length > 0)">
                                                                    <label class="smallvalue p-0">
                                                                           {{fieldDetails.fieldValue}} </label>                                                            </ng-container>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </ng-container>
                                        
                                        <ng-container *ngIf="taskSection.sectionStyle == 'rightSideBoldHeaderTwoColumns'">
                                            <div class="lmos-border-right-bottom" [ngClass]="IsHalfScreen ? 'col-md-12':'col-md-6'" style="margin-bottom: 20px; margin-top: 5px;">
                                                <div class="col-md-12 darkborderbottom p-0">
                                                    <div class="col-md-12" style="padding-left: 0px;">
                                                        <label class="key">
                                                            <span *ngIf="taskSection.boldHeaderLabel">{{taskSection.boldHeaderLabel}}: </span>
                                                            <span *ngIf="taskSection.boldHeaderKey == 'taskStatus'" [ngStyle]="{color: getStatusColor(taskSection.boldHeaderValue)}">{{taskSection.boldHeaderValue}}</span>
                                                            <span *ngIf="!taskSection.boldHeaderKey == 'taskStatus'">{{taskSection.boldHeaderValue}}</span>
                                                        </label>
                                                    </div>
                                                </div>
                                                <div class="col-md-12" style="padding: 10px; column-count: 2; column-gap: 0;">
                                                    <div class="p-0 troubl-rprt-item" *ngFor="let fieldDetails of taskSection.fieldsList">
                                                        <div class="col-md-6 text-left p-0" *ngIf="fieldDetails.label">
                                                            <!-- *ngIf="fieldDetails.label == 'Order Number'" [ngClass]="fieldDetails.fieldName == 'assignedWorkGroups' ? 'col-md-12' : 'col-md-6'" -->
                                                            <label class="smallkey p-0 m-0">{{fieldDetails.label}}:</label>
                                                        </div>
                                                        <div  ng-class="(editFields == 'true') ? 'col-md-12 text-left' : 'col-md-6 text-left'"    style="padding-right:0;" *ngIf="fieldDetails.label">
                                                            <ng-container *ngIf="fieldDetails.urls && fieldDetails.urls.length > 0">
                                                                <ng-container *ngFor="let url of fieldDetails.urls; let i = index">
                                                                    <ng-container *ngIf="i==0">
                                                                        <ng-container *ngIf="!url.name">
                                                                            <label class="smallvalue p-0"  *ngIf="!fieldDetails.isNewTab"><a [href]="url.url" target="_blank">{{fieldDetails.fieldValue}}</a></label>
                                                                            <label class="smallvalue p-0"  *ngIf="fieldDetails.isNewTab=='true'" (click)="openTskDtlsForId(url.url);"
                                                                            style="color: blue; text-decoration: underline; cursor: pointer;">{{fieldDetails.fieldValue}}</label>
                                                                        </ng-container>
                                                                        <ng-container *ngIf="url.name">
                                                                            <label class="smallvalue p-0">{{fieldDetails.fieldValue}}</label>
                                                                        </ng-container>
                                                                    </ng-container>
                                                                    <ng-container *ngIf="url.name">
                                                                        <label class="smallvalue p-0"><a [href]="url.url" target="_blank">{{url.name}}</a></label>
                                                                    </ng-container>
                                                                </ng-container>
                                                            </ng-container>
                                                            <ng-container *ngIf="!(fieldDetails.urls && fieldDetails.urls.length > 0)">
                                                                    <label class="smallvalue p-0">
                                                                     
                                                                            <span *ngIf="!(fieldDetails.editable && editFields)">{{fieldDetails.fieldValue}}</span> 
                                                                            <span *ngIf="(fieldDetails.editable && editFields)">
                                                                            <input  *ngIf=" fieldDetails.type ==null || fieldDetails.type.toLowerCase =='textbox'"  (change)=changeField(fieldDetails)  type="text" name="editfieldsvalue" [(ngModel)]="fieldDetails.fieldValue" [ngModelOptions]="{standalone: true}">
                                                                            <input *ngIf="!(fieldDetails.type ==null || fieldDetails.type.toLowerCase =='textbox' ||
                                                                            fieldDetails.type=='date' || fieldDetails.type == 'textarea' || fieldDetails.type== 'select')" (change)=changeField(fieldDetails)  type="fieldDetails.type" name="editfieldsvalues" [value]="fieldDetails.fieldValue" [(ngModel)]="fieldDetails.fieldValue" [ngModelOptions]="{standalone: true}"
                                                                            >
                                                                            <span *ngIf="fieldDetails.type == 'textarea'" >
                                                                                    <textarea class="form-control" (change)=changeField(fieldDetails) name="editfieldsvaluetextarea" [(ngModel)]="fieldDetails.fieldValue" [ngModelOptions]="{standalone: true}">{{fieldDetails.fieldValue}}</textarea>
                                                                                        </span>
                                                                          <span *ngIf="!hideSpanDate && fieldDetails.type=='date'">{{fieldDetails.fieldValue}}</span>
                                                                              <span *ngIf="fieldDetails.type=='date'"><input  class="dateTime" (ngModelChange)="changeFieldDate(fieldDetails, $event)" [owlDateTimeTrigger]="dt12" [owlDateTime]="dt12"
                                                                                [(ngModel)]="fieldDetails.fieldValue" name="editdatee" >
                                                                         <owl-date-time   #dt12></owl-date-time></span> 
                                                                         
                                                                                    <select *ngIf="fieldDetails.type== 'select'" name="dropdowntest" [(ngModel)]="fieldDetails.fieldValue">
                                                                                
                                                                                            <option *ngFor="let option of fieldDetails.options" [value]="option">
                                                                                                   {{option}} 
                                                                                            </option>
                                                                                         </select> 
                                                                                        </span> 
                                                                                </label>
                                                            </ng-container>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </ng-container>

                                        <ng-container *ngIf="(taskSection.sectionStyle == 'table' && taskSection.sectionHeader != 'Children')">
                                            <div class="col-md-12 p-0">
                                                <div class="panel panel-primary spr-panel">
                                                    <div class="panel-heading">{{taskSection.sectionHeader}}</div>
                                                    <div class="panel-body" style="height: auto; min-height: auto; max-height: 191px;">
                                                        <div class="row fix-box-height" style="height: auto;min-height: auto;">
                                                            <div class="col-xs-12 col-md-12 col-sm-12 col-lg-12 p-0">
                                                                <table *ngIf = "!isActionColumnPresent" class="table table-boradred cstmr-att-tbl m-0">
                                                                    <thead>
                                                                        <tr>
                                                                            <ng-container *ngIf="taskSection.sectionHeader == 'Children'"><th class="tbl-field-sp tbl-field-sp-2"></th></ng-container>
                                                                            <th *ngFor="let field of taskSection.fieldsList" >
                                                                                <div class="cursor-pointer activesort" style="cursor: pointer; text-align: center;">
                                                                                    <span>{{field.columnHeader}}</span>
                                                                                    <!-- <span class="sortarrow">
                                                                                        <i class="fa upsortarrow"></i>
                                                                                        <i class="fa downsortarrow"></i>
                                                                                    </span> -->
                                                                                </div>
                                                                            </th>
                                                                        </tr>
                                                                    </thead>
                                                                    <tbody style="text-align: center;">
                                                                        <ng-container *ngFor="let rowData of taskSection.tableData; let rowIndex = index;">
                                                                            <tr><!--*ngIf="!rowData.isRowDetailOpen"-->
                                                                                <ng-container *ngIf="taskSection.sectionHeader == 'Children'">
                                                                                    <td class="tbl-field-sp tbl-field-sp-2">
                                                                                        <div style="display: block; text-align:center;">
                                                                                            <span style="cursor: pointer;" class="font-18"
                                                                                                (click)="openTskDtls(rowData)">
                                                                                                <mat-icon class="system__add add_box child-srch-ic">search</mat-icon>
                                                                                            </span>
                                                                                        </div>
                                                                                    </td>
                                                                                </ng-container>
                                                                                <td *ngFor="let field of taskSection.fieldsList" style="border-right: 1px solid #dddddd;">
                                                                                    <span *ngIf="taskSection.sectionHeader == 'Children' && field.columnKey == 'sourceTaskId'">
                                                                                        <label class="smallvalue p-0" (click)="openTskDtls(rowData);" style="color: blue; text-decoration: underline; cursor: pointer;">{{rowData[field.columnKey]}}</label>
                                                                                    </span>
                                                                                    <span *ngIf="!(taskSection.sectionHeader == 'Children' && field.columnKey == 'sourceTaskId')">{{rowData[field.columnKey]}}</span>
                                                                                </td>
                                                                            </tr>
                                                                            
                                                                        </ng-container>
                                                                    </tbody>
                                                                </table>

                                                                <!-- GETCWM Start SAO -->

                                                                <div *ngIf = "isActionColumnPresent" class="widget-body table-container">
                                                                    <sa-table 
                                                                    [pagination]="tableDetailTableSection['Location Information']['pagination']" 
                                                                    [actionButton]="tableDetailTableSection['Location Information']['actionButton']" 
                                                                    [actionColumn]="tableDetailTableSection['Location Information']['actionColumn']"
                                                                    [tableHeader]="tableDetailTableSection['Location Information']['tableHeaders']"
                                                                    [tableData]="tableDetailTableSection['Location Information']['tableData']"
                                                                    [tableOtherContent]="tableDetailTableSection['Location Information']['otherContent']"
                                                                    [filter]="tableDetailTableSection['Location Information']['filter']"
                                                                    [tablePaginationData]=""
                                                                   
                                                                    (addNewRowParent)="addNewRow($event)"
                                                                    (onSaveParent)="onSaveClick($event)"
                                                                    (pageChangedParent)="pageChanged($event)"
                                                                    (onEditParent)="onEditClick($event)"
                                                                    (onDeleteParent)="onDeleteClick($event)"
                                                                    (onCloseParent)="onCloseClick($event)"
                                                                    (paginationChangeParent)="paginationChange($event)"
                                                                    (openTabParent)="openTab($event)"
                                                                    (filterColumnParent)="filterRows()"
                                                                    (onSortParent)="onSortSelection($event)"
                                                                    (previousAll)="previousTasks()"
                                                                    (previous)="onGridPrevious()"
                                                                    (nextAll)="nextTasks()"
                                                                    (next)="onGridNext()"
                                                                    (refresh)="onRefreshTD()"
                                                                    ></sa-table>
                                                    
                                                              </div>
        
                                                                <!-- GETCWM End SAO -->



                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </ng-container>

                                        <ng-container *ngIf="(taskSection.sectionHeader == 'Children' && taskSection.tableData.length > 0)">
                                            <div class="col-md-12 p-0">
                                                <div class="panel panel-primary spr-panel">
                                                    <div class="panel-heading">{{taskSection.sectionHeader}}</div>
                                                    
                                                    <div class="panel-body" style="height: auto; min-height: auto;">
                                                        <div id="systemtable" class="table-responsive col-md-12" style="margin-top: 12px;">
                                                            
                                                            <sa-table class="col-md-12 p-0" 
                                                                [pagination]="paginationChildren" 
                                                                [actionButton]="actionButton"
                                                                [actionColumn]="actionColumnChildren" 
                                                                [tableHeader]="actionColumnChildren" 
                                                                [tableData]="displayTaskResult"
                                                                [tableOtherContent]="childrenSystemParameter" 
                                                                [filter]="filter" 
                                                                [tablePaginationData]="tablePaginationData"
                                                                [actionList]="actionList"

                                                                (openTabParent)="openDetailView($event)" 
                                                                (nextAll)="nextTasks()"
                                                                (OnActionChangeStatus)="onActionChange($event)"
                                                                (onActionStatusSubmit)="onAction($event)"
                                                                (CheckUncheckAllRows)="checkAllRows($event)"
                                                                (SetActionDropdown)="SetActionDropdown($event)"
                                                                (refresh)="onRefresh()">
                                                            </sa-table>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </ng-container>

                                        <ng-container>
                                            <div class="col-md-12" style="padding: 0;" *ngIf="!(taskSection.sectionStyle == 'rightSideBoldHeaderTwoColumns' || taskSection.sectionStyle == 'leftSideBoldHeaderSingleColumn' || taskSection.sectionStyle == 'table' || (taskSection.sectionHeader == 'Parent Info' && !parentTask))">
                                                <div class="panel panel-primary spr-panel">
                                                    <div class="panel-heading">{{taskSection.sectionHeader}}</div>
                                                    <div class="panel-body" style="height: auto; min-height: auto;">
                                                        <div style="height: auto;min-height: auto;">
                                                            <ng-container *ngFor="let fields of taskSection.fieldsList">
                                                                <div class="col-xs-12 col-md-6 col-sm-6 col-lg-6 no-padding-right"> <!--*ngIf="fields.fieldValue"-->
                                                                    <div class="col-md-5 text-left" style="padding: 0;">
                                                                        <label class="smallkey p-0">{{fields.label}}:</label>
                                                                    </div>
                                                                    <div class="col-md-7 text-left p-0">
                                                                        <span *ngIf="taskSection.sectionHeader == 'Parent Info' && fields.key == 'sourceTaskId'">
                                                                            <label class="smallvalue p-0" (click)="openTskDtls(taskSection.parentInfo);" style="color: blue; text-decoration: underline; cursor: pointer;">{{fields.fieldValue}}</label>
                                                                        </span>
                                                                        <span *ngIf="!(taskSection.sectionHeader == 'Parent Info' && fields.key == 'sourceTaskId')">
                                                                            <ng-container *ngIf="fields.urls && fields.urls.length > 0">
                                                                                <ng-container *ngFor="let url of fields.urls; let i = index">
                                                                                    <ng-container *ngIf="i==0">
                                                                                        <ng-container *ngIf="!url.name">
                                                                                            <label class="smallvalue p-0"><a [href]="url.url" target="_blank">{{fields.fieldValue}}</a></label>
                                                                                        </ng-container>
                                                                                        <ng-container *ngIf="url.name">
                                                                                            <label class="smallvalue p-0">{{fields.fieldValue}}</label>
                                                                                        </ng-container>
                                                                                    </ng-container>
                                                                                    <ng-container *ngIf="url.name">
                                                                                        <label class="smallvalue p-0"><a [href]="url.url" target="_blank">{{url.name}}</a></label>
                                                                                    </ng-container>
                                                                                </ng-container>
                                                                            </ng-container>
                                                                            <ng-container *ngIf="!(fields.urls && fields.urls.length > 0)">
                                                                                                        
                                                                                <label class="smallvalue p-0">
                                                                                    <span *ngIf="!(fields.editable && editFields)">{{fields.fieldValue}}</span>
                                                                                    <span *ngIf="fields.editable && editFields" >
                                                                                        <input *ngIf="fields.type != 'select' || fields.type != 'null' || fields.type !='date'" (change)=changeField(fields)  type="fields.type" name="editfieldsval" 
                                                                                        [value]="fields.type" [(ngModel)]="fields.fieldValue" 
                                                                                        [ngModelOptions]="{standalone: true}">
                                                                                        <input *ngIf="fields.type == 'null'" (change)=changeField(fields)  type="text" name="editfieldes" [(ngModel)]="fields.fieldValue" 
                                                                                        [ngModelOptions]="{standalone: true}">
                                                                                        <span *ngIf="!hideSpanDate && fields.type=='date'">{{fields.fieldValue}}</span>
                                                                                        <span *ngIf="fields.type=='date'"><input  class="dateTime" (ngModelChange)="changeFieldDate(fieldDetails, $event)" [owlDateTimeTrigger]="dt12" [owlDateTime]="dt12"
                                                                                          [(ngModel)]="fields.fieldValue" name="editdatedetail" >
                                                                                   <owl-date-time   #dt12></owl-date-time></span> 
                                                                                        <select *ngIf="fields.type== 'select'" name="dropdowntest" [(ngModel)]="fields.fieldValue">
                                                                                
                                                                                                <option *ngFor="let option of fields.options" [value]="option">
                                                                                                       {{option}} 
                                                                                                </option>
                                                                                            </select>
                                                                                        </span>
                                                                                    </label>
                                                                            </ng-container>
                                                                        </span>
                                                                    </div>
                                                                </div>
                                                            </ng-container>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </ng-container>
                                    </ng-container>
                                    </div>
                                </div>
                                    <!-- ///////////////////SAO Layout Main Details Area End///////////////////////// -->
                            </tab>
                            <tab class="left-tab-pane" [active]="leftSideTabs.tab == 'log-details'">
                                <div id="systemtable" class="table-responsive col-md-12" *ngFor="let layoutElem of logPageLayout['pageLayoutTemplate']"
                                    style="margin-top: 12px;">
                                    <div *ngIf="layoutElem.sectionHeader == 'Log Details'">
                                    
                                        <sa-table  *ngIf = "showLogs" class="col-md-12 p-0" [pagination]="pagination" [actionButton]="actionButton"
                                            [actionColumn]="actionColumn" [tableHeader]="actionColumn" [tableData]="displayTaskResult"
                                            [tableOtherContent]="LogDetailsParameter" [filter]="filter" [tablePaginationData]="tablePaginationData"
                                            (showAdditionalDetailsParent)="showAdditionalDetails($event, taskDetails)" (addNewRowParent)="addNewRow()"
                                            (onSaveParent)="onSaveClick($event)" (onEditParent)="onEditClick($event)"
                                            (onDeleteParent)="onDeleteClick($event)" (onCloseParent)="onCloseClick($event)"
                                            (openTabParent)="openDetailViewTD($event)" (expandRow)="expandRow($event)" (refresh)="onRefreshLogs()">
                                        </sa-table>
                                        <!-- </div> -->
                                        <!-- </div> -->
                                    </div>
                                </div>
                            </tab>
                            <tab class="left-tab-pane" [active]="leftSideTabs.tab == 'global-notes'">
                                <div id="globalNotesTable" class="table-responsive col-md-12" *ngFor="let layoutElem of globalNotesPageLayout['pageLayoutTemplate']"
                                    style="margin-top: 12px;">
                                    <div *ngIf="layoutElem.sectionHeader == 'Global Note'">
                                    <!-- Added metaSubmit() to pass metaData value clicked in dropdown -->
                                        <sa-table class="col-md-12 p-0" [pagination]="paginationglobal" [actionButton]="actionButtonGlobalNote"
                                            [actionColumn]="actionColumnGlobalNote" [tableHeader]="actionColumnGlobalNote" [tableData]="globalNotes"
                                            [tableOtherContent]="GlobalNotesParameter" [filter]="filter" [tablePaginationData]="tablePaginationData"
                                            [exportValues]="exportValues" [metaList]="metaList" [clikedMetaValue]="clikedMetaValue"
                                            (refresh)="onRefreshGlobalNotes()" 
                                            (addNewRowParent)="addNewRow($event)" 
                                            (onMetaSubmit)="metaSubmit($event)"
                                            (onSaveParent)="onSaveClick($event)">
                                        </sa-table>
                                    </div>
                                </div>
                            </tab>
                            <tab class="left-tab-pane" [active]="leftSideTabs.tab == 'task-dependencies'">
                            <div class="col-md-12" style="padding: 5;" >
                                <ng-container>
                                        <div class="panel panel-primary spr-panel">
                                            <div class="panel-heading"><h5>Predecessors</h5></div>
                                                <div class="panel-body" style="height: auto; min-height: auto; max-height: 191px;">
                                                <div class="row fix-box-height" style="height: auto;min-height: auto;">
                                                    <div id="taskDependenciesPredecessorTable" class="table-responsive col-md-12" *ngFor="let layoutElem of dependencyPageLayout['pageLayoutTemplate']">
                                                    <div *ngIf="layoutElem.sectionHeader == 'Task Dependency Table'">
                                    
                                                        <sa-table class="col-md-12 p-0" [pagination]="paginationPredecessorInstances" [actionButton]="actionButtonDependency"
                                                            [actionColumn]="actionColumnDependency" [tableHeader]="actionColumnDependency" [tableData]="predTaskInstances" 
                                                            [tableOtherContent]="DependencyParameterPredecessor" [filter]="filter" [tablePaginationData]="tablePaginationData"
                                                            (refresh)="onRefreshTD()" (openTabParent)="openDetailViewTD($event)">
                                                        </sa-table>
                                                    </div>
                                        </div></div></div></div>
                                </ng-container>
                                <ng-container>
                                        <div class="panel panel-primary spr-panel">
                                            <div class="panel-heading"><h5>Successors</h5></div>
                                                <div class="panel-body" style="height: auto; min-height: auto; max-height: 191px;">
                                                <div class="row fix-box-height" style="height: auto;min-height: auto;">
                                                <div id="taskDependenciesSuccessorTable" class="table-responsive col-md-12" *ngFor="let layoutElem of dependencyPageLayout['pageLayoutTemplate']">
                                                <div *ngIf="layoutElem.sectionHeader == 'Task Dependency Table'">
                                    
                                                        <sa-table class="col-md-12 p-0" [pagination]="paginationSuccessorInstances" [actionButton]="actionButtonDependency"
                                                            [actionColumn]="actionColumnDependency" [tableHeader]="actionColumnDependency" [tableData]="succTaskInstances"
                                                            [tableOtherContent]="DependencyParameterSuccessor" [filter]="filter" [tablePaginationData]="tablePaginationData"
                                                            (refresh)="onRefreshTD()" (openTabParent)="openDetailViewTD($event)">
                                                        </sa-table>
                                                </div>
                                                </div></div></div>
                                        </div>
                                </ng-container>
                            </div>
                            </tab>
                            <tab class="left-tab-pane" [active]="leftSideTabs.tab == 'relationship-map'">
                                <div class="comingbox"> Coming Soon...</div>
                            </tab>
                        </tabset>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>



<!-- GETCWM-3680 start -->
<div *ngIf="SDWANTask">
    <div>
        <div class="alert alert-success alert-dismissible" *ngIf="IsSucess" style="background-color: green;color: #fff;">
            <strong>Success! </strong>{{message}}.
            <button type="button" class="close" data-dismiss="alert" (click)="IsSucess = false">&times;</button>
        </div>
        <div class="alert alert-danger alert-dismissible" *ngIf="IsError && !isModalErrMsgSet" style="background-color: #ce2f2f;color: #fff;">
            <strong>Error! </strong>{{message}}.
            <button type="button" class="close" data-dismiss="alert" style="background-color: #fff;" (click)="IsError = false">&times;</button>
        </div> 
        <div class="resizable MainPage example-2">
            <div class="inner">
                <form name="form" class="task-details-form">
                    <div class="form-group">
                        <!-- Tab buttons start -->
                        <div class="sticky-tab-header spr-tabs">
                            <ul class="nav nav-tabs tabs-left text-align-center" id="demo-pill-nav">
                                <li [class.active]="leftSideTabs.tab == 'request-details'">
                                    <a (click)="selectTab('request-details')">Task Summary</a>
                                </li>
                                <!-- <li [class.active]="leftSideTabs.tab == 'global-notes'">
                                    <a (click)="selectTab('global-notes')">Global Notes</a>
                                </li> -->
                                <li [class.active]="leftSideTabs.tab == 'log-details'">
                                    <a (click)="selectTab('log-details')">Log Details</a>
                                </li>

                              
                                <!-- <li [class.active]="leftSideTabs.tab == 'relationship-map'">
                                    <a (click)="leftSideTabs.tab = 'relationship-map'">Relationship Map</a>
                                </li> -->
                            </ul>

                            <div class="pull-right" [hidden]="leftSideTabs.tab !== 'request-details'">
                                <div>
                                    <div style="padding-top:5px;padding-right: 15px;">
                                        <div style="display:inline-block">

                                            <a (click)="getTaskDetails()" class="cm-refresh pull-right margin-right-13" style="font-size:150%">
                                                <span class="glyphicon glyphicon-refresh"></span>
                                            </a>
                                            <div *ngIf="!IsHalfScreen" style="display: inline-block;"> 
                                                <div *ngFor="let button of actionListTD" style="display: inline-flex;">
                                                    <button  (click)="OnActionTD(button.value)" class="btn btn-success blue__btn pull-right margin-right-13" mat-raised-button > 
                                                        {{button.value}} nvc fn fdn
                                                    </button>
                                                </div>
                                                
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- Tab buttons end -->

                        <tabset class="col-sm-12 no-padding padding-top-40">
                            <tab class="left-tab-pane col-sm-12 pl-0 pr-0" [active]="leftSideTabs.tab == 'request-details'"
                                id="lmosTabSet">
                                <div class="resizable resizable1 GetHeight wrap-scroll" style="border:0;">
                                    
                                    <!-- ///////////////////SDWAN Layout Main Details Area Start//////////////////////// -->
                                    <div class="col-md-12">
                                    <ng-container  *ngFor="let taskSection of SDWANLayout;">
                                        <ng-container *ngIf="taskSection.sectionStyle == 'leftSideBoldHeaderSingleColumn'">
                                            <div class="lmos-border-right-bottom" [ngClass]="IsHalfScreen ? 'col-md-12':'col-md-6'" style="margin-bottom: 20px; margin-top: 5px;">
                                                <div class="col-md-12 darkborderbottom p-0">
                                                    <div class="col-md-12" style="padding-left: 0px;">
                                                        <label class="key">{{taskSection.boldHeaderValue}}
                                                        </label>
                                                    </div>
                                                </div>
                                                <div class="col-md-12" style="padding: 10px; column-count: 1; column-gap: 0;">
                                                    <div class="p-0 troubl-rprt-item" *ngFor="let fieldDetails of taskSection.fieldsList">
                                                        <div class="col-md-6 text-left p-0" >
                                                            <!-- *ngIf="fieldDetails.label == 'Order Number'" [ngClass]="fieldDetails.fieldName == 'assignedWorkGroups' ? 'col-md-12' : 'col-md-6'" -->
                                                            <label class="smallkey p-0 m-0" *ngIf="fieldDetails.label">{{fieldDetails.label}}:</label>
                                                        </div>
                                                        <div *ngIf = "!fieldDetails.editable"  class="col-md-6 text-left" style="padding-right:0;">
                                                            <label class="smallvalue p-0 m-0">{{fieldDetails.fieldValue}}</label>
                                                        </div>

                                                        <div *ngIf = "fieldDetails.editable && fieldDetails.type == 'Text' "  class="col-md-6 text-left" style="padding-right:0;">
                                                            <input type="text" name="{{fieldDetails.fieldValue}}" [(ngModel)]="fieldDetails.fieldValue"
                                                            >
                                                        </div> 
                                                        <div *ngIf = "fieldDetails.editable && (fieldDetails.type == 'dropdown' ||fieldDetails.type == 'Select') "  class="col-md-6 text-left" style="padding-right:0;">
                                                            <select class="form-control select_box"
                                                             name="index_colIndex"
                                                            #index_colIndex="ngModel" [(ngModel)]="fieldDetails.fieldValue">
                                                            <option *ngFor="let value of fieldDetails.dropDown"> {{value}}</option>
                                                        </select>
                                                        </div> 

                                                        <div *ngIf = "fieldDetails.editable && fieldDetails.type == 'MultiSelect' "  class="col-md-6 text-left" style="padding-right:0;">
                                                            <ng-select2 
                                                            [data]="fieldDetails.dropDown" [width]="180" [options]="options"
                                                            [(ngModel)]="fieldDetails.fieldValue" name="index_colIndex"
                                                            #multiObj="ngModel" class="tdmultiselectbox">
                                                        </ng-select2>
                                                        </div> 



                                                    </div>
                                                </div>
                                            </div>
                                        </ng-container>
                                        
                                        <ng-container *ngIf="taskSection.sectionStyle == 'rightSideBoldHeaderTwoColumns'">
                                            <div class="lmos-border-right-bottom" [ngClass]="IsHalfScreen ? 'col-md-12':'col-md-6'" style="margin-bottom: 20px; margin-top: 5px;">
                                                <div class="col-md-12 darkborderbottom p-0">
                                                    <div class="col-md-12" style="padding-left: 0px;">
                                                        <label class="key">
                                                            <span *ngIf="taskSection.boldHeaderLabel">{{taskSection.boldHeaderLabel}}: </span>
                                                            <span *ngIf="taskSection.boldHeaderKey == 'taskStatus'" [ngStyle]="{color: getStatusColor(taskSection.boldHeaderValue)}">{{taskSection.boldHeaderValue}}</span>
                                                            <span *ngIf="!taskSection.boldHeaderKey == 'taskStatus'">{{taskSection.boldHeaderValue}}</span>
                                                        </label>
                                                    </div>
                                                </div>
                                                <div class="col-md-12" style="padding: 10px; column-count: 2; column-gap: 0;">
                                                    <div class="p-0 troubl-rprt-item" *ngFor="let fieldDetails of taskSection.fieldsList">
                                                        <div class="col-md-6 text-left p-0" *ngIf="fieldDetails.label">
                                                            <!-- *ngIf="fieldDetails.label == 'Order Number'" [ngClass]="fieldDetails.fieldName == 'assignedWorkGroups' ? 'col-md-12' : 'col-md-6'" -->
                                                            <label class="smallkey p-0 m-0">{{fieldDetails.label}}:</label>
                                                        </div>
                                                        <div  class="col-md-6 text-left" style="padding-right:0;" *ngIf="fieldDetails.label">
                                                            <label class="smallvalue p-0 m-0">{{fieldDetails.fieldValue}}</label>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </ng-container>

                                        <ng-container *ngIf="((taskSection.sectionStyle == 'table' || taskSection.sectionStyle == 'TableDefinition') && taskSection.header != 'Children') || (taskSection.header == 'Children' && taskSection.tableData.length > 0)">
                                            <div class="col-md-12 p-0">
                                                <div class="panel panel-primary spr-panel">
                                                    <div class="panel-heading">{{taskSection.header}}</div>
                                                    <div class="panel-body" style="height: auto; min-height: auto; max-height: 191px;">
                                                        <div class="row fix-box-height" style="height: auto;min-height: auto;">
                                                            <div class="col-xs-12 col-md-12 col-sm-12 col-lg-12 p-0">
                                                                <table *ngIf = "true" class="table table-boradred cstmr-att-tbl m-0">
                                                                    <thead>
                                                                        <tr>
                                                                            <ng-container *ngIf="taskSection.header == 'Children'"><th class="tbl-field-sp tbl-field-sp-2"></th></ng-container>
                                                                            <th *ngFor="let field of taskSection.fieldsList" >
                                                                                <div class="cursor-pointer activesort" style="cursor: pointer; text-align: center;">
                                                                                    <span>{{field.columnHeader}}</span>
                                                                                    <!-- <span class="sortarrow">
                                                                                        <i class="fa upsortarrow"></i>
                                                                                        <i class="fa downsortarrow"></i>
                                                                                    </span> -->
                                                                                </div>
                                                                            </th>
                                                                        </tr>
                                                                    </thead>
                                                                    <tbody style="text-align: center;">
                                                                        <ng-container *ngFor="let rowData of taskSection.tableData; let rowIndex = index;">
                                                                            <tr><!--*ngIf="!rowData.isRowDetailOpen"-->
                                                                                <ng-container *ngIf="taskSection.header == 'Children'">
                                                                                    <td class="tbl-field-sp tbl-field-sp-2">
                                                                                        <div style="display: block; text-align:center;">
                                                                                            <span style="cursor: pointer;" class="font-18"
                                                                                                (click)="openTskDtls(rowData)">
                                                                                                <mat-icon class="system__add add_box child-srch-ic">search</mat-icon>
                                                                                            </span>
                                                                                        </div>
                                                                                    </td>
                                                                                </ng-container>
                                                                                <td *ngFor="let field of taskSection.fieldsList" style="border-right: 1px solid #dddddd;">
                                                                                    <span *ngIf="taskSection.header == 'Children' && field.columnKey == 'sourceTaskId'">
                                                                                        <label class="smallvalue p-0" (click)="openTskDtls(rowData);" style="color: blue; text-decoration: underline; cursor: pointer;">{{rowData[field.columnKey]}}</label>
                                                                                    </span>
                                                                                    <span *ngIf="!(taskSection.header == 'Children' && field.columnKey == 'sourceTaskId')">{{rowData[field.columnKey]}}</span>
                                                                                </td>
                                                                            </tr>
                                                                            
                                                                        </ng-container>
                                                                    </tbody>
                                                                </table>

                       

                                                                <!-- this will only be check once we get test data to test it -->
                                                                <div *ngIf = "false" class="widget-body table-container">
                                                                    <sa-table 
                                                                    [pagination]="tableDetailTableSection[taskSection.header]['pagination']" 
                                                                    [actionButton]="tableDetailTableSection['Location Information']['actionButton']" 
                                                                    [actionColumn]="tableDetailTableSection['Location Information']['actionColumn']"
                                                                    [tableHeader]="tableDetailTableSection['Location Information']['tableHeaders']"
                                                                    [tableData]="tableDetailTableSection['Location Information']['tableData']"
                                                                    [tableOtherContent]="tableDetailTableSection['Location Information']['otherContent']"
                                                                    [filter]="tableDetailTableSection['Location Information']['filter']"
                                                                    [tablePaginationData]=""
                                                                   
                                                                    (addNewRowParent)="addNewRow($event)"
                                                                    (onSaveParent)="onSaveClick($event)"
                                                                    (pageChangedParent)="pageChanged($event)"
                                                                    (onEditParent)="onEditClick($event)"
                                                                    (onDeleteParent)="onDeleteClick($event)"
                                                                    (onCloseParent)="onCloseClick($event)"
                                                                    (paginationChangeParent)="paginationChange($event)"
                                                                    (openTabParent)="openTab($event)"
                                                                    (filterColumnParent)="filterRows()"
                                                                    (onSortParent)="onSortSelection($event)"
                                                                    (previousAll)="previousTasks()"
                                                                    (previous)="onGridPrevious()"
                                                                    (nextAll)="nextTasks()"
                                                                    (next)="onGridNext()"
                                                                    (refresh)="onRefreshTD()"
                                                                    ></sa-table>
                                                    
                                                              </div>
        
                                                                



                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </ng-container>

                                        <ng-container>
                                            <div class="col-md-12" style="padding: 0;" *ngIf="!(taskSection.sectionStyle == 'rightSideBoldHeaderTwoColumns' || taskSection.sectionStyle == 'leftSideBoldHeaderSingleColumn' || taskSection.sectionStyle == 'table' || (taskSection.header == 'Parent Info' && !parentTask))">
                                                <div class="panel panel-primary spr-panel">
                                                    <div class="panel-heading">{{taskSection.header}}</div>
                                                    <div class="panel-body" style="height: auto; min-height: auto; max-height: 191px;">
                                                        <div class="row fix-box-height" style="height: auto;min-height: auto;">
                                                            <ng-container *ngFor="let fields of taskSection.fieldsList">
                                                                <div class="col-xs-12 col-md-6 col-sm-6 col-lg-6 no-padding-right"> <!--*ngIf="fields.fieldValue"-->
                                                                    <div class="col-md-5 text-left" style="padding: 0;">
                                                                        <label class="smallkey p-0">{{fields.label}}:</label>
                                                                    </div>
                                                                    <div class="col-md-7 text-left p-0">
                                                                        <span *ngIf="taskSection.header == 'Parent Info' && fields.key == 'sourceTaskId'">
                                                                            <label class="smallvalue p-0" (click)="openTskDtls(taskSection.parentInfo);" style="color: blue; text-decoration: underline; cursor: pointer;">{{fields.fieldValue}}</label>
                                                                        </span>
                                                                        <span *ngIf="!(taskSection.header == 'Parent Info' && fields.key == 'sourceTaskId')">
                                                                            <label class="smallvalue p-0">{{fields.fieldValue}}</label>
                                                                        </span>
                                                                    </div>
                                                                </div>
                                                            </ng-container>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </ng-container>
                                    </ng-container>
                                    </div>
                                </div>
                                    <!-- ///////////////////SDWAN Layout Main Details Area End///////////////////////// -->
                            </tab>
                            <tab class="left-tab-pane" [active]="leftSideTabs.tab == 'log-details'">
                                <div id="systemtable" class="table-responsive col-md-12" *ngFor="let layoutElem of logPageLayout['pageLayoutTemplate']"
                                    style="margin-top: 12px;">
                                    <div *ngIf="layoutElem.sectionHeader == 'Log Details'">
                                    
                                        <sa-table *ngIf = "showLogs" class="col-md-12 p-0" [pagination]="pagination" [actionButton]="actionButton"
                                            [actionColumn]="actionColumn" [tableHeader]="actionColumn" [tableData]="displayTaskResult"
                                            [tableOtherContent]="LogDetailsParameter" [filter]="filter" [tablePaginationData]="tablePaginationData"
                                            (showAdditionalDetailsParent)="showAdditionalDetails($event, taskDetails)" (addNewRowParent)="addNewRow()"
                                            (onSaveParent)="onSaveClick($event)" (onEditParent)="onEditClick($event)"
                                            (onDeleteParent)="onDeleteClick($event)" (onCloseParent)="onCloseClick($event)"
                                            (openTabParent)="openDetailViewTD($event)" (expandRow)="expandRow($event)" (refresh)="onRefreshLogs()">
                                        </sa-table>
                                        <!-- </div> -->
                                        <!-- </div> -->
                                    </div>
                                </div>
                            </tab>
                            
                            <tab class="left-tab-pane" [active]="leftSideTabs.tab == 'relationship-map'">
                                <div class="comingbox"> Coming Soon...</div>
                            </tab>
                        </tabset>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
<!-- GETCWM-3680 End -->
<div *ngIf="displayWCMDetails && !authorizedLMOSUser" class="errorMessage">
    {{errorMessage}}, Please click <a target="_blank" href="https://audio.level3.com/new/request.asp?platid=5232"><b>here</b></a>
    to request access using Audio.
</div>
