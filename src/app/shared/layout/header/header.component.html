<div *ngIf="tskDtlsloader" class="task_loader">
  <!-- <img src="assets/img/Ellipsis-1s-200px.svg" width="125px" alt="task" /> -->
  <div class="spinner">
      <div class="bounce1"></div>
      <div class="bounce2"></div>
      <div class="bounce3"></div>
  </div>
</div>
<header id="header" [ngClass]="[hideSearch? 'hidesearch':'showsearch']">
  <div id="logo-group">
    <!-- PLACE YOUR LOGO HERE -->
    <span id="logo" class="margin-top-0">
      <!-- <img style="padding: 0px !important;margin-top: 4%;" [src]="topNavigationData.topNavigation.applicationLogoUrl" alt="SmartAdmin" class="padding-10"> -->
      <a class="a-brand logo__svg logo-img-div" href="#" aria-label="CenturyLink">
        <!-- <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 204 41">
            <path [attr.fill]="logoType" d="M18.634.03c-2.406.214-4.692.841-6.791 1.817l6.791 11.758V.03"/><path [attr.fill]="logoType" d="M8.639 3.7C6.712 5.055 5.028 6.744 3.67 8.669l11.758 6.786L8.639 3.7"/><path [attr.fill]="logoType" d="M1.814 11.873C.844 13.967.216 16.257 0 18.662h13.578L1.814 11.873M0 22.363c.218 2.412.844 4.696 1.814 6.787l11.764-6.787H0"/><path [attr.fill]="logoType" d="M3.67 32.358c1.358 1.925 3.042 3.611 4.969 4.971l6.789-11.759L3.67 32.358m8.173 6.823c2.099.973 4.385 1.604 6.791 1.819V27.422l-6.791 11.759"/><path [attr.fill]="logoType" d="M22.335 41c2.407-.215 4.69-.846 6.789-1.819l-6.789-11.759V41"/><path [attr.fill]="logoType" d="M32.33 37.329c1.928-1.36 3.612-3.046 4.97-4.971L25.542 25.57l6.788 11.759"/><path [attr.fill]="logoType" d="M27.393 22.363l11.761 6.787c.972-2.091 1.599-4.375 1.815-6.787H27.393m13.576-3.701c-.218-2.405-.845-4.695-1.815-6.789l-11.761 6.789h13.576"/><path [attr.fill]="logoType" d="M32.331 3.7l-6.787 11.755L37.3 8.669c-1.358-1.925-3.042-3.614-4.969-4.969zm-3.207-1.853C27.025.871 24.742.245 22.335.03v13.575l6.789-11.758"/><path [attr.fill]="logoType" d="M136.016 12.141l.05.046 3.87-5.513h4.365l-4.523 5.75 4.81 7.525h-4.573l-3.949-7.185-.05.052v7.133h-3.919V1.074h3.919v11.067m-16.371-3.797l.051.08c.814-1.205 2.041-1.987 4.028-1.987 1.305 0 3.843.963 4.312 2.876.21.809.265 1.648.265 2.092v8.544h-3.924v-7.89c-.023-1.414-.419-3.005-2.353-3.005-1.23 0-2.3 1.097-2.353 3.005v7.89h-3.92V6.829h3.894v1.515M108.068 19.95h3.923V6.829h-3.923V19.95zm-.13-15.501h4.184V1.074h-4.184v3.375zm-14.56 15.5V1.074h4.054v15.742h8.181v3.133H93.378m-9.572 5.025h-2.541l1.989-5.074-5.462-13.071h2.766l4.107 10.353 4.189-10.353h2.663l-7.711 18.145m-12.105-5.025h-2.484V6.829h2.484v2.533h.055c.366-1.802 2.035-2.717 3.841-2.717.313 0 .577.029.861.029v2.351c-.338-.128-.731-.128-1.07-.128-3.139.102-3.687 1.775-3.687 4.548v6.504m-8.285-13.12h2.481v13.12h-2.428V18.02h-.053c-.994 1.642-2.668 2.323-4.497 2.323-2.746 0-4.316-2.086-4.316-4.731V6.829h2.486v7.763c0 2.277.521 3.948 2.901 3.948 1.019 0 2.403-.52 2.931-1.883.468-1.225.495-2.767.495-3.083V6.829m-16.434-.004V4.033l2.484-.786v3.578h3.033v1.802h-3.033v8.426c0 .937.732 1.382 1.623 1.382.39 0 .912-.051 1.303-.154v1.907c-.571.029-1.124.155-1.694.155-.602 0-1.076-.024-1.674-.126-.393-.079-1.05-.287-1.464-.865-.447-.627-.578-.678-.578-2.43V8.627h-2.246V6.825h2.246M34.059 8.763h.051c.839-1.649 2.668-2.326 3.974-2.326.915 0 4.971.237 4.971 4.446v9.066h-2.486v-8.26c0-2.17-.913-3.345-3.01-3.345 0 0-1.357-.079-2.403.969-.365.362-1.046.942-1.046 3.503v7.133h-2.485V6.829h2.434v1.934m-7.591 3.378c.051-2.202-.945-3.902-3.349-3.902-2.066 0-3.294 1.751-3.294 3.902h6.643zm-6.643 1.719c-.181 2.304.761 4.68 3.294 4.68 1.935 0 2.901-.755 3.193-2.664h2.613c-.394 2.979-2.692 4.467-5.83 4.467-4.209 0-5.882-2.976-5.882-6.846 0-3.843 1.932-7.06 6.089-7.06 3.923.077 5.778 2.562 5.778 6.192v1.231h-9.255zm-7.262-7.921c-.131-1.806-2.066-3.009-4.001-3.009-4.658 0-5.521 4.263-5.521 7.588 0 3.896 1.181 7.578 5.287 7.578 2.008 0 3.841-.994 4.153-3.003h2.747c-.261 3.164-3.453 5.25-7.136 5.25-5.57 0-7.79-4.545-7.79-9.825C.302 5.889 2.337.501 8.663.683c3.633.106 6.357 1.884 6.642 5.256h-2.742" transform="translate(52 10)"/>
          </svg> -->
      </a>
      <sa-collapse-menu [toggleLeftNavigationIcon]="topNavigationData.topNavigation.toggleLeftNavigationIcon" (CollapsMenuIcon)="HideShowLogoIcon($event)"></sa-collapse-menu>
    </span>
    <!-- END LOGO PLACEHOLDER -->

    <!-- Note: The activity badge color changes when clicked and resets the number to 0
    Suggestion: You may want to set a flag when this happens to tick off all checked messages / notifications -->
    <!--  <sa-activities></sa-activities> -->
  </div>

  <!--  <sa-recent-projects></sa-recent-projects> -->

  <!-- input: search field -->
  <!-- <form name="form" class="header-search" (ngSubmit)="searchForm.form.valid && onSearchBtn(searchForm)" #searchForm="ngForm"
    novalidate> -->
  <form name="form" class="header-search" #searchForm="ngForm" novalidate>
    <!-- <form #searchForm="ngForm" (ngSubmit)="searchForm.form.valid && onSubmit(searchFieldForm)" class="header-search"> -->
    <select class="form-control srch-type-lst" id="sel1" name="sel1" (change)="solrChanged()" [(ngModel)]="solrAccessPoint" *ngIf="globalSearches.length>1">
      <option value="" *ngIf="globalSearches.length>1"></option>
      <option *ngFor="let globalSearch of globalSearches;" [value]="globalSearch.accessPoint">{{globalSearch.displayName}}</option>
    </select>
    <input *ngIf="!hideSolrSearchElement" [ngStyle]="{'width': globalSearches.length<=1 ? '100%': 'calc(100% - 170px)'}" id="search-fld" type="text" [matAutocomplete]="auto" name="param" required
      [placeholder]="topNavigationData.topNavigation.globalSearchFilter.searchPlaceholder" [(ngModel)]="solrSearchStr"
      (keyup)="solrSearch()">
    <mat-autocomplete #auto="matAutocomplete">
      <mat-option *ngFor="let option of searchResults;" (onSelectionChange)="goToResuts(option)" [value]="option.source_task_id">
        <p class="m-0">{{option.source_task_id}}</p>
        <span class="option-dtls">ID: {{option.id}} &nbsp;</span>
        <span class="option-dtls">Task Name: {{option.task_name}} &nbsp;</span>
        <span class="option-dtls">Source System Name: {{option.source_system_name}} </span>
      </mat-option>
    </mat-autocomplete>
    <button *ngIf="!hideSolrSearchElement" type="submit" [ngStyle]="{'left': globalSearches.length<=1 ? '0px' : '170px'}"
      (click)="showSearch()">
      <i [class]="topNavigationData.topNavigation.globalSearchFilter?topNavigationData.topNavigation.globalSearchFilter.searchIcon:''"></i>
    </button>
    <!-- <div class="search-cross-icon" (click)="onCrossIcon()">
      <span [class]="topNavigationData.topNavigation.globalSearchFilter.removeSearchTextIcon"></span>
    </div> -->
    <!-- <div *ngIf="!hideSolrSearchElement" class="arrow-box" (click)="openSearchModal($event)">
      <div class="arrow-down" [ngClass]="openModal"></div>
    </div> -->
    <div class="search-modal" [ngClass]="openModal" (click)="$event.stopPropagation()">
      <form #searchFieldForm="ngForm" (ngSubmit)="searchFieldForm.form.valid && onSearchBtn(searchFieldForm)">
        <div class="error_msg" style="color:red; text-align:center;">{{errorMsg}}</div>
        <div class="widget-body">
          <div class="form-group" *ngFor=" let value of pageLayoutTemplate; let i = index;">
            <div class="row" *ngIf="value.type != 'button' && value.type != 'submit'">
              <ng-container *ngIf="value.fieldName != 'toDate' && value.fieldName != 'fromDate'">
                <div class="col-sm-3">
                  <label class="search-label">{{value.label}}</label>
                </div>
                <div class="col-sm-9" *ngIf="value.type == 'select'">
                  <div class="smart-form input-text">
                    <select class="form-control custom-scroll d-block w-100 input-text" name="fieldName_i" #fieldName_i="ngModel"
                      [(ngModel)]="searchDynamic[value.fieldName]" (change)="getAllTaskName($event, i, value)">
                      <option *ngFor="let source of value.ListOfValues;" [value]="source">
                        {{source}}</option>
                    </select>
                  </div>
                </div>
                <div class="col-sm-9" *ngIf="value.type == 'inputtext'">
                  <div class="smart-form input-text">
                    <input type="text" class="form-control" placeholder="" name="appId" [(ngModel)]="searchDynamic[value.fieldName]"
                      #appId="ngModel" [ngClass]="{ 'was-validated': searchForm.submitted && appId.invalid }">
                  </div>
                </div>
              </ng-container>
              <ng-container *ngIf="value.fieldName == 'toDate' || value.fieldName == 'fromDate'">

                <div class="col-sm-3">
                  <label class="search-label">{{value.label}}</label>
                </div>
                <div class="col-sm-9">
                  <div class="smart-form example-full-width" style="padding: 0px; margin-left: 0px;">
                    <section>
                      <label class="input input-text"> <i class="icon-append fa fa-calendar"></i>
                        <div class="input-group">
                          <ng-container *ngIf="value.fieldName == 'fromDate'">
                            <input class="form-control" id="from" [saUiDatepicker]="{
                                      dateFormat: 'yy-mm-dd',
                                      defaultDate: '+3w',
                                      changesMonth: true,
                                      numberOfMonth: 3
                                   }"
                              type="text" [placeholder]="value.placeholder">
                          </ng-container>
                          <ng-container *ngIf="value.fieldName == 'toDate'">
                            <input class="form-control" id="to" [saUiDatepicker]="{
                                      dateFormat: 'yy-mm-dd',
                                      defaultDate: '+3w',
                                      changesMonth: true,
                                      numberOfMonth: 3
                                   }"
                              type="text" [placeholder]="value.placeholder">
                          </ng-container>
                          <span class="input-group-addon"><i class="fa fa-calendar"></i></span>
                        </div>
                      </label>
                    </section>
                  </div>
                </div>
              </ng-container>
            </div>
          </div>
        </div>
        <div class="search-button-box">
          <div *ngFor=" let value of pageLayoutButton; let i = index;">
            <button [type]="value.type" (click)="resetfn(searchForm,value.type)" [ngClass]="value.class" *ngIf="value.type == 'button' || value.type == 'submit'">{{value.fieldName}}</button>
          </div>
        </div>
        <!-- <div class="widget-body">
          <div class="form-group">
            <div class="row">
              <div class="col-sm-3">
                <label class="search-label">Source System</label>
                <input type="text" class="form-control" placeholder=".col-sm-3">
              </div>
              <div class="col-sm-9">
                <div class="smart-form input-text">
                  <select class="form-control custom-scroll d-block w-100 input-text"
                  name="objsourceSystem" #objsourceSystem="ngModel"
                  [(ngModel)]="searchDynamic['sourceSystem']" (change)="getAllTaskName($event)">
                      <option *ngFor="let source of sourceSystem;" [value]="source">
                        {{source}}</option>
                  </select>
                </div>
              </div>
            </div>
          </div>
          <div class="form-group">
            <div class="row">
              <div class="col-sm-3">
                <label class="search-label">Task Name</label>
              </div>
              <div class="col-sm-9">
                  <select class="form-control custom-scroll d-block w-100 input-text"
                  name="taskName" #taskName="ngModel"
                  [(ngModel)]="searchDynamic['taskName']">
                  <option value = "select">SELECT</option>
                      <option *ngFor="let taskName of allTaskNames;" [value]="taskName">
                        {{taskName}}</option>
                  </select>
              </div>
            </div>
          </div>
          <div class="form-group" *ngIf="openModal">
            <div class="row">
              <div class="col-sm-3">
                <label class="search-label">From Date</label>
              </div>
              <div class="col-sm-3">
                <div class="smart-form example-full-width" style="padding: 0px; margin-left: 0px;">
                  <section>
                    <label class="input input-text"> <i class="icon-append fa fa-calendar"></i>
                          <div class="input-group">
                            <input class="form-control" id="from"  [saUiDatepicker]="{
                                      dateFormat: 'yy-mm-dd',
                                      defaultDate: '+1w',
                                      changesMonth: true,
                                      numberOfMonth: 3,
                                      minRestrict: '#to'
                                   }"
                                   [(ngModel)]="searchDynamic['fromDate']"
                                   name="fromtodate" 
                       #fromtodate="ngModel"
                                type="text" placeholder="From">
                            <span class="input-group-addon"><i class="fa fa-calendar"></i></span>
                          </div>                      
                    </label>
                  </section>
                </div>
              </div>
              <div class="col-sm-3">
                <label class="search-label" style="float: right">To Date</label>
              </div>
              <div class="col-sm-3">
                <div class="smart-form example-full-width" style="padding: 0px; margin-left: 0px;">
                  <section>
                    <label class="input input-text"> <i class="icon-append fa fa-calendar"></i>
                          <div class="input-group">
                            <input class="form-control" id="to" [saUiDatepicker]="{
                                      dateFormat: 'yy-mm-dd',
                                      defaultDate: '+3w',
                                      changesMonth: true,
                                      numberOfMonth: 3,
                                      maxRestrict: '#from'
                                   }"
                                   [(ngModel)]="searchDynamic['toDate']"
                                   name="todate" #todate="ngModel"
                                   type="text" placeholder="Select a date">
                            <span class="input-group-addon"><i class="fa fa-calendar"></i></span>
                          </div>
                      </label>
                  </section>
                </div>
              </div>
            </div>
          </div>
          <div class="form-group" *ngIf="openModal">
            <div class="row">
              <div class="col-sm-3">
                <label class="search-label">App Transaction Id</label>
                <input type="text" class="form-control" placeholder=".col-sm-3">
              </div>
              <div class="col-sm-9">
                <div class="smart-form input-text">
                  <input type="text" class="form-control" placeholder="" name="appId"
                  [(ngModel)]="searchDynamic['appTransactionID']" #appId="ngModel"
                  [ngClass]="{ 'was-validated': searchForm.submitted && appId.invalid }">
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="search-button-box">
          <div>
            <button type="submit" class="search-btn">Search</button>
          </div>
          <div>
          <button type="button" class="search-btn reset-bgclr" (click)="resetfn(searchForm);">Reset</button>
          </div>
        </div> -->
      </form>
      <div class="search_loader" *ngIf="searchLoader">
        <div class="search_loader_img">
          <!-- <img src="assets/img/Ellipsis-1s-200px.svg" width="125px" alt="task" /> -->
          <div class="spinner">
              <div class="bounce1"></div>
              <div class="bounce2"></div>
              <div class="bounce3"></div>
          </div>
          <!-- <img src="assets/img/search_loader.svg" alt="search loader" width="125px"> -->
        </div>
      </div>
    </div>
    <!-- <a id="cancel-search-js" (click)="toggleSearchMobile()" title="Cancel Search"><i class="fa fa-times"></i></a> -->
  </form>
  <!-- end input: search field -->

  <!-- pulled right: nav area -->
  <div class="pull-right">

    <!-- #MOBILE -->
    <!-- Top menu profile link : this shows only when top menu is active -->
    <ul id="mobile-profile-img" class="header-dropdown-list hidden-xs padding-5">
      <li class="">
        <a href="#" class="dropdown-toggle no-margin userdropdown" data-toggle="dropdown">
          <img src="assets/img/avatars/sunny.png" alt="John Doe" class="online" />
        </a>
        <ul class="dropdown-menu pull-right">
          <li>
            <a (click)="(null)" class="padding-10 padding-top-0 padding-bottom-0"><i class="fa fa-cog "></i> Setting</a>
          </li>
          <li class="divider"></li>
          <li>
            <a routerLink="/app-views/profile" class="padding-10 padding-top-0 padding-bottom-0"> <i class="fa fa-user "></i>
              <u>P</u>rofile</a>
          </li>
          <li class="divider"></li>
          <li>
            <a (click)="(null)" class="padding-10 padding-top-0 padding-bottom-0" data-action="toggleShortcut"><i class="fa fa-arrow-down"></i>
              <u>S</u>hortcut</a>
          </li>
          <li class="divider"></li>
          <li>
            <a (click)="(null)" class="padding-10 padding-top-0 padding-bottom-0" data-action="launchFullscreen"><i
                class="fa fa-arrows-alt"></i> Full <u>S</u>creen</a>
          </li>
          <li class="divider"></li>
          <li>
            <a routerLink="/auth/login" class="padding-10 padding-top-5 padding-bottom-5" data-action="userLogout"><i
                [class]="topNavigationData.topNavigation.logoutMenuIcon"></i> <strong><u>L</u>ogout</strong></a>
          </li>
        </ul>
      </li>
    </ul>

    <!-- logout button -->
    <sa-logout [signOutIcon]="topNavigationData.topNavigation.signOutIcon"></sa-logout>
    <!-- end logout button -->

    <!-- search mobile button (this is hidden till mobile view port) -->
    <div id="search-mobile" class="btn-header transparent pull-right">
      <span> <a (click)="toggleSearchMobile()" title="Search"><i class="fa fa-search"></i></a> </span>
    </div>
    <!-- end search mobile button -->

    <!-- fullscreen button -->
    <sa-full-screen [fullScreenIcon]="topNavigationData.topNavigation.fullScreenIcon"></sa-full-screen>
    <!-- end fullscreen button -->

    <!--Prifile Icon-->
    <sa-profile-menu></sa-profile-menu>

    <!-- #Voice Command: Start Speech -->
    <sa-speech-button></sa-speech-button>
    <!-- end voice command -->
    <!-- <div id="profile" class="btn-header transparent pull-right">
        <span> <a (click)="launchAdministrationTab()" title="Administration"><i class="fa fa-users"></i></a>
        </span>
      </div> -->
    <!-- <div id="profile" class="btn-header transparent pull-right">
      <span> <a title="Flight Deck Apps"><i class="fa fa-th"></i></a>
      </span>
    </div> -->
    <!-- Manage Profile/Profile Settings section start here-->
    <div id="profileuser" class="btn-header transparent pull-right dropdown" dropdown>
      <span class="project-selector dropdown-toggle" dropdownToggle> <a [title]="topNavigationData.topNavigation.title"><i
            [class]="topNavigationData.topNavigation.myProfileMenuIcon"></i></a>
      </span>
      <ul *dropdownMenu class="dropdown-menu">
        <li [ngClass] = "{'dropdown-submenu left-submenu': childMenu.label == 'Rule Engine' || childMenu.label == 'Manage Notification'}" *ngFor="let childMenu of topNavigationData.topNavigation.myProfileSubMenu; let i = index">
          <a [routerLink]="childMenu.routerLink" (click)="openTab(childMenu.componentString,childMenu.title,childMenu.url);">
            <i [class]="childMenu.subMenuIcon" style="padding-right: 5px;"></i> {{childMenu.label}}
            <ul class="dropdown-menu">
              <li *ngFor="let child of childMenu.childElement">
                <a [routerLink] = "child.routerLink" (click)="openTab(child.componentString,child.title,child.url);">
                    <i [class]="child.subMenuIcon" style="padding-right: 5px;"></i>{{child.label}}</a></li>
             
            </ul>
          </a>
        </li>
        <!-- <li>
            <a routerLink="/manager-user" (click)="openTab('ManageUserComponent', 'Manage User', 'ManageUser');">
              <i class="fa fa-users" style="padding-right: 5px;"></i> {{'Manage User' | i18n}}  
            </a>
        </li>
        <li>
          <a routerLink="/manage-workgroup" (click)="openTab('ManageWorkgroupComponent', 'Manage Workgroups', 'manageWorkgroups');">
            <i class="fa fa-sitemap" style="padding-right: 5px;"></i> Manage Workgroups</a>
        </li>
        <li>
          <a routerLink="/my-application" (click)="openTab('ManageApplicationComponent', 'Manage Application', 'manageApplications');">
            <i class="fa fa-sitemap" style="padding-right: 5px;"></i>Manage Applications</a>
        </li>
        <li>
          <a routerLink="/my-application" (click)="openTab('ManageSkillComponent', 'Manage Skills', 'manageSkills');">
            <i class="fa fa-sitemap" style="padding-right: 5px;"></i> Manage Skills</a>
        </li>
        <li>
            <a routerLink="/manage-theme" (click)="openTab('ThemeBuilderComponent', 'Manage Theme', 'ManageTheme');">
              <i class="fa fa-cog" style="padding-right: 5px;"></i> {{'Manage Theme' | i18n}}  
            </a>
        </li>
        <li>
          <a routerLink="/myprifile" (click)="openTab('SystemParametersComponent', 'System Parameters', 'systemParameters');">
             <i class="fa fa-user" style="padding-right: 5px;"></i> {{'System Parameters' | i18n}}  
          </a>
      </li>        -->
      </ul>
    </div>
    <!-- Manage Profile/Profile Settings section end here-->


    <!-- multiple lang dropdown : find all flags in the flags page -->
    <!--  <sa-language-selector></sa-language-selector> -->
    <!-- end multiple lang -->

  </div>
  <!-- end pulled right: nav area -->

</header>